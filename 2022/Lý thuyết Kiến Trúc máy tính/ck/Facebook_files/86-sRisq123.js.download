;/*FB_PKG_DELIM*/

__d("CometAlbumUploadItemPhotoBackdateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6456388654457864"}),null);
__d("CometAlbumUploadItemPhotoBackdateQuery.graphql",["CometAlbumUploadItemPhotoBackdateQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAlbumUploadItemPhotoBackdateQuery",selections:[{alias:null,args:c,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometPhotoBackdateButton_photo"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAlbumUploadItemPhotoBackdateQuery",selections:[{alias:null,args:c,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[{alias:null,args:null,concreteType:"BackdatedTime",kind:"LinkedField",name:"individual_backdated_time",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_backdate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("CometAlbumUploadItemPhotoBackdateQuery_facebookRelayOperation"),metadata:{},name:"CometAlbumUploadItemPhotoBackdateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometLocalVideoFileThumbnailSuspense.react",["CometBackgroundImage.react","Promise","generateVideoThumbnails","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var d=a.file,e=a.height,f=e===void 0?100:e;e=a.renderer;a=a.width;var g=a===void 0?100:a;a=i.getFromCache(d,g,f);if((a==null?void 0:a.error)!=null)throw a.error;else if((a==null?void 0:a.src)!=null&&a.src!=="")return e?e(a.src):h.jsx(c("CometBackgroundImage.react"),{alt:d.name,src:a.src});else{var j=document.body;if(j){var k=document.createElement("video");throw new(b("Promise"))(function(a){k.setAttribute("style","display: none"),k.setAttribute("src",URL.createObjectURL(d)),k.addEventListener("loadedmetadata",function(){k.duration===Infinity?(k.currentTime=Number.MAX_SAFE_INTEGER,k.ontimeupdate=function(){k.ontimeupdate=null,k.currentTime=0,a(c("generateVideoThumbnails")(k,g,f,1))}):a(c("generateVideoThumbnails")(k,g,f,1))}),j.appendChild(k)}).then(function(a){i.cache[g+"x"+f+"/"+d.name+"/"+d.lastModified]={src:a.thumbnails[0].getURL()}})["catch"](function(a){a=new Error("Video metadata could not be read.");i.cache[g+"x"+f+"/"+d.name+"/"+d.lastModified]={error:a};c("recoverableViolation")(a.message,"video");throw a})["finally"](function(){j.removeChild(k)})}}}i.displayName=i.name+" [from "+f.id+"]";i.cache={};i.getFromCache=function(a,b,c){return i.cache[b+"x"+c+"/"+a.name+"/"+a.lastModified]};g["default"]=i}),98);
__d("CometMediaEditorTagComposerFocusHandler.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react").forwardRef;function a(a,b){var c=a.children,d=a.setInputFocused,e=a.setShowLoadingIndicator,f=a.setTypeaheadPressed,g=a.typeaheadPressed;return h.jsx("div",{className:"x1jx94hy xzg4506 xycxndf xua58t2 x4xrfw5 x1lq5wgf xgqcy7u x30kzoy x9jhf4c x78zum5 xdt5ytf x1qughib x1gslohp xw3qccf x12nagc xsgj6o6 x256u9z x1iorvi4 x150jy0e xjkvuk6 x1e558r4",onBlur:function(){g||d(!1),e(!1)},onFocus:function(){d(!0)},onMouseDown:function(){f(!0)},onMouseUp:function(){f(!1)},ref:b,children:c})}a.displayName=a.name+" [from "+f.id+"]";c=b(a);g["default"]=c}),98);
__d("CometMediaEditorTagComposer.react",["fbt","ix","BaseContextualLayerOrientationContext","CometInputWithCommands.react","CometMediaEditorTagComposerFocusHandler.react","CometMediaViewerMentionsTypeaheadContextualLayer.react","CometMediaViewerMentionsTypeaheadListItem.react","CometMentionsA11yContext","CometTextInputWithIcon.react","cometPushToast","emptyFunction","fbicon","react","recoverableViolation","unrecoverableViolation","useCometMediaViewerMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");e=b.forwardRef;var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useLayoutEffect,o=b.useMemo,p=b.useRef,q=b.useState;function a(a,b){var e=a.addTag,f=a.existingTags,g=a.height,r=a.onSubmitted,s=a.repositionDropdown,t=a.width,u=a.xPos,v=a.yPos;a=q(!1);var w=a[0],x=a[1];a=q(!1);var y=a[0],z=a[1];a=q(!1);var A=a[0],B=a[1];a=q(!0);var C=a[0];a=a[1];var D=l(c("CometMentionsA11yContext")),E=D||c("emptyFunction");D==null&&c("recoverableViolation")("a11y context is not available","comet_ax");var F=p(null),G=p(null);D=l(c("BaseContextualLayerOrientationContext"));var H=D.position,I=p(H);n(function(){I.current=H},[H]);m(function(){if(F!=null){var a=F.current;a!=null&&a.focus()}},[F]);D=q("");var J=D[0],K=D[1];D=k(function(){return F.current},[F]);var L=D();D=k(function(a){K(a.target.value),s&&s()},[s]);var M=k(function(a){a={source:"manual",taggee:a,x:u/t*100,y:v/g*100};e(a);x(!0);r!=null&&r()},[u,t,v,g,e,r]),N=L!=null&&y,O=o(function(){return{description:h._("__JHASH__PUDYHkv2LkA__JHASH__"),handler:function(){L&&L.blur()}}},[L]),P=o(function(){return!N?void 0:{description:h._("__JHASH__1rmS3rjS1gy__JHASH__"),handler:function(){var a=G.current;a&&a.moveUp()}}},[N]),Q=o(function(){return!N?void 0:{description:h._("__JHASH__QAJhEWFYsd0__JHASH__"),handler:function(){var a=G.current;a&&a.moveDown()}}},[N]),R=o(function(){return!N?void 0:{description:h._("__JHASH__nAtIplJ-Xqx__JHASH__"),handler:function(){var a=G.current;a!=null&&a.hasSelection()&&a.select()}}},[N]),S=o(function(){return{description:h._("__JHASH__nAtIplJ-Xqx__JHASH__"),handler:function(){var a=G.current;if(a==null){!w&&J!=null&&J.length!==0&&M({name:J});return}if(a.hasSelection())a&&a.select();else if(!w&&J!=null&&J.length!==0){if(((a=f)!=null?a:[]).includes(J)){d("cometPushToast").cometPushSimpleToast(h._("__JHASH__HsyMoVUcMH8__JHASH__"),4e3);return}M({name:J})}}}},[f,M,w,J]),T=k(function(a){if(!w){var b;if(((b=f)!=null?b:[]).map(function(a){return(a=a.taggee)==null?void 0:a.id}).includes(a.key)){d("cometPushToast").cometPushSimpleToast(h._("__JHASH__HsyMoVUcMH8__JHASH__"),4e3);return}b=a.key;var c=a.label;a=a.rawData;var e=null;a.type==="MENTION_SEARCH_RESULT"&&(e=a.photoURI);M({id:b,image_uri:e,name:c})}z(!1);B(!1);K("")},[f,M,w]),U=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("CometMediaViewerMentionsTypeaheadListItem.react")}),V=c("useCometMediaViewerMentionsDataSourceResolverConfig")("");V=V.resolver;V=V(J);var W=V.dataSource;V=V.searchResult;if(W==null)throw c("unrecoverableViolation")("CometMediaEditorTagComposer strategy resolver returned no dataSource","comet_composer");if(W==null||V==null)throw c("unrecoverableViolation")("CometMediaViewerTagComposer strategy resolver returned no dataSource","comet_ui");var X=I.current;y=L!=null&&y?j.jsx(c("CometMediaViewerMentionsTypeaheadContextualLayer.react"),{ariaProps:{role:"listbox"},dataSource:W,onAriaChange:E,onResultsLoaded:s,onSelectedEntry:T,query:V.matchingString,ref:G,showLoadingIndicator:X!==H?!1:C,viewStrategyRenderer:U},"mentions-typehaead"):null;return j.jsxs(c("CometMediaEditorTagComposerFocusHandler.react"),{ref:b,setInputFocused:z,setShowLoadingIndicator:a,setTypeaheadPressed:B,typeaheadPressed:A,children:[H==="above"?y:null,j.jsx(c("CometInputWithCommands.react"),{down:Q,enter:S,esc:O,tab:R,up:P,children:j.jsx(c("CometTextInputWithIcon.react"),{autoComplete:"off",disabled:w,icon:d("fbicon")._(i("491282"),16),iconColor:"tertiary",label:h._("__JHASH__aQnjyK9qQxF__JHASH__"),onChange:D,placeholder:h._("__JHASH__xOA4hQ8Zvwf__JHASH__"),ref:F,type:"text",value:J})}),H==="below"?y:null]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("CometAlbumUploadItemAttachmentDescription.react",["fbt","CometFormTextArea.react","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b,d=a.attachment,e=a.mediaIndex,f=c("useComposerViewStateDispatcher")();a=d.state;a=a!=="PREEXISTING"&&a!=="UPLOADED";b=(d.state==="PREEXISTING"||d.state==="UPLOADED")&&(d.fileType==="PHOTO"||d.fileType==="VIDEO")?(b=d.data)==null?void 0:(b=b.message)==null?void 0:b.text:null;var g=j(function(a){if(d.fileType==="PHOTO"&&d.state==="UPLOADED"){var b=babelHelpers["extends"]({},d.data,{message:{text:a}});f({index:e,media:babelHelpers["extends"]({},d,{data:b}),type:"SAVE_MEDIA_EDITS"})}else if(d.fileType==="VIDEO"&&d.state==="UPLOADED"){b=babelHelpers["extends"]({},d.data,{message:{text:a}});f({index:e,media:babelHelpers["extends"]({},d,{data:b}),type:"SAVE_MEDIA_EDITS"})}},[d,f,e]);return i.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",draggable:!1,children:i.jsx(c("CometFormTextArea.react"),{disabled:a,label:h._("__JHASH__5vdpk7MUDm7__JHASH__"),minRows:2,onValueChange:g,value:(a=b)!=null?a:""})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentLocation.react",["fbt","ix","CometPhotoAlbumGridItemUIAction.react","CometTooltip.react","JSResourceForInteraction","TetraIcon.react","composerMediaAttachmentReducer","fbicon","react","useCometLazyDialog","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("CometPhotoAlbumLocationDialog.react").__setRef("CometAlbumUploadItemAttachmentLocation.react");function a(a){var b=a.attachment,e=a.mediaIndex;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var f=c("useComposerViewStateDispatcher")(),g=b.locationTag,m=g==null?void 0:g.placeID;a=c("useCometLazyDialog")(l);var n=a[0],o=k(function(a,c){if(a==null)return;var d=a.label;a=a.rawData;var g=a.id;a=babelHelpers.objectWithoutPropertiesLoose(a,["id"]);a=babelHelpers["extends"]({},a,{name:d,placeID:g,showAttachment:!1});g===m?f({index:e,media:babelHelpers["extends"]({},b,{locationTag:null}),type:"SAVE_MEDIA_EDITS"}):f({index:e,media:babelHelpers["extends"]({},b,{locationTag:a}),type:"SAVE_MEDIA_EDITS"});c&&c()},[b,f,e,m]);a=k(function(){n({locationTag:g,onPressEntry:o,placeID:m})},[o,g,m,n]);var p=g!=null;return j.jsx(c("CometTooltip.react"),{tooltip:g!=null?g.name:void 0,children:j.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":p?h._("__JHASH__ns7A0PoirDl__JHASH__"):h._("__JHASH__0wgkpxTL1lC__JHASH__"),onPress:a,children:j.jsx(c("TetraIcon.react"),{color:p?"highlight":"primary",icon:d("fbicon")._(i("481941"),16)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentTags.react",["fbt","ix","CometPhotoAlbumGridItemUIAction.react","CometPhotoAlbumGridItemUIActionIcon.react","JSResourceForInteraction","fbicon","react","useCometLazyDialog","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("CometPhotoAlbumTagsDialog.react").__setRef("CometAlbumUploadItemAttachmentTags.react");function a(a){var b=a.attachment,e=a.mediaIndex,f=c("useComposerViewStateDispatcher")(),g=b.data,m=b.data.tags;a=((a=m)!=null?a:[]).length;var n=c("useCometLazyDialog")(l),o=n[0],p=k(function(a){f({index:e,media:babelHelpers["extends"]({},b,{data:babelHelpers["extends"]({},g,{tags:a})}),type:"SAVE_MEDIA_EDITS"})},[b,g,f,e]);n=k(function(){o({onChange:p,tags:m})},[p,o,m]);return j.jsx(c("CometPhotoAlbumGridItemUIAction.react"),{"aria-label":h._("__JHASH__GiwPq8HiLmk__JHASH__"),disabled:a===0,onPress:n,children:j.jsx(c("CometPhotoAlbumGridItemUIActionIcon.react"),{count:a,icon:d("fbicon")._(i("502471"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentPhotoTagger.react",["fbt","CometImage.react","CometMediaEditorTagComposer.react","CometPhotoAlbumGridItemBeingTaggedContext.react","CometPhotoEditorTagContextualRectangle.react","CometPhotoTaggingConstants","CometPressable.react","CometTooltip.react","react","useCometPhotoTag","useContextualTagBoxReposition"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useRef,l={image:{height:"xt7dq6l",maxHeight:"xmz0i5r",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageContainer:{display:"x78zum5",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",position:"x1n2onr6",$$css:!0}};function a(a){var b,e=a.alt,f=a.height,g=a.imageURL,m=a.loading,n=a.onApplyTag,o=a.onError,p=a.tags,q=a.width,r=k(null);a=k(null);var s=k(null),t=d("CometPhotoAlbumGridItemBeingTaggedContext.react").useCometPhotoAlbumGridItemBeingTagged(),u=t[0],v=t[1];t=j(function(){if(r instanceof HTMLImageElement){var a=r.height,b=r.width;if(f==null||q==null||f===0||q===0)return 1;b=Math.min(q,b)/q;a=Math.min(f,a)/f;return Math.min(a,b)}return 1},[f,r,q]);u=c("useCometPhotoTag")({containerRef:s,imageRef:r,isEnabled:u===g,renderScale:t,tagBoxSize:d("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,taggerRef:a});var w=u.onClear,x=u.onTrigger;t=u.photoPosition;u=u.tagBoxSize;var y=t!=null,z=function(a){v(g),x(a)},A=c("useContextualTagBoxReposition")(),B=A.ref;A=A.reposition;var C=h._("__JHASH__dwiQFJln6MM__JHASH__"),D=function(a){n(a),w()};b=(b=t)!=null?b:{};var E=b.offsetX,F=b.offsetY,G=b.xPos;b=b.yPos;E=G+E;F=b+F;return i.jsx(c("CometTooltip.react"),{align:"middle",position:"above",tooltip:y?null:C,children:i.jsxs(c("CometPressable.react"),{"aria-label":C,disabled:y,onPress:z,ref:s,testid:void 0,xstyle:l.imageContainer,children:[i.jsx(c("CometImage.react"),{alt:e,draggable:!1,loading:m,onError:o,ref:r,src:g,xstyle:l.image}),t!=null&&i.jsx(c("CometPhotoEditorTagContextualRectangle.react"),{onPress:w,ref:B,tagBoxHeight:u,tagBoxWidth:u,xPos:E,yPos:F,children:i.jsx(c("CometMediaEditorTagComposer.react"),{addTag:D,existingTags:p,height:t.imageHeight,ref:a,repositionDropdown:A,width:t.imageWidth,xPos:G,yPos:b})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadPreview.react",["CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={image:{height:"xt7dq6l",maxHeight:"xmz0i5r",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageContainer:{display:"x78zum5",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",position:"x1n2onr6",$$css:!0}};function a(a){var b=a.alt,d=a.imageURL,e=a.loading;a=a.onError;return h.jsx("div",{className:"x78zum5 xl56j7k xmz0i5r x1n2onr6",children:h.jsx(c("CometImage.react"),{alt:b,draggable:!1,loading:e,onError:a,src:d,xstyle:i.image})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentPhoto.react",["CollageItemFallback.react","CometAlbumUploadItemAttachmentPhotoTagger.react","CometAlbumUploadPreview.react","composerMediaAttachmentReducer","react","useComposerViewStateDispatcher","useComposerViewStateReducer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.attachment,d=a.mediaIndex;c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var e=c("useComposerViewStateDispatcher")(),f=b.data;a=b.file;var g=b.fileObjectURL,k=b.fileType,l=b.height,m=b.width;a=a.name;var n=i(function(){return e({attachment:b,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"})},[b,e]),o=j(function(){if(b.useCDNPreview===!0&&b.uploadedImageURL!=null)return b.uploadedImageURL;return g!=null&&b.useCDNPreview!==!0?g:null},[b,g]);if(o==null)return h.jsx("div",{className:"x5yr21d xh8yej3",children:h.jsx(c("CollageItemFallback.react"),{fileType:k,filename:a})});if(c("CometAlbumUploadItemAttachmentPhotoTagger.react")&&b.state==="UPLOADED"){k=f.tags;var p=k!=null?k.filter(Boolean):[];k=function(a){e({index:d,media:babelHelpers["extends"]({},b,{data:babelHelpers["extends"]({},f,{tags:[].concat(p,[a])})}),type:"SAVE_MEDIA_EDITS"})};return h.jsx(c("CometAlbumUploadItemAttachmentPhotoTagger.react"),{alt:a,height:l,imageURL:o,loading:"lazy",onApplyTag:k,onError:n,tags:p,width:m})}return h.jsx(c("CometAlbumUploadPreview.react"),{alt:a,imageURL:o,loading:"lazy",onError:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachmentTop.react",["ix","CometAlbumUploadItemAttachmentPhoto.react","CometErrorBoundary.react","CometPlaceholder.react","TetraIcon.react","deferredLoadComponent","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("CometLocalVideoFileThumbnailSuspense.react").__setRef("CometAlbumUploadItemAttachmentTop.react"));function a(a){var b=a.attachment,e=a.children;a=a.mediaIndex;return i.jsxs(i.Fragment,{children:[b.fileType==="PHOTO"?i.jsx(c("CometAlbumUploadItemAttachmentPhoto.react"),{attachment:b,mediaIndex:a}):i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(h("1183332"),32)})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{file:b.file,height:100,width:100})})}),e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemPhotoBackdate.react",["CometAlbumUploadItemPhotoBackdateQuery.graphql","CometPhotoBackdateButton.react","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.photoID;var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometAlbumUploadItemPhotoBackdateQuery.graphql"),{id:a});return i.jsx(c("CometPhotoBackdateButton.react"),{photo$key:e.photo,photoID:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemDeleteButton.react",["fbt","ix","TetraCircleButton.react","cometIsMimeTypeForMedia","fbicon","react","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.attachment,e=c("useComposerViewStateDispatcher")();a=k(function(){e({attachment:b,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[b,e]);return j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("478232"),16),label:d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(b==null?void 0:b.fileType)?h._("__JHASH__uao6yLruw4B__JHASH__"):h._("__JHASH__JD6caVi6wjH__JHASH__"),onPress:a,size:32,type:"dark-overlay"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemSideActions.react",["fbt","ix","CometAlbumUploadItemDeleteButton.react","CometLazyPopoverTrigger.react","JSResourceForInteraction","TetraCircleButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("CometAlbumUploadItemMenu.react").__setRef("CometAlbumUploadItemSideActions.react");function a(a){a=a.attachment;return a.fileType==="PHOTO"&&a.state==="UPLOADED"?j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{attachment:a},popoverResource:k,preloadTrigger:"button",children:function(a,b,e,f,g,k){return j.jsx(c("TetraCircleButton.react"),{icon:d("fbicon")._(i("484386"),16),label:h._("__JHASH__vsPR1PMxOLr__JHASH__"),onHoverIn:f,onHoverOut:g,onPress:b,onPressIn:k,ref:a,size:32,testid:void 0,type:"dark-overlay"})}}):j.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemAttachment.react",["ix","CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemAttachmentLocation.react","CometAlbumUploadItemAttachmentTags.react","CometAlbumUploadItemAttachmentTop.react","CometAlbumUploadItemPhotoBackdate.react","CometAlbumUploadItemSideActions.react","CometPhotoAlbumGridItem.react","CometPhotoAlbumGridItemUIActions.react","CometPlaceholder.react","TetraIcon.react","cr:1883901","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.attachment,f=a.children;a=a.mediaIndex;return i.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:i.jsxs(i.Fragment,{children:[i.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:e,mediaIndex:a}),e.fileType==="PHOTO"&&e.state==="UPLOADED"&&(c("CometAlbumUploadItemAttachmentTags.react")!=null||c("CometAlbumUploadItemAttachmentLocation.react")!=null)&&i.jsxs(c("CometPhotoAlbumGridItemUIActions.react"),{children:[c("CometAlbumUploadItemAttachmentTags.react")&&i.jsx(c("CometAlbumUploadItemAttachmentTags.react"),{attachment:e,mediaIndex:a}),c("CometAlbumUploadItemAttachmentLocation.react")?i.jsx(c("CometAlbumUploadItemAttachmentLocation.react"),{attachment:e,mediaIndex:a}):null,i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx("div",{className:"x6s0dn4 x78zum5 xfitlp5 x1mnrxsn x1w0mnb xyqdw3p xg8j3zb",children:i.jsx(c("TetraIcon.react"),{color:"primary",icon:d("fbicon")._(h("478793"),16)})}),children:e.entID!=null?i.jsx(c("CometAlbumUploadItemPhotoBackdate.react"),{photoID:e.entID}):null})]})]}),sideActions:i.jsx(c("CometAlbumUploadItemSideActions.react"),{attachment:e}),sideState:b("cr:1883901")!=null?i.jsx(b("cr:1883901"),{attachment:e}):void 0,top:i.jsx(c("CometAlbumUploadItemAttachmentTop.react"),{attachment:e,mediaIndex:a,children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemFailedAttachmentGatedDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometAlbumUploadItemFailedAttachmentGated.react").__setRef("CometAlbumUploadItemFailedAttachmentGatedDeferred.react"));b=a;g["default"]=b}),98);
__d("CometAlbumUploadItem.react",["CometAlbumUploadItemAttachment.react","CometAlbumUploadItemFailedAttachmentGatedDeferred.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("CometAlbumUploadItemPreexistingAttachment.react").__setRef("CometAlbumUploadItem.react"));function a(a){var b=a.attachment;a=a.mediaIndex;switch(b.state){case"PREEXISTING":return h.jsx(i,{attachment:b,mediaIndex:a});case"NEW":case"QUEUED":case"UPLOADING":case"UPLOADED":return b.file!=null?h.jsx(c("CometAlbumUploadItemAttachment.react"),{attachment:b,mediaIndex:a,children:b.state==="UPLOADED"?null:h.jsx("div",{className:"x1h0vfkc xds687c x5yr21d x10l6tqk x13vifvy",style:{width:(1-(b.percentComplete||0))*100+"%"}})}):null;case"FAILED":return h.jsx(c("CometAlbumUploadItemFailedAttachmentGatedDeferred.react"),{attachment:b,mediaIndex:a})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumMediaAttachmentArea.react",["CometAlbumMediaAttachmentFullscreenNullState.react","CometAlbumMediaGrid.react","CometAlbumUploadItem.react","CometComposerHeadlessMediaUploader.react","CometComposerMediaDropTarget.react","CometPhotoAlbumGridItemBeingTaggedContext.react","CometRouteRenderType","composerMediaAttachmentReducer","react","stylex","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={pushViewTopBar:{backgroundColor:"x1ve1bff",borderBottom:"x15uvora",height:"xng8ra",$$css:!0}};function a(a){var b=a.disableVideo,e=a.mediaAttachments,f=a.mediaUploadLoggingMetadata,g=d("CometRouteRenderType").useIsPushView();c("useComposerViewStateReducer")(c("composerMediaAttachmentReducer"));var k=c("useComposerViewStateDispatcher")();i(function(){return function(){k({type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}},[k]);var l=(a=e==null?void 0:e.length)!=null?a:0,m=Array.from(Array(l+12)).map(function(a,b){return b<l?h.jsx(c("CometAlbumUploadItem.react"),{attachment:((a=e)!=null?a:[])[b],mediaIndex:b},b):h.jsx("div",{},b)}),n=function(a,b,c){k({sourceIndex:b,targetIndex:c,type:"REORDER_MEDIA_ATTACHMENT_ITEM"})};return h.jsx(c("CometComposerMediaDropTarget.react"),{disableVideo:b,children:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:f}),h.jsx("div",{className:c("stylex")(g&&j.pushViewTopBar)}),l===0?!a&&h.jsx(c("CometAlbumMediaAttachmentFullscreenNullState.react"),{disableVideo:b}):h.jsx(d("CometPhotoAlbumGridItemBeingTaggedContext.react").CometPhotoAlbumGridItemBeingTaggedProvider,{children:h.jsx(c("CometAlbumMediaGrid.react"),{onReorder:n,renderedItems:m})})]})}})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments}});g["default"]=b}),98);
__d("composerAlbumCreateAudienceTransform",["massagePrivacyIfSharedAlbum","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;e=(e=a.albumData)==null?void 0:e.albumPrivacy;a=(((a=a.albumData)==null?void 0:a.albumContributors)||[]).length>0;a=c("massagePrivacyIfSharedAlbum")(a,e);if(a==null)throw c("unrecoverableViolation")("Trying to render composer with no privacy scope","comet_composer");d(babelHelpers["extends"]({},b,{privacy:a}))}g["default"]=a}),98);
__d("composerAlbumCreateContributorsTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=(a=a.albumData)==null?void 0:a.albumContributors)!=null?a:[];a=a.map(function(a){return a.key});c(babelHelpers["extends"]({},b,{contributors:a}))}f["default"]=a}),66);
__d("composerAlbumCreateDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumDescription;a==null?c(b):c(babelHelpers["extends"]({},b,{description:a}))}f["default"]=a}),66);
__d("composerAlbumCreateTitleTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumTitle;a==null?c(b):c(babelHelpers["extends"]({},b,{title:a}))}f["default"]=a}),66);
__d("CometAlbumUploadItemFailedAttachmentGated.react",["CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemAttachmentTop.react","CometAlbumUploadItemDeleteButton.react","CometAlbumUploadItemFailedAttachmentFooter.react","CometPhotoAlbumGridItem.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={overlay:{backgroundColor:"x1h0vfkc",end:"xds687c",height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},photoBorderRadius:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var b=a.attachment;a=a.mediaIndex;return h.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:h.jsxs(h.Fragment,{children:[h.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:b,mediaIndex:a}),h.jsx(c("CometAlbumUploadItemFailedAttachmentFooter.react"),{attachment:b})]}),sideActions:h.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:b}),top:h.jsx(c("CometAlbumUploadItemAttachmentTop.react"),{attachment:b,mediaIndex:a,children:h.jsx("div",{className:c("stylex")(i.overlay,b.fileType==="PHOTO"&&i.photoBorderRadius)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAlbumUploadItemPreexistingAttachment.react",["CometAlbumUploadItemAttachmentDescription.react","CometAlbumUploadItemDeleteButton.react","CometAlbumUploadPreview.react","CometPhotoAlbumGridItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment;a=a.mediaIndex;return h.jsx(c("CometPhotoAlbumGridItem.react"),{bottom:h.jsx(c("CometAlbumUploadItemAttachmentDescription.react"),{attachment:b,mediaIndex:a}),sideActions:h.jsx(c("CometAlbumUploadItemDeleteButton.react"),{attachment:b}),top:h.jsx(c("CometAlbumUploadPreview.react"),{imageURL:b.fileType==="VIDEO"?b.imageURL:b.url})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("composerAlbumStoryDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d,e;d=(d=a.albumData)==null?void 0:d.albumDescription;e=(e=a.albumData)==null?void 0:e.albumID;a=(a=a.mediaAttachments)!=null?a:[];d==null||e!=null&&a.length<=1?c(b):c(babelHelpers["extends"]({},b,{message:{text:d}}))}f["default"]=a}),66);