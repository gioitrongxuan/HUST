;/*FB_PKG_DELIM*/

__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6405969922811957"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";c("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:3116")(b("cr:2998"),a)}g["default"]=a}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,556]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",c.i64.cast([0,72]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",c.i64.to_string(a[1])),d[1].set("muted_user_id",c.i64.to_string(a[0])),d[1].set("owner_id",c.i64.to_string(d[0])),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,13]),d[2])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.ftr(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.fe(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(e){return d[1]=new c.Map(),d[1].set("thread_id",a[0]),d[1].set("message_id",a[1]),d[1].set("reaction_fbid",a[2]),d[1].set("cursor",a[3]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("action_type",a[4]),d[2].set("attachment_fbid",a[2]),d[2].set("message_id",a[0]),d[2].set("target_id",a[3]),d[2].set("thread_key",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"process_marketplace_xma_cta",c.i64.cast([0,185]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportThreadViewOpen",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_stale",!1),d[0].set("client_seq_id",c.i64.cast([0,0])),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["report_thread_view_open","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,605]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateBotSubscription",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",c.i64.to_string(a[0])),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,12]),d[1])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateDraftMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[4],d[5],f,f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(g=e.item,c.seq([function(e){return d[5]=g.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],f)&&c.i64.ge(d[4],d[5])?c.seq([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],f)&&g.tag!==f?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",c.i64.cast([0,0])),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],c.i64.cast([0,3]),d[1])}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6098288313524910"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5021823607854583"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6404754876239370"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4679476245513562"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5146654855396537"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5063442323698780"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4696875653751924"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6578447052222731"}),null);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],c=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3XEtNp"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3XEtNp")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWQuickPromotionThreadViewBannerContainerQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3XEtNp"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3XEtNp")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4973572169363354"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){var b=a.disallowedTerms;a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,disallowedTerms:b,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);(this.__prefix==="@"||this.__prefix==="#")&&(a.className="xv78j7m xt0e3qv");a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a){var b=a.description,e=h(d("hero-tracing-placeholder").HeroInteractionIDContext);i(function(){var a=c("performanceNow")();return function(){if(e!=null){var d=c("performanceNow")();c("InteractionTracingMetrics").addSubspan(e,b,"AppTiming",a,d,{})}}},[b,e])}g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("getMAWLinkEntityRenderer.react",["CometLink.react","MAWArmadilloLink.react","MWMessageCellFocusTable.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{role:"gridcell",children:b?h.jsx(c("MAWArmadilloLink.react"),{bypassMDS_DO_NOT_USE:!0,href:f.uri,target:e,testid:void 0,xstyle:g,children:a}):h.jsx(c("CometLink.react"),{href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("MWPMessageListColumn.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={centered:{alignItems:"x6s0dn4",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},makeSpaceForActions:{maxWidth:"x1r145dm",$$css:!0},paint:{backgroundColor:"xcrg951",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"xcrg951",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function j(a){var b=a.centered,d=a.children,e=a.grow,f=a.makeSpaceForActions,g=a.paint,j=a.profile,k=a.selfCentered,l=a.shrinkwrap;a=a.withGutters;return h.jsx("div",{className:c("stylex")(i.root,e===!0?i.grow:!1,l===!0?i.shrinkwrap:!1,g===!0?i.paint:!1,j===!0?i.profile:!1,a===!0?i.withGutters:!1,f===!0?i.makeSpaceForActions:!1,b===!0?i.centered:!1,k===!0?i.selfCentered:!1),role:"none",children:d})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return h.jsx(j,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return h.jsx(j,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.centered,c=a.children;a=a.paint;return h.jsx(j,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}e.displayName=e.name+" [from "+f.id+"]";function k(a){a=a.children;return h.jsx(j,{grow:!0,paint:!0,children:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.children,c=a.makeSpaceForActions;a=a.paint;return h.jsx(j,{makeSpaceForActions:c,paint:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";function m(){return h.jsx("div",{className:"x1r8uery x1iyjqo2",role:"none"})}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.height;return h.jsx("div",{className:"xcrg951 xh8yej3",role:"none",style:{height:""+a+"px"}})}n.displayName=n.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnShrinkwrap=e;g.MWPMessageListColumnGrow=k;g.MWPMessageListColumnBubble=l;g.MWPMessageListColumnHorizontalSpacer=m;g.MWPMessageListColumnVerticalRhythm=n}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MWPSolidMessageBubble.bs",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.precedesXMA,e=a.children,f=a.connectBottom,g=a.connectTop,j=a.outgoing,k=a.style,l=a.xmaLayout;l=l===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:l;a=a.xstyle;b=b!=null?b:!1;return h.jsx("div",{className:c("stylex")(i.bubble,g?j?i.outgoing_connect_top:i.incoming_connect_top:!1,(!b||l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT)&&f?j?i.outgoing_connect_bot:i.incoming_connect_bot:!1,l!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&b?i.precedes_xma:!1,(g=a)!=null?g:!1),"data-testid":void 0,role:"none",style:k,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;return h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:h.jsx("div",{ref:a,role:"row",children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:h.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return h.jsx("div",{className:c("stylex")(i.row,e?i.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,role:"gridcell",tabIndex:0,children:b})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometScreenReaderText.react","I64","LSIntEnum","LSMediaUrl.bs","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWPSolidMessageBubble.bs","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","ServerTime","TetraOverlappingFacepile.react","clearTimeout","react","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=e.useState,m={accessibilityText:{borderBottom:"xpj9aq2",$$css:!0},bubble:{backgroundColor:"x1vtvx1t",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function n(a,b){a=a==null?void 0:a.nickname;if(a!=null)return a;a=b.firstName;if(a!=null)return a;else return b.name}function o(a,b){b===void 0&&(b=!1);var e=c("useReStore")(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("typing_indicator")).getKeyRange(a).filter(function(a){return d("ServerTime").getMillis()<d("I64").to_float(a.expirationTimestampMs)}).map(function(g){var h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("presence_states")).getKeyRange(g.senderId),f.id+":127");if(!b||h!=null&&d("I64").equal(h.status,d("LSIntEnum").ofNumber(c("LSPresenceStatus").ACTIVE))){h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a,g.senderId),f.id+":143");var i=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(g.senderId),f.id+":150");if(i!=null)return[h,i,g]}return}).filter(Boolean).take(3)},[e,a,b],f.id+":116");return g.filter(Boolean)}function p(a){return k(function(){var b=a.length;if(b!==1)if(b!==0)return h._("__JHASH__YLfbVFP1cLb__JHASH__");else return"";b=a[0];return h._("__JHASH__Tbm_Qb_Y-B5__JHASH__",[h._param("The participants name",n(b[0],b[1]))])},[a])}function a(a){var b=a.length>0,e=b?a.reduce(function(a,b){return Math.max(a,d("I64").to_float(b[2].expirationTimestampMs))},0):0;a=l(e>d("ServerTime").getMillis());var f=a[0],g=a[1];j(function(){if(b){g(e>d("ServerTime").getMillis());var a=e-d("ServerTime").getMillis(),f=c("setTimeout")(function(){return g(!1)},a);return function(){c("clearTimeout")(f)}}},[e,g,b]);return b&&f}function q(a){var b=a.containerStyle,e=a.messageBubbleStyle,f=a.threadType;a=a.typingParticipants;var g=a.reduce(function(a,b){return Math.max(a,d("I64").to_float(b[2].expirationTimestampMs))},0),h=l(function(){return g>d("ServerTime").getMillis()}),k=h[0],n=h[1];j(function(){n(function(){return g>d("ServerTime").getMillis()});var a=g-d("ServerTime").getMillis(),b=c("setTimeout")(function(){return n(!1)},a);return function(){c("clearTimeout")(b)}},[g,n]);if(k)return i.jsxs("div",{"aria-hidden":!0,className:c("stylex")(m.root,b),children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{selfCentered:!0,children:i.jsx(c("TetraOverlappingFacepile.react"),{items:a.map(function(a){return{source:{uri:d("LSMediaUrl.bs").Contact.profilePictureUrl(a[1])}}}),size:28,withWrapper:!1})}),i.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:!1,connectTop:!1,outgoing:!1,precedesXMA:!1,xstyle:e,children:i.jsx(c("MWChatTypingIndicator.react"),{threadType:f})})]});else return null}function b(a){var b=a.checkPresenceSettings;b=b===void 0?!1:b;var e=a.containerStyle,f=a.messageBubbleStyle,g=a.theme,h=a.threadKey;a=a.threadType;f=f||m.bubble;g=g||d("MWBaseTheme").empty;h=o(h,b);b=p(h);return h.length>0?i.jsx(c("BaseTheme.react"),{config:g,children:i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[i.jsx("div",{"aria-live":"polite",className:"xpj9aq2",children:i.jsx(c("CometScreenReaderText.react"),{text:b})}),i.jsx(q,{containerStyle:e,messageBubbleStyle:f,threadType:a,typingParticipants:h})]})})}):null}e=d("withCometPlaceholder").withCometPlaceholder(b);g.useTypingParticipants=o;g.useAccessibilityText=p;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),98);
__d("CSFBChatTypingIndicators.react",["MWPTypingIndicators.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:a.threadKey,threadType:a.threadType})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser")),b=a[0];return function(a,c){return c.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return b({adId:c.ctaId,threadKey:a.banner.threadKey})},type:"action"}}}g["default"]=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKey","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();h(function(){var d=a.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKey")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g["default"]=a}),98);
__d("MWEncryptedUrl.bs",["invariant","Base64.bs","CancellablePromise.bs","CancellationToken.bs","Crypto.bs","Promise","bs_pervasives","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";e=d("react");var i=e.useEffect,j=e.useState;function a(a,e,f){var g=j(e!=null?void 0:a),k=g[0],l=g[1];i(function(){var g=d("CancellationToken.bs").CancellationToken(),i=0;if(e!=null&&a!=null){var j=d("CancellablePromise.bs").ignoreFailed(void 0,d("CancellablePromise.bs").then_(g,function(a){var e;switch(f.TAG){case 1:e="data:image/jpeg;base64,";break;case 6:e="data:audio/wav;base64,";break;case 7:e="data:video/mp4;base64,";break;default:e=c("bs_pervasives").failwith("Unsupported attachment for encryptedUrl")}l(function(){return e+d("Base64.bs").fromArrayBuffer(a)});return b("Promise").resolve()},d("CancellablePromise.bs").then_(g,function(a){var b=a[1],c=b.slice(0,2),e=b.slice(2,14);b=b.slice(14);return d("Crypto.bs").decrypt({additionalData:c,iv:e,name:"AES-GCM",tagLength:128},a[0],b)},d("CancellablePromise.bs").then_(g,function(a){var c=d("Base64.bs").toArrayBuffer(e);c.byteLength===32||h(0,20660);return b("Promise").all([d("Crypto.bs").importKey("raw",c,{NAME:"Aes",VAL:"AES-GCM"},!1,["decrypt"]),b("Promise").resolve(a)])},d("CancellablePromise.bs").then_(g,function(a){return a.arrayBuffer()},window.fetch(a))))));c("promiseDone")(j)}else i=1;i===1&&l(a);return g.cancel},[a,e,l]);return k}g.useMaybeEncryptedUrl=a}),98);
__d("XCometMessengerAttachmentMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_attachment_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWChatAttachmentMediaPreview.bs",["fbt","CometImageCover.react","CometPressable.react","I64","MWEncryptedUrl.bs","XCometMessengerAttachmentMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=String(18)+"px",k={imageContainer:{borderTop:"xzg4506",borderEnd:"xycxndf",borderBottom:"xua58t2",borderStart:"x4xrfw5",boxShadow:"x1yi6u8n",lineHeight:"x14ju556",verticalAlign:"xxymvpz",$$css:!0},standalone:{borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",$$css:!0}};function l(a){var b=a.attachmentMediaUrl,e=a.decryptionKey,f=a.previewUrl;a=a.widthStyle;f=d("MWEncryptedUrl.bs").useMaybeEncryptedUrl(f,e,{_0:{appAttribution:void 0,blurredImageUri:void 0,decryptionKey:void 0,isGIF:!1,photoFbid:void 0,previewHeight:void 0,previewUrl:"",previewWidth:void 0,title:void 0},TAG:1});if(f!=null)return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mrw3CpFXi7r__JHASH__"),linkProps:{url:b},testid:void 0,xstyle:function(){return[k.standalone]},children:i.jsx(c("CometImageCover.react"),{src:f,style:{borderBottomLeftRadius:j,borderBottomRightRadius:j,borderTopLeftRadius:j,borderTopRightRadius:j,maxHeight:String(200)+"px",maxWidth:"100%",minHeight:String(24)+"px",width:a}})});else return null}function m(a){var b,c;b=d("I64").to_int32((b=a.previewHeight)!=null?b:d("I64").one);c=d("I64").to_int32((c=a.previewWidth)!=null?c:d("I64").one);c=c/b;a=a.previewWidth;if(a!=null)return(b>200?200*c:d("I64").to_float(a)).toString()+"px";else return"auto"}function a(a){a=a.attachment;var b=a.previewUrl;if(b!=null)return i.jsx("div",{className:"xzg4506 xycxndf xua58t2 x4xrfw5 x1yi6u8n x14ju556 xxymvpz x1gn5b1j x230xth x1g8br2z x1tlxs6b",children:i.jsx(l,{attachmentMediaUrl:c("XCometMessengerAttachmentMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,thread_id:d("I64").to_string(a.threadKey)}),decryptionKey:a.decryptionKey,previewUrl:b,widthStyle:m(a)})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWPChatEphemeralButton.bs",["fbt","CometPressable.react","I64","LSIntEnum","MWChatEphemeralMediaTemporarySeenState","MWPSolidMessageBubble.bs","MessagingAttachmentType","RavenMessagingState","XCometMessengerEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__wwWALtSTrAJ__JHASH__"),k=h._("__JHASH__6AjB8pge-ih__JHASH__"),l=h._("__JHASH__4zpYeMebeaQ__JHASH__"),m=h._("__JHASH__FLEPIyrCx7D__JHASH__"),n=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),o=h._("__JHASH__TfJs-614iIk__JHASH__");function p(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children,h=a.initiallyUnread,j=a.outgoing;a=a.shouldDisableOnOutgoing;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:d("I64").to_string(e.threadKey)});e=e.ephemeralMediaState;if(e==null)return g;return a&&j||!(d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&h)?g:i.jsx(c("CometPressable.react"),{"aria-label":b,children:g,linkProps:{url:f},overlayRadius:50,testid:void 0})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.backgroundColor,f=a.buildURL,g=a.connectBottom,h=a.connectTop,q=a.outgoing,r=a.renderContent;a=a.shouldDisableOnOutgoing;a=a===void 0?!1:a;e=e!=null?e:"var(--wash)";f=f!=null?f:function(a){return c("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL(a)};var s=b.attachmentType,t=d("MWChatEphemeralMediaTemporarySeenState").isSeenThisSession(d("I64").to_string(b.threadKey),b.attachmentFbid),u=b.ephemeralMediaState;u=u!=null?d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").UNSEEN))?"unseen":d("I64").equal(u,d("LSIntEnum").ofNumber(c("RavenMessagingState").SEEN))&&t?"seen":"expired":"expired";var v=u==="expired"||u==="seen"||q,w=null;switch(d("LSIntEnum").toNumber(s)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:w=v?m:j;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:w=v?n:k;break;default:w=v?o:l;break}return i.jsx(p,{ariaLabel:w,attachment:b,buildURL:f,initiallyUnread:t,outgoing:q,shouldDisableOnOutgoing:a,children:i.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:g,connectTop:h,outgoing:q,style:{backgroundColor:e},children:r(b,u,t,w)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatEphemeralButton.react",["ix","BaseImage_DEPRECATED.react","MWPChatEphemeralButton.bs","MWXIcon.react","MWXText.react","fbicon","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("fbicon")._(h("656360"),20);function k(){var a=c("useCurrentDisplayMode")();return i.jsx(c("BaseImage_DEPRECATED.react"),{className:"x1b0d499",src:j.src,style:{filter:a==="dark"?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)"}})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop;a=a.outgoing;return i.jsx(c("MWPChatEphemeralButton.bs"),{attachment:b,connectBottom:d,connectTop:e,outgoing:a,renderContent:function(a,b,d,e){a=b==="expired"?"disabled":"primary";d=b==="unseen"?i.jsx(k,{}):b==="expired"?i.jsx(c("MWXIcon.react"),{color:"disabled",icon:j}):i.jsx(c("MWXIcon.react"),{color:"primary",icon:j});return i.jsx("div",{className:"x1gslohp x11i5rnm x12nagc x1mh8g0r",children:i.jsxs(c("MWXText.react"),{color:a,type:"bodyLink3",children:[d,i.jsx("span",{className:"x1i64zmx xjmsjum",children:e})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return h.jsx(c("CometPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return d("I64").to_string(b())}var h=c("gkx")("1016");function i(a,b){if(h){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?d("I64").to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:d("I64").to_string(b.thread.threadKey),thread_type:d("I64").to_int32(b.thread.threadType)}})}}function e(a){return i("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("MWFilePressableHooks.bs",["MWFileViewerLogger","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo;function j(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirst(i(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("attachments")),{hd:a.threadId,tl:{hd:a.messageId,tl:0}}),1)},[b,a]),"dsog714o")}function k(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirstExn(i(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("threads")),{hd:a.threadId,tl:0}),1)},[b,a]),"kwi0gcnx")}function a(a,b,c,e,f){var g=j(a),i=k(a);return h(function(h){c==null?void 0:c(h);h={attachment:g,attachmentID:b,entryPoint:e,messageID:a,sessionId:f,thread:i};return d("MWFileViewerLogger").logFileViewerDirectDownload(h)},[i,b,g,f,e,a,c])}g.useOnPressHandler=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFilePressableHooks.bs","MWFileViewerLogger","goUriOnNewWindow","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.messageID,i=a.onPress,j=a.url;a=a.xstyle;if(g!=null)switch(g.TAG){case 0:case 1:break;case 2:if(b!=null&&j!=null){var k=d("MWFileViewerLogger").generateSessionId();g=d("MWFilePressableHooks.bs").useOnPressHandler(g._0,b,i,f,k);return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:h.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:g,url:j,xstyle:a})})}break}return h.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:i,url:j,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatRecorderUtils",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.reduce(function(a,b){return a+b.length},0)}function a(a){var b=h(a),c=new Float32Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.length},0);return c}function b(a,b){var c=h([a,b]);return new Float32Array(c).map(function(c,d){c=Math.floor(d/2);if(d%2===0)return a[c];else return b[c]})}function i(a,b,c){c.forEach(function(c,d){c=Math.max(-1,Math.min(1,c));d=b+(d<<1);c=c<0?Math.abs(c)*-32768:Math.abs(c)*32767;a.setInt16(d,c,!0)})}function j(a,b,c){Array.from(c).forEach(function(d,e){d=c.charCodeAt(e);a.setUint8(b+e,d)})}function k(a,b){var c=a.length;c=c<<1;var d=new ArrayBuffer(44+c);d=new DataView(d);j(d,0,"RIFF");d.setUint32(4,36+c,!0);j(d,8,"WAVE");j(d,12,"fmt ");d.setUint32(16,16,!0);d.setUint16(20,1,!0);d.setUint16(22,2,!0);d.setUint32(24,b,!0);d.setUint32(28,b<<2,!0);d.setUint16(32,4,!0);d.setUint16(34,16,!0);j(d,36,"data");d.setUint32(40,c,!0);i(d,44,a);return d}function c(a,b){a=k(a,b);return new File([a],"audio_clip.wav",{type:"audio/wav"})}var l=2;function e(a,b){var c=Float32Array.BYTES_PER_ELEMENT;a=a.byteLength/c/l;return a/b%d("DateConsts").SEC_PER_MIN}function m(a,b,c){return a+(b-a)*c}function f(a,b){var c=new Array(Math.ceil(b));if(b===0||a.length===0)return c;if(b===a.length)return Array.from(a);if(a.length===1)return c.fill(a[0]);c[0]=a[0];var d=(a.length-1)/(b-1);for(var e=1;e<b;e++){var f=e*d,g=Math.floor(f),h=Math.ceil(f);f=f-g;c[e]=m(a[g],a[h],f)}b>=2&&(c[c.length-1]=a[a.length-1]);return c}function n(a,b,c){var d=Math.min.apply(Math,a),e=Math.max.apply(Math,a),f=e-d,g=c-b;return a.map(function(a){return(a-d)/f*g+b})}g.getTotalBuffersLen=h;g.flattenBuffer=a;g.interleave=b;g.exportWAV=c;g.getAudioDuration=e;g.computeWaveformAmplitudes=f;g.linearConversion=n}),98);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f,g){"use strict";g.$$Audio=b("cr:1755417").$$Audio,g.Video=b("cr:1755417").Video,g.Info=b("cr:1755417").Info}),98);
__d("MWFDSChatHeaderDetailsSubtitleMutedIcon.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TetraMWChatRTCButtonIcons.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsxs("svg",{height:b,role:"presentation",viewBox:"-5 -5 30 30",width:b,children:[h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a})]})}a.displayName=a.name+" [from "+f.id+"]";e={icon:a};function b(a,b,c){c=c!=null?c:!1;var d=c?"-3":"-5";return h.jsxs("svg",{height:b,role:"presentation",viewBox:d+" -5 30 30",width:b,children:[h.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),c?h.jsx("circle",{className:"x1xgahvj",cx:"24",cy:"10",r:"2"}):null]})}b.displayName=b.name+" [from "+f.id+"]";d={icon:b};function c(a,b){return h.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:h.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:h.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})})}c.displayName=c.name+" [from "+f.id+"]";a={icon:c};g.$$Audio=e;g.Video=d;g.Info=a}),98);
__d("MWComposerDisclosureContainer.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return h.jsx("div",{"data-testid":void 0,style:c("gkx")("6189")?i.root_new_layout_for_horizontal_buttons:i.root,children:h.jsx("div",{style:c("gkx")("6189")?i.inner_new_layout_for_horizontal_buttons:i.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerGroupMessageRequestInfoText.react",["fbt","CometPressable.react","JSResourceForInteraction","MWComposerDisclosureContainer.react","MWIsXacGroupThread.bs","MWLSThread","MWThreadKey.react","MWVerticalRhythm","MWXText.react","MessageRequestsLog","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=c("JSResourceForInteraction")("MWChatDeclineGroupMessageRequestDialog.react").__setRef("MWChatComposerGroupMessageRequestInfoText.react");function a(a){var b=a.onDeleteConversation;a=a.onLeaveGroup;var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=d("MWLSThread").useThreadExn(e);e=d("MWIsXacGroupThread.bs").check(f);j(function(){d("MessageRequestsLog").logMessageRequestInfoShown(f)},[f]);var g=k(null),m={onDeleteConversation:b,onLeaveGroup:a};b=c("useMWXLazyDialog")(l);var n=b[0],o=function(){return n(m)};return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[e?i.jsxs(i.Fragment,{children:[i.jsx(c("MWXText.react"),{color:"secondary",type:"entityHeaderMeta3",children:h._("__JHASH__Zo8nGcr-Wbu__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:8})]}):null,i.jsxs(c("MWXText.react"),{color:"secondary",type:"body4",children:[e?h._("__JHASH__dGW95F1FSGX__JHASH__"):h._("__JHASH__8Xn13sU52xi__JHASH__"),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometPressable.react"),{onPress:function(){d("MessageRequestsLog").logDenialOptionsTapped(f);return o()},overlayDisabled:!0,ref:g,testid:void 0,children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__3yIVRKHeTer__JHASH__")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MDSTextPairing.react","MWXText.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var b=c("useCometRouterState")();b=b!=null?c("getTopMostRoute")(b):null;b=(b=b==null?void 0:b.tracePolicy)!=null?b:null;b=b!==null?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1;var d=c("CurrentUser").getName();d=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",i.jsx(c("MWXText.react"),{type:"meta2",children:d}))]);return b||a?i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xkrivgy xat24cr x1gryazu xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d}),level:4,textAlign:"center"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=8659;function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:j}),f=e.xacThreadDisclosureNux;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:f!=null?i.jsx(d("CometRelay").MatchContainer,{match:f,props:{isThreadInNullState:a.isThreadInNullState,nuxKey:e.xacThreadDisclosureNux,size:a.size}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSChatComposerUserMessageRequestInfoText.bs",["fbt","CometPressable.react","I64","JSResourceForInteraction","MDSTextPairing.react","MWComposerDisclosureContainer.react","MWContactDetails.bs","MWMessageRequestSharedTexts.bs","MWVerticalRhythm","MWXText.react","MessageRequestsLog","ReQL","ReQLSubscription.bs","isStringNullOrEmpty","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l=b.useRef,m=c("JSResourceForInteraction")("MWChatDeclineUserMessageRequestDialog.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.bs");function a(a){var b=a.onDeleteConversation,e=a.thread;a=d("I64").to_string(e.threadKey);var f=a,g=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(k(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(d("I64").of_string(f))},[f,g]),"5n2colzl");var n=d("MWContactDetails.bs").getName(a);n=n!=null?n:h._("__JHASH__AaE4hJExM0x__JHASH__");var o=d("MWContactDetails.bs").getShortName(a);o=o!=null?o:h._("__JHASH__AaE4hJExM0x__JHASH__");a=d("MWContactDetails.bs").getSecondaryName(a);a=c("isStringNullOrEmpty")(a)?void 0:a;var p=a!=null?i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__CEpoRXODTMn__JHASH__")}):null,q=a!=null?n!==a?h._("__JHASH__tV1eV-071mI__JHASH__",[h._param("IGDisplayName",n),h._param("IGUserName",a)]):h._("__JHASH__U6KCI1_eCqE__JHASH__",[h._param("IGUserName",a)]):d("MWMessageRequestSharedTexts.bs").getFBUserInfoTextMessage(n),r=a!=null?n!==a?h._("__JHASH__EaJEM7eOV5r__JHASH__",[h._param("name",n),h._param("username",a)]):h._("__JHASH__X8pIS11uEl0__JHASH__",[h._param("username",a)]):d("MWMessageRequestSharedTexts.bs").getDefaultInfoTextFooter(n),s=l(null);j(function(){d("MessageRequestsLog").logMessageRequestInfoShown(e)},[e]);var t={onDeleteConversation:b,otherUserFbid:f,otherUserName:n.toString(),otherUserSecondaryName:a,otherUserShortName:o};b=c("useMWXLazyDialog")(m);var u=b[0],v=function(){return u(t)};return i.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:q}),headline:p,level:4,textAlign:"center"}),i.jsx(c("MWVerticalRhythm"),{height:5}),i.jsx(c("CometPressable.react"),{onPress:function(){d("MessageRequestsLog").logDenialOptionsTapped(e);return v()},overlayDisabled:!0,ref:s,testid:void 0,children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:r})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),d=b[0],e=function(){a.onClose()};return h.jsx(c("TetraButton.react"),{label:a.label,onPress:function(){a.setPWDismissTime(),a.onPress(),d({flowCallbacks:{onClose:e}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getThreadBannerQuery(b,a)},[b,a],f.id+":31"),g=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(b,a)},[b,a],f.id+":36");return{banner:e,pwSettings:g}}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","Int64Hooks","MWThreadKey.react","useMWLSProactiveWarningTables"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useMWLSProactiveWarningTables")(),g=f.banner,h=f.pwSettings,i=b!=null&&d("I64").equal((f=b.proactiveWarningDismissTime)!=null?f:d("I64").zero,d("I64").zero);return d("Int64Hooks").useMemoInt64(function(){if(h==null||g==null)return;var b=h.context,c=h.entryPoint,f=h.storyLocation,j=h.suspectId,k=h.tag,l=g.bannerId,m=g.cta1Title,n=g.cta2Title,o=g.heading,p=g.titleSectionOne;if(!((Boolean(a)||i)&&d("I64").equal(l,d("I64").of_string("7"))))return;if(j!=null&&b!=null&&f!=null&&c!=null&&k!=null&&o!=null&&n!=null&&m!=null&&p!=null)return{context:b,cta1Title:m,cta2Title:n,description:p,falco_event_data:{data:{entry_point:d("I64").to_int32(c),feedback_tags:[k],surface:d("I64").to_int32(f)},impersonatedUser:{id:0},otherUser:{id:d("I64").to_int32(j)},reportedUser:{id:0},thread:{id:d("I64").to_string(e),type:1}},header:o,threadKey:e}},[e,g,h,i,a])}g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTime","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","TetraButton.react","promiseDone","react","stylex","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k={button:{width:"x5sxuk9",$$css:!0},buttonsContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",marginTop:"x14vqqas",width:"xh8yej3",$$css:!0},root:{borderTop:"xzg4506",color:"xi81zsa",marginTop:"x14vqqas",paddingTop:"xyinxu5",paddingEnd:"xho0xa1",paddingBottom:"xxbrewl",paddingStart:"x1vobaek",$$css:!0}};function a(a){var b=a.fallback,e=a.onClose;a=a.thread;var f=c("useMWProactiveWarningPayload")(void 0,a),g=c("useReStore")(),l=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();j(function(){f!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},[f]);if(f==null)return b;a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",f.header)]);b=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",f.description)]);var m=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:f.context,label:f.cta1Title,onClose:e,onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},setPWDismissTime:function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(l,c("LSFactory")(a))},"readwrite"),e,e)}})}),n=i.jsx("div",{className:c("stylex")(k.button,!1),children:i.jsx(c("TetraButton.react"),{label:h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",f.cta2Title)]),onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){return{data:f.falco_event_data.data,impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}}),c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTime")(f.threadKey,c("LSFactory")(a))},"readwrite"),e,e)},reduceEmphasis:!1,size:"medium",type:"secondary"})});b=i.jsxs(i.Fragment,{children:[i.jsx(c("MDSTextPairing.react"),{body:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),headline:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:a}),level:4,textAlign:"center"}),i.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3",children:[m,n]})]});return i.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fallback,d=a.onClose;a=a.thread;return h.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:b,onClose:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometProfilePhoto.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,i=f.photoURI;f=f.subtitle;var j;i!=null?j=h.jsx(c("CometProfilePhoto.react"),{size:28,source:{uri:i}}):g!=null&&(j=h.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}));return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,itemStartContent:j,testid:void 0,children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e,f,g){var i=a.query,j=[];b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,i)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,i)&&(g="nickname");if(g!=null&&f!=null){var h;j.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("1608686")){b=h._("__JHASH__ovEnf-Gks1s__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)){var k=h._("__JHASH__oEf5vzwfdeB__JHASH__").toString();j.push({decorType:"regular",handle:b,key:""+e,label:b,rawData:{source:"all",subtitle:k},type:"entry"})}b=h._("__JHASH__pCjH3XwrsJ-__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,i)){k=h._("__JHASH__l7GTPV1uQCP__JHASH__").toString();j.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:k},type:"entry"})}}j.length>g&&(j=j.slice(0,g));j.length<g&&f&&f(i,g-j.length);return{entries:j,params:a}}g.fetchCacheComposerMentionsTypeahead=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h=6;a=function(){function a(a,b,d){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3,h)};e.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID,e=a.triggerParticipantsSearch;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d,e),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d,e]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.threadKey,e=a.threadName,g=c("useReStore")(),i=d("MWPActor.react").useActor(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(b).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":36")})},[g,b],f.id+":31");return d("Int64Hooks").useMemoInt64(function(){if(e!=null)return h._("__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",e)]);var a=c("intlList")(j.map(function(a){if(a!=null&&!d("I64").equal(a.id,i))return a.name}).filter(Boolean),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",a)])},[j,e,i])}g["default"]=a}),98);
__d("MWChatUnavailableComposer.bs",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);a=h._("__JHASH__FoZB3MxTOU9__JHASH__");return i.jsxs("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:[i.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJoinChannelComposerPlaceholder.react",["fbt","$InternalEnum","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonGlimmer:{borderTopStartRadius:"xi112ho",borderTopEndRadius:"x17zwfj4",borderBottomEndRadius:"x585lrc",borderBottomStartRadius:"x1403ito",height:"x10w6t97",$$css:!0},root:{borderTop:"xzg4506",$$css:!0}},k=b("$InternalEnum").Mirrored(["Broadcast","Social"]);function a(a){var b=a.channelType;a=function(){switch(b){case k.Broadcast:return h._("__JHASH__LGuHuzgqd6L__JHASH__");case k.Social:return h._("__JHASH__8LwBLF7_aVr__JHASH__")}}();return i.jsxs(c("MDSColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:16,xstyle:j.root,children:[i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("MWXText.react"),{align:"center",type:"meta3",children:a})}),i.jsx(c("MDSColumnItem.react"),{children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.buttonGlimmer})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChannelType=k;g.MWJoinChannelComposerPlaceholder=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("connectivity_status")).map(function(a){return d("I64").equal(a.internetConnectionState,d("LSIntEnum").ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":63");return i.jsx(j,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("div",{className:"x1r4l5d8 x1lliihq xz9dl7a xsag5q8 x2b8uid",children:h.jsx(c("MWXText.react"),{type:"meta4",children:a})})}i.displayName=i.name+" [from "+f.id+"]";function a(){return h.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSUpdateDraftMessage",["I64","Int64Hooks","LSFactory","LSUpdateDraftMessage","MWPActor.react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("useReStore")(),f=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(g,h){b!=null&&a!=null&&b(JSON.stringify(a.getEditorState()),d("I64").to_string(g),h,f);return e.runInTransaction(function(a){return c("LSUpdateDraftMessage")(g,h,c("LSFactory")(a))},"readwrite")},[e,a,b,f])}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellWrapper.react",["CometPlaceholder.react","MWChatEncryptedBackupsRingIndeterminateIcon.react","cr:6740","cr:6814","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:6814"))!=null?e:b("cr:6740");function a(a){a=a.children;return i!=null?h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("MWChatEncryptedBackupsRingIndeterminateIcon.react"),{}),children:h.jsx(i,{children:a})}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGroupUpdatesVerifiedIcon.react",["ix","CometIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("494936"),12)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoPanelContext.react",["Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useRef,k=c.useState,l=e({currentSubthreadView:null,footerContentRef:{current:null},isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(){},setCurrentSubthreadView:function(){},setIsExpanded:function(){},setPushMemberRequestsPage:function(){},setShouldNavToMemberRequests:function(){},setShowSubthreadList:function(){},setSubthreadKey:function(){},shouldNavToMemberRequests:!1,subthreadKey:null});function a(){return i(l)}function b(a){var b=a.children,c=a.isExpanded,e=a.setIsExpanded,f=j(!1);a=k(null);var g=a[0],i=a[1],m=f.current,n=j(function(){}),o=n.current,p=j(!1),q=j(null);a=k(null);var r=a[0],s=a[1];a=d("Int64Hooks").useMemoInt64(function(){return{currentSubthreadView:r,footerContentRef:q,isExpanded:c,isOnMemberRequestsPageRef:p,pushMemberRequestsPage:o,setCurrentSubthreadView:s,setIsExpanded:function(a){a&&s(null),e(a)},setPushMemberRequestsPage:function(a){n.current=a},setShouldNavToMemberRequests:function(a){f.current=a},setShowSubthreadList:function(a){i(null),s(a?"subthreadList":null)},setSubthreadKey:i,shouldNavToMemberRequests:m,subthreadKey:g}},[c,o,e,m,r,g]);return h.jsx(l.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMWInboxInfoPanelContext=a;g.MWInboxInfoPanelProvider=b}),98);
__d("MWMDotMeReferrerContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e();function a(a){var b=a.children;a=a.referrer;return h.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){if(b("cr:4919")!=null)return i.jsx("span",{className:"x1n2onr6 x1atx4j1",children:i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function j(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}j.displayName=j.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=j}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","JSResourceForInteraction","LSCommunityBitOffset","LSIntEnum","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","useCometLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState,l=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function m(a){var b=a.thread;a=c("useCometLazyDialog")(l);var e=a[0];a=k(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var m=a[0],n=a[1];a=j(m);var o=j(!1);m=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,n(function(a){return a+1}))}});return a.current<3&&!f?i.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",ref:m,children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("MWXButtonGroup.react"),{primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.thread,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("community_folders")).getKeyRange(b.parentThreadKey)},[e,b.parentThreadKey],f.id+":116");if(a){a=d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(39),a);return a?i.jsx(m,{thread:b}):null}else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSChevronRightSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("svg",babelHelpers["extends"]({viewBox:"-4 -4 26 26"},a,{children:h.jsxs("g",{fill:"none",fillRule:"evenodd",children:[h.jsx("path",{d:"M5.636 13.47a.75.75 0 1 0 1.06 1.06l6-6a.75.75 0 0 0 0-1.06l-6-6a.75.75 0 0 0-1.06 1.06L11.106 8l-5.47 5.47Z",fill:"currentColor",fillRule:"nonzero"}),h.jsx("path",{d:"M0 16h16V0H0z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;g["default"]=a}),98);
__d("useMWCMIssueCommunityMemberListFetch",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","pageID","promiseDone","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.parentThreadKey,e=a.threadKey,f=c("useReStore")();a=c("useCommunityFolder")({parentThreadKey:b});var g=(a==null?void 0:a.fbGroupId)||e;return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(f.runInTransaction(function(a){return c("LSIssueCommunityMemberListFetch")(g,c("LSVec").make([d("LSIntEnum").ofNumber(0)]),!1,!1,"","",d("LSIntEnum").ofNumber(7),e,void 0,c("LSVec").make([]),void 0,c("pageID"),c("LSFactory")(a))},"readwrite"))},[f,g,e])}g["default"]=a}),98);
__d("MWInboxHeaderBroadcastChannelSubText.react",["fbt","CometMiddot.react","CometTextWithEntities.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.memberCount;return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:h._("__JHASH__SvUIYrDirw-__JHASH__").toString()}),a>0?i.jsxs(i.Fragment,{children:[i.jsx(c("CometMiddot.react"),{}),c("intlSummarizeNumber")(a),i.jsx(i.Fragment,{children:" "}),h._("__JHASH__YqlBHec3EKS__JHASH__",[h._plural(a)])]}):i.jsx(i.Fragment,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","CometMiddot.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;return i.jsxs(i.Fragment,{children:[h._("__JHASH__e_CSXZOMSHT__JHASH__"),i.jsx(c("CometMiddot.react"),{}),h._("__JHASH__auWIPhKvwTb__JHASH__",[h._plural(a,"number")])]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useRef,i=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children;a=a.thread;var d=h(null),e={thread:a};a=c("useMWXLazyDialog")(i);var f=a[0];a=function(){return f(e,function(){})};return b(a,d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSInboxInfoQuickActionIcons",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a={Image:d("fbicon")._(h("642537"),20),Invite:d("fbicon")._(h("497885"),20),Mute:d("fbicon")._(h("532353"),20),Nicknames:d("fbicon")._(h("486064"),20),Profile:d("fbicon")._(h("869051"),20),Search:d("fbicon")._(h("491283"),20),Unmute:d("fbicon")._(h("664775"),20)};g["default"]=a}),98);
__d("MWInboxInfoQuickActionIcons",["cr:1160"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1160")}),98);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],(function(a,b,c,d,e,f,g){"use strict";g.MWContextBannerQuickActionsIconsAddPeople=(a=b("cr:808")).AddPeople;g.MWContextBannerQuickActionsIconsEditName=a.EditName;g.MWContextBannerQuickActionsIconsMembers=a.Members;g.MWContextBannerQuickActionsIconsLink=a.Link;g.MWContextBannerQuickActionsIconsShare=a.Share}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWContextBannerQuickActionsIcons.bs","MWXCircleButton.react","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.label,e=a.testid;e=a.thread;var f=c("useMWAddParticipantDialog")(e);return h.jsx(c("MWXCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsAddPeople,label:b,onPress:function(){return f()},size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInThreadBanner.react",["CometPressable.react","CometProfilePhoto.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","TetraButton.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function j(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.type){case"link":return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b.url},type:"secondary"})});case"action":return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,onPress:b.onPress,ref:b.contextRef,type:"secondary"})});case"popover":return h.jsx(c("MWXRowItem.react"),{xstyle:i.grow,children:b.popoverTrigger(function(a,b){return h.jsx(c("TetraButton.react"),{label:d,onPress:function(){return b()},ref:a,type:"secondary"})})});case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}function a(a){var b,d=a.banner;a=a.ctaParser;var e=d.banner.iconUrl;e=e!=null?h.jsx(c("MWXRowItem.react"),{expanding:!1,children:h.jsx("div",{className:"x11i5rnm",children:h.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:24,source:{uri:e}})})}):null;b=h.jsx(c("MWXRowItem.react"),{expanding:!0,children:h.jsx(c("MWXTextPairing.react"),{body:((b=d.banner.titleSectionOne)!=null?b:"")+((b=d.banner.titleSectionTwo)!=null?b:""),bodyLineLimit:1,level:4,meta:d.banner.heading,metaLineLimit:1,metaLocation:"above"})});var f=d.banner.infoLabel!=null?h.jsx(c("MWXRowItem.react"),{children:h.jsx(c("MWXText.react"),{type:"meta1",children:h.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:d.banner.infoLabel})})}):null,g=d.leftButton,k=d.rightButton,l;if(g!=null&&k!=null)l=h.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[h.jsx(j,{action:a(d,g),button:g}),h.jsx(j,{action:a(d,k),button:k})]});else{g=(g=g)!=null?g:k;g!=null&&(l=h.jsx(c("MWXRow.react"),{paddingTop:8,children:h.jsx(j,{action:a(d,g),button:g})}))}var m=h.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[h.jsxs(c("MWXRow.react"),{children:[e,b,f]}),l]});k=d.bannerAction!=null?a(d,d.bannerAction):void 0;var n;if(k!=null)switch(k.type){case"link":n=h.jsx(c("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:k.url},xstyle:function(){return[i.linkBanner]},children:m});break;case"action":n=h.jsx(c("CometPressable.react"),{expanding:!0,onPress:k.onPress,ref:k.contextRef,children:m});break;case"popover":n=k.popoverTrigger(function(a,b){return h.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:m})});break;case"unimplemented":b=(e=(g=d.bannerAction)==null?void 0:g.ctaType)!=null?e:"";b!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+b,"messenger_web_product");n=m;break}else n=m;return h.jsx("div",{className:"xcrg951 x1n2onr6",children:h.jsx("div",{className:"xdppsyt",children:n})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){return b!=null?a.get(d("I64").to_string(b)):null};function i(a,b,c){return{banner:a,bannerAction:h(b,a.bannerCtaId),leftButton:h(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return h(b,a)}).filter(Boolean),rightButton:h(b,a.cta2Id)}}function a(a,b){var e=c("useReStore")(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_overflow_menu")).getKeyRange(b.threadKey,a.bannerId)},[e,b.threadKey,a.bannerId],f.id+":68"),h=new Map(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner_ctas")).getKeyRange(a.bannerId).map(function(a){return[d("I64").to_string(a.ctaId),a]})},[e,a.bannerId],f.id+":75"));return i(a,h,g)}g.createBanner=i;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBanners","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();h(function(){var d=a.runInTransaction(function(a){return c("LSFetchBanners")(b,c("LSFactory")(a))},"readwrite");c("promiseDone")(d)},[b,a])}g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5428046370622309"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6097620773683452"}),null);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTA","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b){c("promiseDone")(a.runInTransaction(function(a){return c("LSExecuteCTA")(b,c("LSFactory")(a))},"readwrite"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCta","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b,d){c("promiseDone")(a.runInTransaction(function(a){return c("LSServerMutationCta")(b,d,c("LSFactory")(a))},"readwrite"))},[a])}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","recoverableViolation","useCometLazyDialog","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var j=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("I64").to_string(a.contactId)})},[e,a,b],f.id+":81")}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=k(a),g=c("useCometLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),l=g[0],m=d("I64").to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:m});var n=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:m});var o=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:m});var p=g[0];return i(function(){var a=function a(g,i){var k=i.ctaId,q=i.ctaType,r=i.deeplinkUrl,s=i.webviewUrl;if(q==="marketplace_see_details"||q==="marketplace_banner_open_native"){var t;t=(t=s)!=null?t:r;if(t!=null)return{type:"link",url:t};c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product")}if(q==="marketplace_view_profile"){t=(t=s)!=null?t:r;if(t!=null)return{type:"link",url:t};c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product")}if(q==="marketplace_scaled_rate_seller"&&s!=null)return{type:"link",url:s};if(q==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(q==="marketplace_report_buyer"||q==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return l({entryPoint:"REPORT_BUTTON",id:f,location:q==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product")}if(j.has(q))return{onPress:function(){return e(k)},type:"action"};if(q==="marketplace_label_chat")return{onPress:function(){return n({threadID:m},function(){return e(k)})},type:"action"};if(q==="marketplace_mark_as_paid")return{onPress:function(){return o({threadID:m},function(){return e(k)})},type:"action"};if(q==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return p({},function(){return e(k)})},type:"action"};if(q==="marketplace_server_mutation"){r=i.actionContentBlob;var u="";if(r!=null){s=((t=JSON.parse(r))!=null?t:{}).marketplace_cta_type;typeof s==="string"?u=s:c("FBLogger")("messenger_web_product").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b(d("I64").of_string(m),u)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,l,p,n,o,m])}g.marketplaceCta=e;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),b=c("useMWLSAdContextCtaParser")();return function(c,e){var f=e.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(f))return a(c,e);else if(f==="ads_context")return b(c,e);return{type:"unimplemented"}}}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.banner;a=a.thread;b=d("useInThreadBannerWithCta").useInThreadBannerWithCta(b,a);a=c("useMWLSInThreadBannerCtaParser")();return h.jsx(c("MWChatInThreadBanner.react"),{banner:b,ctaParser:a})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.thread;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("in_thread_banner")).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":44");var g=a==null?void 0:a.cta1Type,j=a==null?void 0:a.cta2Type;return a==null||g==="proactive_warning_affirmative"||g==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"?null:h.jsx(i,{banner:a,thread:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("I64").to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("useC4GEngagementSurface",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b="messenger_inbox";switch(a){case"ChatTab":b="chats_tab";break}return b}g["default"]=a}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWCMIsAnyCMThread","MWV2IsTabFocusedContext.bs","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.threadKey,e=a.threadType,f=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),g=c("useC4GEngagementSurface")();d("Int64Hooks").useEffectInt64(function(){f&&c("MWCMIsAnyCMThread")(e)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",event:"thread_focus",source:"thread_view",surface:g,thread_id:d("I64").to_string(b)})},[b,e,f,g])}g["default"]=a}),98);
__d("MDCAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({IMPRESSION:1,TAP:2,FOCUS:3,UNFOCUS:4,SCROLL:5});c=a;f["default"]=c}),66);
__d("MDCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ADD_AS_ADMIN_INITATION:1,BLOCK_FROM_CHAT:2,BLOCK_MESSAGES_AND_CALLS:3,BLOCK_MESSAGES_AND_CALLS_FAILURE:4,BLOCK_MESSAGES_AND_CALLS_SUCCESS:5,BLOCK_ON_FACEBOOK:6,BLOCK_ON_FB_FAILURE:7,BLOCK_ON_FB_SUCCESS:8,BLOCK_USER_INITIATION:9,CHAT_SETUP_SELECT_LINK_RECIPIENT:10,CHAT_SETUP_SHEET_RENDERED:11,CHAT_SETUP_UNSELECT_LINK_RECIPIENT:12,CHAT_SHARE_LINK_SHEET_RENDERED:13,CONFIRM_PUBLIC_CHAT_ACKNOWLEDGEMENT:14,CREATOR_NUX_SHEET_RENDERED:15,DISCOVER_GROUP_CHAT:16,EDIT_CHAT:17,EDIT_CHAT_DESCRIPTION:18,EDIT_CHAT_FAILURE:19,EDIT_CHAT_NAME:20,EDIT_CHAT_SUCCESS:21,EDIT_MEMBER_REQUESTS:22,EVENT_COPY_LINK:23,EVENT_REMINDER_QP_CLICK:24,EVENT_REMINDER_QP_IMPRESSION:25,EVENT_REMINDER_XMA_IMPRESSION:26,EVENT_REMINDER_XMA_TAP:27,EVENT_SHARE_LINK:28,GROUP_CHAT_BUTTON_IMPRESSION:29,INVITE_LINK_IMPRESSION:30,INVITE_LINK_TAPPED:31,JOIN_CHAT_CLOSED:32,JOIN_CHAT_CONFIRM:33,JOIN_CHAT_CONSENT_CONFIRM:34,JOIN_CHAT_INITIATION:35,JOIN_CHAT_SHEET_RENDERED:36,MEMBER_REQUEST_JOIN_APPROVED:37,MEMBER_REQUEST_JOIN_DENIED:38,REMOVE_FROM_CHAT:39,REMOVE_FROM_CHAT_FAILURE:40,REMOVE_FROM_CHAT_INITIATION:41,REMOVE_FROM_CHAT_SUCCESS:42,REPORT_CHAT_TO_ADMIN_FAILURE:43,REPORT_CHAT_TO_ADMIN_INITIATION:44,REPORT_CHAT_TO_ADMIN_SUCCESS:45,REPORT_MESSAGE_TO_ADMINS:46,REPORT_MESSAGE_TO_ADMINS_FAILURE:47,REPORT_MESSAGE_TO_ADMINS_INITIATION:48,REPORT_MESSAGE_TO_ADMINS_SUCCESS:49,REQUEST_JOIN_CHAT_ERROR:50,REQUEST_JOIN_CHAT_SUCCESS:51,REQUEST_JOIN_GROUP_CHAT:52,REQUIRE_APPROVAL_TO_JOIN_DISABLED:53,REQUIRE_APPROVAL_TO_JOIN_ENABLED:54,SET_CHAT_CREATION_PHOTO:55,SET_CHAT_PHOTO:56,SET_GROUP_TYPE:57,THREAD_CREATE_ATTEMPT:58,THREAD_CREATE_ERROR:59,THREAD_CREATE_SUCCESS:60,THREAD_SETTINGS_RENDERED:61,UNBLOCK_FROM_CHAT:62,UNDO_APPROVE_MEMBER_REQUESTS:63,UNDO_DENY_MEMBER_REQUESTS:64,VIEW_ADMIN_MEMBERS:65,VIEW_ALL_MEMBERS:66,VIEW_EVENT:67,VIEW_MEMBER_REQUESTS:68,VIEW_USER_FB_PROFILE:69,VIEW_USER_PROFILE:70,BAN_FROM_CHAT_INITIATION:71,BAN_FROM_CHAT_SUCCESS:72,BAN_FROM_CHAT_FAILURE:73,UNBAN_FROM_CHAT_INITIATION:74,UNBAN_FROM_CHAT_SUCCESS:75,UNBAN_FROM_CHAT_FAILURE:76,COPY_LINK:77,SHARE_LINK_TO_FB_INITIATION:78,SHARE_LINK_TO_FB_CONFIRM:79,SUBMIT_FEEDBACK_INITATION:80,SUBMIT_FEEDBACK:81,SUBMIT_FEEDBACK_FAILURE:82,SUBMIT_FEEDBACK_SUCCESS:83,BAN_FROM_CHAT:84,ADD_THREAD_PHOTO:85,CHANGE_THREAD_PHOTO:86,SHARE_LINK_SENT:87,REMOVE_THREAD_PHOTO:88,INSTALL_MESSENGER_UPSELL_VIEWED:89,DOWNLOAD_MESSENGER_BUTTON_CLICKED:90,POST_XMA_VIEWED:91,THREAD_JOIN:92,SHARE_TO_FACEBOOK_BUTTON_CLICKED:93,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:94,CHAT_SHARED_TO_FACEBOOK:95,THREAD_OPEN:96,CHAT_RENDERED_IN_MIB_INBOX:97,REPORT_MESSAGE_TO_META:98,ADMIN_REMOVE_MESSAGE:99,REMOVE_MESSAGE:100,MESSAGE_SEND:101,DELETE_CHAT:102,LEAVE_CHAT:103,MUTE_CHAT:104,UNMUTE_CHAT:105,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:106,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:107,NOTIF_IMPRESSION:108,NOTIF_CLICKED:109,REPORT_CHAT_TO_FACEBOOK:110,REPORTED_CONTENTS_RENDERED:111,NOTIFICATION_CONTROL_RENDERED:112,NOTIFICATION_CONTROL_HIGHLIGHTS_SELECTED:113,NOTIFICATION_CONTROL_ALL_SELECTED:114,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:115,NOTIFICATION_CONTROL_NONE_SELECTED:116,NOTIFICATION_CONTROL_MUTE_SELECTED:117,NOTIFICATION_CONTROL_UNMUTE_SELECTED:118,USER_PROFILE_BOTTOMSHEET:119,MESSAGE_USER:120,BLOCKED_USER_WARNING_RENDERED:121,BLOCKED_USER_WARNING_CONFIRM:122,BLOCKED_USER_WARNING_LEAVE:123,PUSH_NOTIFICATION_MESSAGE_RECEIVED_RENDERED:124,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:125,NOTIF_SENT:126,NOTIF_CONVERTED:127,OPEN_INVITE_LINK_VIEW:128,INVITE_SCREEN_RENDERED:129,INVITE_BUTTON_TAPPED:130,SEND_BUTTON_TAPPED:131,VIEW_CHAT_BUTTON_TAPPED:132,PROMOTE_ADMIN_BUTTON_TAPPED:133,DEMOTE_ADMIN_BUTTON_TAPPED:134,ADMIN_LIMIT_REACHED_IMPRESSION:135,PROMOTE_ADMIN_FAIL_IMPRESSION:136,DEMOTE_ADMIN_FAIL_IMPRESSION:137,FIRST_CREATE_BOTTOMSHEET_RENDERED:138,CREATE_CHANNEL_SCREEN_RENDERED:139,SHOW_ON_PROFILE_TOGGLE:140,JOIN_APPROVAL_TOGGLE:141,NAME_TEXT_INPUT:142,CHANGE_IMAGE_TAPPED:143,THREAD_CREATE:144,DISMISS_BUTTON_TAPPED:145,SHARE_TO_FEED_SCREEN_RENDERED:146,SHARE_TO_FEED_SKIPPED:147,SHARE_TO_FEED_BUTTON_TAPPED:148,POST_TEXT_INPUT:149,INVITE_TO_CHAT_SCREEN_RENDERED:150,COPY_LINK_TAPPED:151,DONE_BUTTON_TAPPED:152,INVITE_SENT_SUCCESS:153,SEARCH_BAR_INPUT_FOCUS:154,SEARCH_BAR_INPUT_UNFOCUS:155,SHOW_ON_PROFILE_RENDERED:156,SHOW_ON_PROFILE_TAPPED:157,PRIMARY_PROFILE_QP_RENDERED:158,CREATE_CHANNEL_TAPPED:159,NOT_NOW_TAPPED:160,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:161,VIEW_PINNED_CHANNELS:162,UNDO_BUTTON_TAPPED:163,INVITE_SENT_FAILED:164,INVITE_ACCEPT:165,INVITE_DECLINE:166,DIRECT_INVITE_NOTIFICATION_RENDERED:167,DIRECT_INVITE_SHEET_RENDERED:168,DIRECT_INVITE_BULK_SENT_SUCCESS:169,DIRECT_INVITE_BULK_SENT_FAIL:170,CHAT_INVITE_SHEET_RENDERED:171,DIRECT_INVITE_SENT_SUCCESS:172,DIRECT_INVITE_SENT_FAIL:173,PAUSE_CHANNEL:174,RESUME_CHANNEL:175,FEATURED_UNIT_PROFILE_QP_RENDERED:176,PIN_CARD_TAPPED:177,PIN_FEATURED_CARD_SUCCESS:178,PIN_FEATURED_CARD_FAILURE:179,CHANNELS_FEATURED_UNIT_RENDERED:180,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:181,RENDER_CHAT_INVITE_SHEET:182,RENDER_INVITE_PRESET_LIST:183,INVITE_PRESET_LIST_RENDERED:184,CREATE_POST_BUTTON_TAPPED:185,PUBLIC_CHAT_BUTTON_IMPRESSION:186,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:187,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:188,DISMISS_PAUSE_CHANNEL_DIALOG:189,DISMISS_RESUME_CHANNEL_DIALOG:190,CANCEL_RESUME_CHANNEL:191,CANCEL_PAUSE_CHANNEL:192,DEEPLINK_LANDING_PAGE_RENDERED:193,DIRECT_INVITE_SHEET_SKIPPED:194,CREATE_POST_BUTTON:195,CYSC_QP_CARD_IMPRESSION:196,CONVO_PROMPT_REMOVED:197,CONVO_PROMPT_RENDERED:198,CONVO_PROMPT_SCROLLED:199,CONVO_PROMPT_SENT:200,THREAD_PREVIEW_OPEN:201,NON_MEMBER_COMPOSER_SHOWN:202,PIN_FEATURED_CARD_TOGGLE:203,CHANNELS_TAB_ITEM_RENDERED:204,CHANNELS_TAB_ITEM_TAPPED:205,PROFILE_CHANNELS_TAB_RENDERED:206,PIN_TO_INBOX_SUCCESS:207,PIN_TO_INBOX_FAILURE:208,UNPIN_FROM_INBOX_SUCCESS:209,UNPIN_FROM_INBOX_FAILURE:210,PINNED_THREAD_RENDERED:211});c=a;f["default"]=c}),66);
__d("MDCParentSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MESSENGER:1,FACEBOOK:2,FACEBOOK_NEWSFEED:3,NOTIF_JEWEL:4,CHAT_SETUP:5,THREAD_VIEW:6,THREAD_DETAILS:7,CHAT_INVITE_SHEET:8,DM_CREATION_OMNIPICKER:9,CREATE_PUBLIC_CHAT_DIALOG:10,CHAT_SHARE_LINK:11,MESSENGER_INBOX:12,LONG_PRESS_MENU:13,SWIPE_LEFT_MENU:14,CHANNEL_DELETE_SHEET:15,EDIT_PUBLIC_CHAT_DIALOG:16});c=a;f["default"]=c}),66);
__d("MWLogSocialChannelFalcoEvent",["requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerDiscoverableChatClientEventsFalcoEvent").__setRef("MWLogSocialChannelFalcoEvent"),i=new Set([186,180]),j=5*60*1e3,k=null,l=null;function a(a){var b=a.action,d=b===void 0?2:b,e=a.clientExtras,f=a.event;b=a.parentSurface;var g=b===void 0?1:b,m=a.source,n=a.surface,o=a.targetFbids,p=a.threadFbid,q=a.userId;h.onReady(function(a){var b=Date.now();(k==null||l!=null&&b-l>j||i.has(f))&&(k=c("uuidv4")());l=b;a.log(function(){return{action:d,event:f,extra:e,parent_surface:g,session_id:k,source:m,surface:n,target_fbids:o,thread_fbid:p,user_id:q}})})}g.logSocialChannelFalcoEvent=a}),98);
__d("useMessengerWebThreadImpressionLogging",["CometDebounce","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover.bs","MWLogSocialChannelFalcoEvent","MWPActor.react","MWV2IsTabFocusedContext.bs","gkx","logMessengerWebFalcoEvent","requireDeferred","useC4GEngagementSurface","useMWEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("useMessengerWebThreadImpressionLogging"),i=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("useMessengerWebThreadImpressionLogging"),j=c("gkx")("571")?3:11,k=c("gkx")("571")?1:2,l=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.groupThreadSubtype,e=a.threadKey,f=a.threadType,g=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),m=c("useMWEntrypoint")();a=c("useC4GEngagementSurface")();var n=d("MWPActor.react").useActor(),o=d("MAWThreadCutover.bs").useIsCutoverOpenThread(e);d("Int64Hooks").useEffectInt64(function(){if(g){l({threadKey:e,threadType:f},"thread_impression",m,void 0);var a=d("LSMessagingThreadTypeUtil").isSecure(f);h.onReady(function(c){return c.log(function(){return{entry_point:m,event_type:"thread_impression_event",group_thread_subtype:b==null?void 0:d("I64").to_string(b),is_cutover:o,thread_id:d("I64").to_string(e),thread_type:d("I64").to_string(f),transport_type:a?"TINCAN":"MI"}})});d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f)&&i.onReady(function(a){return a.log(function(){return{action:2,action_name:2,event:d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(f)?136:1,event_name:d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(f)?136:1,parent_surface:j,parent_surface_name:j,source:62,source_name:62,surface:7,surface_name:7,thread_id:d("I64").to_string(e)}})});(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(f)||d("LSMessagingThreadTypeUtil").isSocialChannel(f))&&d("MWLogSocialChannelFalcoEvent").logSocialChannelFalcoEvent({action:1,event:d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(f)?201:96,parentSurface:k,source:46,surface:13,threadFbid:d("I64").to_string(e),userId:d("I64").to_string(n)})}},[e,m,f,g,n,b,o,a])}g["default"]=a}),98);
__d("useThreadLastMessageTimeMs",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a).map(function(a){return a.timestampMs})},[b,a],f.id+":24")}g["default"]=a}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MessengerFormattingConfig","TetraText.react","UnicodeUtils","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.BlockQuote,i.InlineQuote,i.InlineCode,i.Bold,i.Italics,i.StrikeThrough];function a(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=d("UnicodeUtils").strlen(k[0]);g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatReplyText.bs",["fbt","CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform","cr:2472","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var e=a.transformEmoticons,f=a.isHotLike,g=a.ranges;a=a.text;e=e!=null?e:!0;f=f!=null?f:!1;var j={};j.MessengerTextFormatting=[d("MWChatTextFormatting").replyRenderer];a=b("cr:2472")==null?a:b("cr:2472").unvault(a);var k=h._("__JHASH__HyRDoZftJu4__JHASH__").toString();f=f?k:a;k={maxLength:120,maxLines:2,renderers:j,text:f,transforms:e?d("MWChatTextTransform").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1};g!=null&&(k.ranges=g);a=i.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},k));return i.jsx("div",{className:"xi81zsa",dir:"auto",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWChatReactionsActionContainer.react",["JSResourceForInteraction","MWV2MessageRowIsRowFocusedContext.bs","MWXLazyPopoverTrigger.react","MWXPopoverLoadingState.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useState,l={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}};function a(a){var b=a.align;b=b===void 0?"middle":b;var e=a.alwaysShowEmojiPicker;e=e===void 0?!1:e;var f=a.children,g=a.closeActionsMenu,m=a.disableCustomReactions;m=m===void 0?!1:m;var n=a.hasReactionsV2,o=a.isBroadcastThread,p=a.isSecure;p=p===void 0?!1:p;var q=a.messageID,r=a.onVisibilityChange,s=a.reactionsPopoverResource,t=a.selectedReactions,u=a.sendReaction,v=j(d("MWV2MessageRowIsRowFocusedContext.bs").context);s=(a=s)!=null?a:c("JSResourceForInteraction")("MWChatReactionsMenu.react").__setRef("MWChatReactionsActionContainer.react");a=k(!1);var w=a[0],x=a[1],y=t!=null&&t.length>0&&t[0]||void 0;a=e||w;e=i(function(a){var b=y!=null&&n!==!0&&y===a;u(a,b);return g()},[y,n,u,g]);w=i(function(a){a||x(!1),r(a),v.setFocused(a)},[v,r]);return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:b==="end_"?"end":b,fallback:h.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:l.popoverLoading}),onVisibilityChange:w,popoverProps:{closeActionsMenu:g,disableCustomReactions:m,isBroadcastThread:o,isSecure:p,messageID:q,onClose:c("emptyFunction"),onSelect:e,selectedReactions:t,setShowEmojiPicker:x,showEmojiPicker:a},popoverResource:s,popoverType:a?"dialog":"menu",position:a?"below":"above",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.size;b=b===void 0?16:b;a=a.viewBox;a=a===void 0?"0 0 16 16":a;return i.jsxs("svg",{fill:"none",height:b,viewBox:a,width:b,xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("title",{children:h._("__JHASH__Wo2O5nlXhKT__JHASH__")}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");c=d("react");e=c.createContext;var h=c.createElement,i=c.useContext;d={current:function(){}};c={current:function(){}};var j={current:function(){}},k={current:function(){}};d={forwardMessage:d,openReactionsMenu:c,removeMessage:j,replyToMessage:k};var l=e(d);function a(){return i(l)}function b(a){var b=a.children;a=a.value;return h(l.Provider,{children:b,value:a})}b.displayName=b.name+" [from "+f.id+"]";g.useMessageRowActionsContext=a;g.MWV2MessageRowActionsContextProvider=b}),98);
__d("MWChatReactionsAction.react",["fbt","CometPressable.react","MWChatColors.bs","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWV2MessageRowActionsContext.bs","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","useIsMultiReactionEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});function a(a){var b=h._("__JHASH__czR8vxcW0mN__JHASH__"),e=d("MWV2MessageRowActionsContext.bs").useMessageRowActionsContext(),f=e.openReactionsMenu,g=j(function(a){if(c("gkx")("3417")){f.current=c("emptyFunction");return}},[f]);k(function(){return g},[g]);e=a.messageID;e=d("MWChatMessageId").getThreadId(e);var m=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(e);return i.jsx(c("MWChatReactionsActionContainer.react"),babelHelpers["extends"]({},a,{children:function(a,e,g,h,j,k){g=function(){e(),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};f.current=g;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:b,children:i.jsx(c("CometPressable.react"),{"aria-label":b,expanding:!0,onHoverIn:h,onHoverOut:j,onPress:g,onPressIn:k,overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon),children:m?i.jsx(c("MWMessageReactionIcon.react"),{size:22,viewBox:"-4 -2 22 22"}):l})})})})}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={line:{backgroundColor:"x1iuwi03",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=h._("__JHASH__dAK4xN4bf5e__JHASH__");return i.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:j.line,children:i.jsx(i.Fragment,{})}),i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:a})}),i.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:j.line,children:i.jsx(i.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","CometPressable.react","CurrentUser","MWPColorUtils","MWPThreadTheme.bs","MWXIcon.react","ODS","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function k(){var a=d("MWPThreadTheme.bs").useHook();a=a.threadTheme;a=d("MWPColorUtils").int64ToHex(a.fallbackColor);return i.jsx("svg",{"aria-hidden":!0,fill:"none",height:"18",viewBox:"7 7 22 22",width:"18",children:i.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}k.displayName=k.name+" [from "+f.id+"]";k._isSVG=!0;function a(a){var b=a.onPress;return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(){b();var a=c("CurrentUser").getAppID();a=a==null?"unknown":a;d("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:j.circleButton,children:i.jsx(c("MWXIcon.react"),{icon:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("I64").of_int32(60),j=d("I64").of_int32(60*60),k=d("I64").of_int32(24*60*60),l=d("I64").of_int32(7*24*60*60);function a(a,b){b=d("I64").of_float(b.getTime()/1e3);a=d("I64").div(a,d("I64").of_int32(1e3));b=d("I64").sub(b,a);a=h._("__JHASH__FdnMQ3ayYbi__JHASH__");if(d("I64").lt(b,i))return a;else if(d("I64").lt(b,j)){var c=d("I64").to_string(d("I64").div(b,i));return h._("__JHASH__wurNpoApU1z__JHASH__",[h._param("minutes",c)])}else if(d("I64").lt(b,k)){c=d("I64").to_string(d("I64").div(b,j));return h._("__JHASH__Og6TIDKGh51__JHASH__",[h._param("hours",c)])}else if(d("I64").lt(b,l)){c=d("I64").to_string(d("I64").div(b,k));return h._("__JHASH___ys48wQwNKi__JHASH__",[h._param("days",c)])}else return a}g.getSentTitleWithTimestamp=a}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useContext,j=b.useMemo,k=b.useRef,l=e({findSendingMessage:c("emptyFunction").thatReturnsFalse,trackSendingMessage:c("emptyFunction"),untrackSendingMessage:c("emptyFunction")});function a(a){a=a.children;var b=k(new Set()),c=j(function(){return{findSendingMessage:function(a){return b.current.has(a)},trackSendingMessage:function(a){b.current.add(a)},untrackSendingMessage:function(a){b.current["delete"](a)}}},[b]);return h.jsx(l.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return i(l)}};g["default"]=d}),98);
__d("MWStatusText.react",["MWPThreadTheme.bs","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignLeft:{paddingStart:"xtt4iyq",$$css:!0},alignRight:{paddingEnd:"x1sxyh0",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0}};function a(a){var b=a.alignLeft,e=a.error,f=a.text;a=a.xstyle;var g=d("MWPThreadTheme.bs").useHook();return h.jsx("span",{className:c("stylex")(b===!0?i.alignLeft:i.alignRight,d("MWPThreadTheme.bs").isGradient(g)?i.mask:!1,a),role:"none",children:h.jsx(c("MWXText.react"),{align:b===!0?"start":"end",color:e===!0?"negative":"secondary",testid:void 0,type:"meta4",children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPThreadTheme.bs","MWStatusText.react","clearTimeout","react","setTimeout","stylex","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState,m=3e3,n={mask:{backgroundColor:"xcrg951",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",$$css:!0},statusTextRow:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=a.alignLeft,e=a.isLastMessage,f=a.message,g=a.status,o=a.xstyle;a=l(!1);var p=a[0],q=a[1],r=k(null),s=k(!1);a=c("MWMessageSendingContext.react").useHook();var t=a.findSendingMessage,u=a.trackSendingMessage,v=a.untrackSendingMessage;a=d("MWPThreadTheme.bs").useHook();var w=c("useServerTime")();i(function(){v(f.offlineThreadingId);g.type==="Sending"?(u(f.offlineThreadingId),r.current=c("setTimeout")(function(){q(!0)},m)):r.current&&c("clearTimeout")(r.current);return function(){r.current&&c("clearTimeout")(r.current)}},[t,f.offlineThreadingId,g.type,u,v]);var x=j(function(){g.type==="Sending"?u(f.offlineThreadingId):t(f.offlineThreadingId)&&(s.current=!0);var a=g.type==="Sending"||s.current;a=[n.statusText,a&&n.mountAnimation,o];switch(g.type){case"Sending":return p?h.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:a}):null;case"Sent":case"Delivered":return e?h.jsx(c("MWStatusText.react"),{alignLeft:b,text:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(f.timestampMs,w).toString(),xstyle:a}):null;case"Error":return h.jsx(c("MWStatusText.react"),{alignLeft:b,error:!0,text:d("MWMessageDeliveryStatus").Titles.error.toString(),xstyle:a});default:return null}},[b,t,e,f.offlineThreadingId,f.timestampMs,w,p,g.type,u,o]);return h.jsx("div",{className:c("stylex")(n.statusTextRow,d("MWPThreadTheme.bs").isGradient(a)?n.mask:!1),"data-testid":void 0,children:x})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRange","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetch","LSVerifyContactRowExists","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useEffect,k=e.useMemo,l=9;function m(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a)},[b,a],f.id+":53"),g=k(function(){var a=new Map();for(var b=e,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g==null?void 0:g.profileName;h!=null&&a.set(d("I64").to_string(g.ownerId),h)}return a},[e]);return g}function a(a){var b=a.messageId,c=a.reactions;a=a.threadKey;var e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),f=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a);return f?i.jsx(o,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a}):i.jsx(n,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var e=a.messageId,g=a.parentThreadKey,n=a.reactions,o=a.threadKey,p=c("useReStore")(),q=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.table("reactions")).getKeyRange(o,e),d("ReQL").fromTableAscending(p.table("contacts")))},[p,o,e],f.id+":115"),r=m(g);j(function(){c("promiseDone")(p.runInTransaction(function(a){return b("Promise").all(q.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExists")(e.id,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a));else return b("Promise").resolve()}))},"readwrite"))},[p,q]);a=k(function(){var a=new Map(q.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[d("I64").to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=n.map(function(b){b=d("I64").to_string(b.actorId);if(r.has(b))return r.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,l);if(e>l){e=e-l;b.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[r,n,q]);g=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:g})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.messageId,g=a.parentThreadKey,k=a.threadKey,n=c("useReStore")();j(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(n.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(k,e,void 0,void 0,c("LSFactory")(a))},"readwrite"))},[n,k,e]);var o=m(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(n.table("reactions_v2_details")).getKeyRange(k,e).map(function(a){var b;return(b=o.get(d("I64").to_string(a.reactorId)))!=null?b:a.fullName})},[n,o,k,e],f.id+":248");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(n.table("reactions_v2")).getKeyRange(k,e)},[n,k,e],f.id+":261");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var q=d("MWPActor.react").useActor(),r=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(n.table("contacts")).getKeyRange(q)},[n,q],f.id+":280");g=g?g.map(function(a){return d("I64").to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(r==null?void 0:r.id)!=null?o.get(d("I64").to_string(r.id)):null)!=null?b:r==null?void 0:r.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&r&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._("__JHASH__GTBXwO8BaZr__JHASH__");r=a.slice(0,l);if(a.length>l){g=a.length-l;r.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]))}b=r.length===0?p:r.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:b})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsReactionDialogEnabled",["LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(184),a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWMessageReactionsContainer.react",["I64","MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emoji:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.emojis,f=a.message,g=a.reactions,k=a.reactionsV2,l=a.renderEmojis;a=a.threadKey;f=f.messageId;k=k!=null?k.map(function(a){return d("I64").to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;var m=c("useIsReactionDialogEnabled")(a);k=k>1?k:b;var n=k>1;b=e.map(function(a,b){var f=n||b!==e.length-1,g=d("MWChatReactionsUtils.bs").isHeart(a[0]);return h.jsx("div",{className:c("stylex")(i.emoji,m?i.emojiWithCursor:!1,f?i.emojiMargin:!1),children:h.jsx("div",{className:c("stylex")(g?i.scaleHeartEmoji:!1),children:l?l(a,16,"messenger_reaction_emoji_"+a[0]):h.jsx(c("MWChatReactionEmoji.bs"),{emoji:a,size:16,testid:void 0})})},String(b))});b=h.jsxs("div",{className:"x6s0dn4 x2bj2ny x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x10vwrwz x78zum5 xl56j7k x4p5aij x19um543 x1j85h84 x1m6msm xp4054r",role:"none",children:[b,n?h.jsx(j,{reactionCount:k}):null]});return m?h.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:h.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:f,reactions:g,threadKey:a}),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.reactionCount;a=c("intlSummarizeNumber")(a);var b=a.length;return h.jsx("div",{className:"xi81zsa x1ncwhqj x14ju556 xdhweic x150jy0e x1e558r4 x2b8uid",role:"none",style:{width:b+"ch"},children:a})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","CometPressable.react","I64","LSClearReactionsV2DetailsAndRange","LSFactory","LSIssueReactionsV2DetailsUsersListFetch","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState,m=9;function a(a){var b=a.messageId,e=a.onTooltipCTAPress,g=a.reactionFbid,n=a.threadKey,o=c("useReStore")();a=l(!0);var p=a[0],q=a[1];j(function(){q(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(o,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(n,b,g,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){q(!1)}))},[o,n,b,g,q]);var r=d("MWPActor.react").useActor();a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(o.table("reactions_v2_details")).getKeyRange(n,b).filter(function(a){return d("I64").equal(a.reactionFbid,g)})},[o,n,b,g],f.id+":79");var s=new Map();a.forEach(function(a){return s.set(d("I64").to_string(a.reactorId),a.fullName)});var t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("threads")).getKeyRange(n).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(o.table("contextual_profile_v1")).filter(function(a){return d("I64").equal(a.associatedEntityId,b)}),f.id+":97")})},[o,n],f.id+":92"),u=null;t!=null&&t.forEach(function(a){var b=d("I64").to_string(a.ownerId),c=a.profileName;if(c==null)return;s.has(b)&&s.set(b,c);d("I64").equal(a.ownerId,r)&&(u=c)});var v=a.map(function(a){return s.get(d("I64").to_string(a.reactorId))}).filter(Boolean);t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("reactions_v2")).getKeyRange(n,b,g)},[o,n,b,g],f.id+":126");a=(a=t==null?void 0:t.viewerIsReactor)!=null?a:!1;var w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.table("contacts")).getKeyRange(r).map(function(a){return a.name})},[o,r],f.id+":138");w=u!=null?u:w;var x=t!=null?d("I64").to_int32(t.count):0;x===1&&a&&v.length===0&&w!=null?v.push(w):a&&v[0]!=null&&w!=null&&((t=v[0])==null?void 0:t.toString())!==w&&v.unshift(w);var y=h._("__JHASH__GTBXwO8BaZr__JHASH__");a=function(){var a=[].concat(v.slice(0,m)),b=!1;if(v.length>m){var d=x-m;if(d<0)return[y,!0];a.push(i.jsx(c("MWXText.react"),{color:"highlight",type:"body4",children:h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(d),h._param("count",String(c("intlSummarizeNumber")(d)))]).toString()}))}else b=!p&&v.length!==x;return a.length===0?[y,b]:[a.map(function(a,b){return i.jsx("div",{children:a},String(b))}),b]}();t=a[0];var z=a[1],A=c("usePrevious")(z),B=k(null);j(function(){return function(){B.current!=null&&window.clearTimeout(B.current)}},[]);j(function(){if(A===z)return;if(!z)B.current!=null&&(window.clearTimeout(B.current),B.current=null);else{if(B.current!=null)return;B.current=window.setTimeout(function(){B.current=null,c("promiseDone")(o.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRange")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(o.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(n,b,void 0,void 0,c("LSFactory")(a))},"readwrite"))},700)}},[o,z,A,b,g,n]);return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__g_e4jdcSB-i__JHASH__"),onPress:e,overlayDisabled:!0,children:i.jsx("div",{children:t})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?"":b[0].join("")}).filter(function(a){return a!==""})}a={useSelectedReaction:function(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey],f.id+":34");if(g!=null)return g.reaction},useSelectedReactionsV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor&&d("I64").gt(a.count,d("I64").zero)}).map(function(a){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":59");return[a==null?void 0:a.reactionLiteral,a==null?void 0:a.reactionLiteralVariant16].filter(Boolean)})},[b,a.threadKey,a.messageId],f.id+":50").flat();e=h(e);return e},useSelectedReactionV2:function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey],f.id+":78");return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("reaction_v2_types")).getKeyRange(e.reactionFbid).map(function(a){return a.reactionLiteral}):d("ReQL").empty()},[b,e],f.id+":86")}};g.MWV2MessageReactionHooks=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useMemo,i=b.useRef;function j(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function k(a,b){b=((b=b)!=null?b:[]).filter(function(a){return d("I64").gt(a.count,d("I64").zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=i(!0),e=i([]),f=h(function(){return k(a,b)},[a,b]),g=h(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return h(function(){if(c.current)c.current=!1,e.current=f.sort(function(a,b){return d("I64").compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")});else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:d("I64").to_int32(a.reaction.count)>0});e.current=j(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["fbt","BaseContextualLayer.react","CometPressable.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji.bs","MWChatReactionsActionContainer.react","MWChatReactionsUtils.bs","MWLSThread","MWMessageReactionIcon.react","MWPColorUtils","MWPThreadTheme.bs","MWV2MessageReactionHooks","MWXPopover.react","MWXText.react","MWXTooltip.react","ODS","emptyFunction","gkx","react","stylex","unrecoverableViolation","useCometTheme","useFadeEffect","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","usePrevious","useThrottled"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.forwardRef;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x1erype6",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xvvkyix",transformOrigin:"x1jpgh95",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"x10b6aqq",paddingEnd:"xsyo7zv",paddingStart:"xurb0ha",paddingTop:"x1yrsyyn",position:"x1n2onr6",textAlign:"xp4054r",$$css:!0},emojiRowContainer:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},tooltipContainer:{backgroundColor:"xj5tmjb",borderTopStartRadius:"x1r9drvm",borderTopEndRadius:"x16aqbuh",borderBottomEndRadius:"x9rzwcf",borderBottomStartRadius:"xjkqk3g",boxShadow:"xms15q0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}},p=e(function(a,b){var e=a.messageID,f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,k=a.onPressInPrerenderer,l=a.showPopover;a=h._("__JHASH__czR8vxcW0mN__JHASH__");e=j(function(){l(),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")},[e,l]);return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onHoverIn:f,onHoverOut:g,onPress:e,onPressIn:k,overlayRadius:100,ref:b,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:i.jsx("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",role:"none",children:i.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm x78zum5 xdt5ytf xlup9mm xl56j7k x1npj6m0",children:i.jsx(c("MWMessageReactionIcon.react"),{})})})})})});function q(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.threadKey;a=a.threadType;var h=d("I64").to_string(g),j=d("I64").to_string(e.timestampMs),k=l(function(){return d("MWChatMessageId").makeSent(h,e.messageId,j)},[h,e.messageId,j]);a=d("MWCMThreadTypes.react").isBroadcastThread(a);g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(g);var m=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e);return i.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:g&&a,hasReactionsV2:g,isBroadcastThread:a,isSecure:b,messageID:k,onVisibilityChange:c("emptyFunction"),selectedReactions:(g=m)!=null?g:void 0,sendReaction:f,children:function(a,b,c,d,e,f){return i.jsx(p,{messageID:k,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.emojis,e=a.message,f=a.onOpenDialog,g=a.outgoing;a=a.reactionsV2;var h=null,k=n(-1),l=k[0],p=k[1],r=e.threadKey;k=d("MWLSThread").useThread(r,function(a){return a.threadType});if(k==null)throw c("unrecoverableViolation")("thread cannot be null when reacting to message","messenger_web_product");var t=d("LSMessagingThreadTypeUtil").isSecure(k),u=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,t,"instant_react"),v=j(function(a,b){return u(e.messageId,a,b?"remove_reaction":"reaction")},[u,e.messageId]),w=c("useThrottled")(function(a,b){v(a,b)},750),x=m(null),y=j(function(a,b){f({reactionFbid:a,reactionType:b}),p(-1)},[f,p]),z=j(function(a){x.current!=null&&window.clearTimeout(x.current),p(a)},[]),A=j(function(a){if(l===a)return;x.current!=null&&window.clearTimeout(x.current);p(-1);x.current=window.setTimeout(function(){p(a)},300)},[l]),B=j(function(){x.current!=null&&window.clearTimeout(x.current),x.current=window.setTimeout(function(){return p(-1)},300)},[]),C=c("useGetMultiReactOrderedItems")(b,a),D=C.length||0,E=c("usePrevious")(C);if(D<1)return null;D=D>0&&D<d("useIsMultiReactionEnabled").MAX_REACTION_COUNT;a!=null&&(h=C.map(function(a,f){var g=a.emoji;a=a.reaction;return b[f]==null?null:i.jsx(s,{emoji:g,isTooltipShown:l===f,message:e,onFocus:function(){return z(f)},onMouseEnter:function(){return A(f)},onMouseLeave:B,onTooltipCTAPress:y,reaction:a,sendReaction:w,shouldAnimate:(E==null?void 0:E.find(function(a){return a.emoji.join("")===g.join("")}))==null&&d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:r},g)}));return i.jsxs("div",{className:c("stylex")(o.wrapper,g?o.wrapperOutgoing:!1),"data-testid":void 0,children:[h,D?i.jsx(q,{isSecure:t,message:e,sendReaction:v,threadKey:r,threadType:k}):null]})}a.displayName=a.name+" [from "+f.id+"]";var r={"--card-background":"rgba(0,0,0,0)"};function s(a){var b=a.emoji,e=a.isTooltipShown,f=a.message,g=a.onFocus,h=a.onMouseEnter,j=a.onMouseLeave,l=a.onTooltipCTAPress,p=a.reaction,q=a.sendReaction,s=a.shouldAnimate;a=a.threadKey;var t=c("useCometTheme")("invert"),u=t[0];t=t[1];var v=c("useCometTheme")("light");v[0];v=v[1];var w=d("MWChatReactionsUtils.bs").isHeart(b[0]),x=m(null);e=c("useFadeEffect")(e);var y=e[0],z=e[1];e=e[2];var A=n(!1),B=A[0],C=A[1],D=m(null);k(function(){D.current!=null&&window.clearTimeout(D.current)},[]);k(function(){s&&(C(!0),D.current!=null&&window.clearTimeout(D.current),D.current=window.setTimeout(function(){D.current=null,C(!1)},600))},[s]);A=d("MWPThreadTheme.bs").useHook();A=A.threadTheme;A=d("MWPColorUtils").int64ToHex(A.fallbackColor);var E=A+"40";E="linear-gradient(0deg, "+E+", "+E+"), #FFFFFF";var F=d("I64").to_string(p.count),G=F.length;return i.jsxs("div",{className:c("stylex")(p.viewerIsReactor?v:null),onFocus:g,onMouseEnter:h,onMouseLeave:j,children:[i.jsx(c("CometPressable.react"),{onPress:function(){q(b.join(""),p.viewerIsReactor)},overlayRadius:100,ref:x,xstyle:o.emojiRowContainer,children:i.jsxs("div",{className:"x6s0dn4 x1vtvx1t xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",style:p.viewerIsReactor?{background:E}:null,children:[i.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm",children:i.jsx("div",{className:c("stylex")(s||B?o.animatedEmoji:!1,w?o.scaleHeartEmoji:!1),children:i.jsx(c("MWChatReactionEmoji.bs"),{emoji:b,size:16,testid:void 0})})}),i.jsx("div",{className:"xi81zsa x1nxh6w3 x1s688f x1k2j06m x10ogl3i x2b8uid","data-testid":void 0,role:"none",style:p.viewerIsReactor?{color:A,minWidth:G*9}:{minWidth:G*9},children:F})]})}),y&&i.jsx(u,{children:i.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:x,position:"above",ref:e,children:i.jsx("div",{style:c("gkx")("571")?null:r,children:i.jsx(c("MWXPopover.react"),{withArrow:c("gkx")("571"),children:i.jsx("div",{className:c("stylex")(t,o.tooltipContainer,z&&o.tooltipContainerVisible),role:"tooltip",children:i.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:i.jsx(c("MWChatMultiReactionsTooltip.react"),{messageId:f.messageId,onTooltipCTAPress:function(){return l(p.reactionFbid,b.join(""))},reactionFbid:p.reactionFbid,threadKey:a})})})})})})})]})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2});f["default"]=a}),66);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.altText,d=a.head;a=a.xstyle;return d.imageSrc===""?h.jsx(c("MDSGlimmer.react"),{index:1,xstyle:i.profilePlaceholder}):h.jsx("img",{alt:b,className:c("stylex")(i.image,a),"data-testid":void 0,height:"14px",src:d.imageSrc,width:"14px"})}a.displayName=a.name+" [from "+f.id+"]";var i={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",userSelect:"x87ps6o",verticalAlign:"x11njtxf",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};g["default"]=a}),98);
__d("MWTheme.react",["I64","cr:4199","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.createContext,k=i.useContext,l=i.useEffect,m=i.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function n(a){return"#"+a.slice(2)}function o(a){a=d("I64").to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var p=j({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4199")});function q(){return k(p).theme}function r(){var a=k(p),b=a.clearTheme;l(function(){return b},[b]);return[a.setTheme,b]}function s(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=m(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return h.jsx(p.Provider,{value:a,children:b})}s.displayName=s.name+" [from "+f.id+"]";function t(a){return a.type==="gradient"}g.defaultTheme=b("cr:4199");g.lighten=a;g.top=e;g.aRGBtoHex=n;g.intToHex=o;g.useTheme=q;g.usePreview=r;g.MWThemeProvider=s;g.isGradient=t}),98);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPContactContext.react",["react","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo,k=e.useRef,l=h.createContext({authorName:void 0,contact:void 0,nickname:void 0}),m=h.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return i(l)}function b(){return i(m)}function c(a){var b=a.children,c=a.contact,d=a.nickname,e=function(){var a;if(d!=null)a=d;else if(c!=null){var b=c.firstName;a=b!=null?b:c.name}else a=void 0;return a}();a=j(function(){return{authorName:e,contact:c,nickname:d}},[d,e,c]);var f=n(c),g=j(function(){return{authorName:e,contact:f,nickname:d}},[d,e,f]);return h.jsx(l.Provider,{value:a,children:h.jsx(m.Provider,{value:g,children:b})})}c.displayName=c.name+" [from "+f.id+"]";function n(a){var b=k();a=a?{capabilities:a.capabilities,capabilities2:a.capabilities2,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyContactRowExists","MWPContactContext.react","ReQL","ReQLSuspense","memoizeByIdentity","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.children,e=a.contactId,g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e)},[g,e],f.id+":67");a=i(function(){var a=void 0;return{contact:j,nickname:a}},[j]);d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyContactRowExists")(e,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(a))},"readwrite"))},[g,e]);return h.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.children,c=a.contact,e=a.nickname;a=i(function(){return{contact:c,nickname:e}},[c,e]);return h.jsx(d("MWPContactContext.react").MWPContactContextProvider,{contact:a.contact,nickname:a.nickname,children:b})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.contactId,g=a.threadKey,i=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(e)},[e,i],f.id+":143");var l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("participants")).getKeyRange(g,e).map(c("memoizeByIdentity")(function(a){return a.nickname}))},[e,i,g],f.id+":147"),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("threads")).getKeyRange(g).map(function(a){var b=a.parentThreadKey,c=a.secondaryParentThreadKey;a=a.threadType;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contextual_profile_v1")).getKeyRange(e,d("LSMessagingThreadTypeUtil").isCMSubthread(a)&&c!=null?c:b),f.id+":168");return a==null?void 0:a.profileName})},[i,g,e],f.id+":162");m=m!=null?m:l;if(a!=null)if(d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return h.jsx(k,{contact:a,nickname:m,children:b});else return h.jsx(j,{contactId:e,children:b});else return h.jsx(j,{contactId:e,children:b})}a=h.memo(a,function(a,b){if(a!=null&&b!=null&&d("I64").equal(a.contactId,b.contactId)&&d("I64").equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.authorName;return[a]}function e(){var a=d("MWPContactContext.react").useMWPContactFullContext();a=a.contact;var b=a!=null?a.name:void 0;return[b,a]}g.MissingContactProvider=j;g.Provider=k;g.MWPMessageAuthor=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("MWPMessageHasAttachment.bs",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("I64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(1))&&!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(8192)))&&!d("I64").equal(a.displayedContentTypes,d("LSIntEnum").ofNumber(128))&&!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(128),d("LSIntEnum").ofNumber(8192))))return!d("I64").equal(a.displayedContentTypes,d("I64").add(d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(512)));else return!1}g["default"]=a}),98);
__d("MWPForwardedContent.bs",["fbt","I64","Int64Hooks","LSIntEnum","MWPMessageAuthor.react","MWPMessageHasAttachment.bs","MessagingAttachmentType","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function j(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function k(a){if(d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function l(a,b,e){var f=c("useReStore")(),g=a.messageId,l=a.threadKey,m=c("MWPMessageHasAttachment.bs")(a),n=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){if(m)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachments")),{hd:l,tl:{hd:g,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[f,g,l,m]),"vap2dyxn");return i(function(){if(b)if(n!=null)if(j(n))return h._("__JHASH__PIjjsAJniwv__JHASH__");else if(k(n))return h._("__JHASH__nEYzvO_Jiz8__JHASH__");else if(d("I64").equal(n.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0EAD5uOKPoC__JHASH__");else return h._("__JHASH__GhgOVaiGoA___JHASH__");else return h._("__JHASH__GhgOVaiGoA___JHASH__");else if(n!=null)if(e!=null)if(j(n))return h._("__JHASH__00-nIgP5G8j__JHASH__",[h._param("name",e)]);else if(k(n))return h._("__JHASH__GuBlAzcO-mm__JHASH__",[h._param("name",e)]);else if(d("I64").equal(n.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__1BQhMfYYoAB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__5hjcq0INKbc__JHASH__");else if(j(n))return h._("__JHASH__L5dEyo_jBmR__JHASH__");else if(k(n))return h._("__JHASH__cFJV3xOx0DG__JHASH__");else if(d("I64").equal(n.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__g8iYHeUhc75__JHASH__");else return h._("__JHASH__5hjcq0INKbc__JHASH__");else if(e!=null)return h._("__JHASH__0IFsVeodN0b__JHASH__",[h._param("name",e)]);else return h._("__JHASH__5hjcq0INKbc__JHASH__")},[b,n,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();return l(a,b,c[0])}g.useTitle=a}),98);
__d("MWForwardedContent.react",["MDSForwardSvgIcon.react","MWPForwardedContent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h.jsxs("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:[h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}),h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.createContext,j=e.useContext;e={isSecure:!1,threadKey:d("I64").zero};var k=i(e);function a(){return j(k).threadKey}function b(){return j(k).isSecure}function c(a){var b=a.children,c=a.isSecure,e=a.threadKey;a=d("Int64Hooks").useMemoInt64(function(){return{isSecure:c,threadKey:e}},[c,e]);return h.jsx(k.Provider,{value:a,children:b})}c.displayName=c.name+" [from "+f.id+"]";g.useMWPAudioPlaybackThreadKey=a;g.useMWPAudioPlaybackIsSecureThread=b;g.MWPAudioPlaybackThreadContextProvider=c}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","bx","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.createContext,l=j.useCallback,m=j.useContext,n=j.useEffect,o=j.useMemo,p=j.useRef,q=j.useState,r=b("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2});function s(a){var b=new Audio();b.preload="auto";b.src=a;b.load();return b}function t(a){var b=Array.from(r.members()),c=b.findIndex(function(b){return b===a});c=c+1;return b[c%b.length]}function u(a){return h._("__JHASH__T0e3ZJkGlxz__JHASH__",[h._param("playback rate",a,[0])])}u.displayName=u.name+" [from "+f.id+"]";j={activeAudio:null,activeThreadKey:d("I64").zero,addNextPlayableUrl:c("emptyFunction"),clearActiveAudio:c("emptyFunction"),getNewOrExistingAudio:s,onChangePlaybackRate:c("emptyFunction"),playbackRateLabel:u(r.NORMAL),setUseOutOfChatPlayback:c("emptyFunction")};var v=k(j);function a(a,b,c){var e=m(v),f=e.activeAudio,g=e.activeThreadKey,h=e.addNextPlayableUrl,i=e.getNewOrExistingAudio,j=e.setUseOutOfChatPlayback,k=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();d("Int64Hooks").useEffectInt64(function(){if(!c||d("I64").is_zero(g)||d("I64").is_zero(k))return;j(!d("I64").equal(g,k));return function(){j(d("I64").equal(g,k))}},[f,g,j,c,k]);return d("Int64Hooks").useMemoInt64(function(){if(a!=null&&a!==""){if(!c)return s(a);b!=null&&b!==""&&h(a,b);return i(a,k)}},[h,i,b,a,c,k])}function e(){var a=m(v),b=a.onChangePlaybackRate;a=a.playbackRateLabel;return[a,b]}function w(){var a=m(v),b=a.activeAudio,e=a.activeThreadKey;a=a.clearActiveAudio;var g=c("useReStore")(),h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.table("threads")).getKeyRange(e)},[g,e],f.id+":164");return[b,a,h]}function x(a){a=a.children;var b=p(new Map()),e=p(new Map()),f=p([]),g=p(s(c("bx").getURL(c("bx")("577"))));n(function(){var a=f.current;return function(){while(a.length>0){var b=a.pop(),c=b[0],d=b[1];b=b[2];c.removeEventListener(d,b);c.pause()}}},[]);var h=q(r.NORMAL),j=h[0],k=h[1],m=o(function(){return u(j)},[j]);h=q(d("I64").zero);var w=h[0],x=h[1];h=q(null);var y=h[0],z=h[1];h=q(!1);var A=h[0],B=h[1],C=(y==null?void 0:y.paused)===!1,D=o(function(){return A&&C?y:null},[y,C,A]),E=l(function(){z(function(a){a!=null&&a.pause();return null})},[]),F=l(function(a,c){var d,h=(d=b.current.get(a))!=null?d:s(a);h.playbackRate=j;d=function(a,b){h.addEventListener(a,b),f.current.push([h,a,b])};var i=function(){var c=e.current.get(a);if(c!=null){var d=b.current.get(c);if(d!=null&&d.paused)return void g.current.play().then(function(){z(d);return d.play()["catch"](function(){return z(null)})})}z(null)};d("ended",i);i=function(){for(var a=b.current.values(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f!==h&&f.pause()}z(h);x(c)};d("playing",i);b.current.set(a,h);return h},[j]),G=l(function(){k(function(a){a=t(a);for(var c=b.current.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f.playbackRate=a}return a})},[]),H=l(function(a,b){e.current.set(a,b)},[]);h=d("Int64Hooks").useMemoInt64(function(){return{activeAudio:D,activeThreadKey:w,addNextPlayableUrl:H,clearActiveAudio:E,getNewOrExistingAudio:F,onChangePlaybackRate:G,playbackRateLabel:m,setUseOutOfChatPlayback:B}},[D,w,H,E,F,G,m]);return i.jsx(v.Provider,{value:h,children:a})}x.displayName=x.name+" [from "+f.id+"]";g.useMWPAudioPlaybackElement=a;g.useMWPAudioPlaybackRate=e;g.useMWPAudioOutOfChatPlayback=w;g.MWPAudioPlaybackContextProvider=x}),98);
__d("MWPAudioPlayer.react",["fbt","$InternalEnum","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","LSMessagingThreadTypeUtil","MWChatRecorderUtils","MWPAudioPlaybackContext.react","MWPAudioPlaybackThreadContext.react","MWPThreadTheme.bs","cancelAnimationFrame","formatDurationSeconds","promiseDone","qex","react","requestAnimationFrameAcrossTransitions","stylex","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.createContext,l=j.forwardRef,m=j.useCallback,n=j.useContext,o=j.useEffect,p=j.useImperativeHandle,q=j.useLayoutEffect,r=j.useMemo,s=j.useRef,t=j.useState,u=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),v=3,w=3,x=44,y=4,z={bar:{backgroundColor:"x14hiurz",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderTopStartRadius:"xfj52jq",borderTopEndRadius:"xykzs3s",borderBottomEndRadius:"x17xv1ja",borderBottomStartRadius:"x1mvicbb",$$css:!0},rightSideImprove:{marginStart:"x16n37ib",marginEnd:"xq8finb",width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderTopStartRadius:"x1inr27j",borderTopEndRadius:"x1vcqv9c",borderBottomEndRadius:"xfrm7hi",borderBottomStartRadius:"xpbad92",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},A={common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",$$css:!0},playbackButtonContainer:{marginStart:"x1mnrxsn",marginEnd:"x1w0mnb",$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6","::after_borderTopColor":"xipm1xi","::after_borderEndColor":"x24l0bi","::after_borderBottomColor":"x11usdlg","::after_borderStartColor":"xcukw63","::after_borderTopStartRadius":"xwuuf8d","::after_borderTopEndRadius":"xpd6q6o","::after_borderBottomEndRadius":"x1n6g0fn","::after_borderBottomStartRadius":"xu4xob7","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x1gnji40","::after_borderEndWidth":"xymhjbi","::after_borderBottomWidth":"x1ekxc0f","::after_borderStartWidth":"x5arhyh","::after_bottom":"x14apmda","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"xhyvd7x","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"x1aneyt","::after_top":"xso615a",$$css:!0}},B=(j=c("qex")._("303"))!=null?j:!1,C=(j=c("qex")._("339"))!=null?j:!1;function D(){var a=d("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackIsSecureThread(),b=n(X);return b===W.PLAYER&&B&&C===a}function E(a){if(!B||a==null)return!1;a=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);return C===a}j=h._("__JHASH__KhMMxBdqg3x__JHASH__");var F=h._("__JHASH__2rBFW-RfRDV__JHASH__"),G=h._("__JHASH__IubwmxlTNhe__JHASH__");function a(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:a})})}a.displayName=a.name+" [from "+f.id+"]";function e(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("rect",{fill:a,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}e.displayName=e.name+" [from "+f.id+"]";function H(a){a=a.color;return i.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:i.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:a})})}H.displayName=H.name+" [from "+f.id+"]";function I(a){var b=a.currentTime;a=a.duration;return i.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":b,role:"slider",style:{position:"absolute"},tabIndex:0})}I.displayName=I.name+" [from "+f.id+"]";function J(a){if(a>30)return 5;else if(a>10)return 3;else if(a>5)return 2;else if(a>2)return 1;else return.5}function K(a){var b=a.audioEl;a=a.children;var d=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime-=J(a)},[b]),e=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime+=J(a)},[b]),f=m(function(){b.current!=null&&(b.current.currentTime=0)},[b]),g=m(function(){if(b.current==null)return;var a=b.current.duration;b.current.currentTime=a},[b]),j=r(function(){return[{command:{key:c("CometKeys").UP},description:h._("__JHASH__0poPtptaPoq__JHASH__"),handler:e},{command:{key:c("CometKeys").DOWN},description:h._("__JHASH__rYkfY7o-Wnk__JHASH__"),handler:d},{command:{key:c("CometKeys").LEFT},description:h._("__JHASH__1Lid3qpGe7D__JHASH__"),handler:d},{command:{key:c("CometKeys").RIGHT},description:h._("__JHASH__SFoCE2wpUn9__JHASH__"),handler:e},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__d6P7X8Ve8io__JHASH__"),handler:f},{command:{key:c("CometKeys").END},description:h._("__JHASH__QXmXaNdkPYM__JHASH__"),handler:g}]},[d,e,f,g]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:j,children:a})}K.displayName=K.name+" [from "+f.id+"]";function L(a){var b=a.outgoing;b=b===void 0?!0:b;a=a.time;var e=d("MWPThreadTheme.bs").useBottom(),f=D();b=f?{color:b?"var(--always-white)":"var(--progress-ring-neutral-foreground)"}:{color:b?e:"var(--always-black)",cursor:"pointer"};return i.jsx("div",{className:c("stylex")(z.rightSideTop,!f&&z.rightSideBottom,f&&z.rightSideImprove),"data-testid":void 0,style:b,children:c("formatDurationSeconds")(a)})}L.displayName=L.name+" [from "+f.id+"]";function M(a){a=a.outgoing;var b=D(),e=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),f=e[0];e=e[1];if(!b)return null;b=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return i.jsx(c("CometPressable.react"),{onPress:e,overlayDisabled:!0,children:i.jsx("div",{className:"x6s0dn4 x1a3ma36 x78zum5 x1nxh6w3 x1s688f xi0exxh xl56j7k x1n2onr6 x87ps6o x1gslohp x14hiurz xfj52jq xykzs3s x17xv1ja x1mvicbb x16n37ib xq8finb x1691je0",style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:b},children:f})})}M.displayName=M.name+" [from "+f.id+"]";function N(a){var b=a.disabled,d=a.icon,e=a.label;a=a.onPress;var f=D(),g=f?{backgroundColor:"transparent"}:{};return i.jsx(c("CometPressable.react"),{"aria-label":e,disabled:b,onPress:a,overlayDisabled:f,overlayRadius:"50%",style:g,testid:void 0,xstyle:A.pressable,children:d})}N.displayName=N.name+" [from "+f.id+"]";function O(){var a=D();return a?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function P(a,b){if(b==null)return 0;b=b.getBoundingClientRect();var c=b.left;b=b.width;a=a.clientX-c;c=b>0&&a>0?a/b:0;return ba(c,0,1)}function Q(a,b){var d=a.currentTime,e=a.duration;a=a.xPosition;return i.jsx("div",{"aria-label":h._("__JHASH__cCPjPb_WWZb__JHASH__"),"aria-valuemax":e,"aria-valuemin":0,"aria-valuenow":d,className:c("stylex")(d===0?z.transparentBar:z.bar),ref:b,role:"slider",style:{left:a.toFixed(2)+"%"}})}Q.displayName=Q.name+" [from "+f.id+"]";var aa=l(Q);function R(a){var b=a.hasEnded,c=b===void 0?!1:b;b=a.isPlaying;var d=b===void 0?!1:b,e=a.outgoing,f=a.scrubberLeft;b=babelHelpers.objectWithoutPropertiesLoose(a,["hasEnded","isPlaying","outgoing","scrubberLeft"]);var g=s(null);a=t("auto");var h=a[0],j=a[1];q(function(){var a=g.current;j(function(){var b="auto";(c||d)&&(b=e===!0?"var(--secondary-button-background-on-dark)":"var(--non-media-pressed-on-dark)");if(a==null)return b;var g=a.getBoundingClientRect();g=g.left;return f>g?e===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":b})},[c,d,e,f]);a=e===!0?"xe3v8dz":"x1f9y4dh";return i.jsx("rect",babelHelpers["extends"]({},b,{className:a,ref:g,style:{fill:h}}))}R.displayName=R.name+" [from "+f.id+"]";function S(a,b){a.style.left=b.toFixed(2)+"%";a.style.transition="transform 1s ease-out";b=a.getBoundingClientRect();a=b.left;return a}var T=l(function(a,b){var d=a.audioEl,e=a.children,f=a.hasEnded,g=a.isListened,h=a.isPlaying;h=h===void 0?!0:h;var j=a.onUpdateScrubber,k=a.outgoing,l=a.waveformData;a=a.xstyle;var m=D(),n=s(),o=s(),r=t(0),u=r[0],v=r[1];r=t(0);var w=r[0],x=r[1];q(function(){if((d==null?void 0:d.current)!=null&&o.current!=null){var a=d.current.currentTime,b=d.current.duration,c=o.current;x(S(c,a/b*100))}},[d]);p(b,function(){return{updateHighlight:function(a){var b=n.current,c=o.current;if(b==null)return;if(m){if(c!=null){c=S(c,a);x(c)}}else b.style.transform="translateX("+(a-100).toFixed(1)+"%)"}}},[m]);r=function(a){if(n.current!=null){var b,c;b=(b=n.current)==null?void 0:b.getBoundingClientRect();b=(b=b==null?void 0:b.left)!=null?b:0;b=a.clientX-b;c=(c=(c=n.current)==null?void 0:c.offsetWidth)!=null?c:0;v(b/c*100);if(d!=null&&d.current!=null){b=d.current;c=b.duration;b=P(a,n.current)*c;if(j!=null&&o.current!=null){a=o.current;j(b);x(S(a,b/c*100))}}}};if(m){return i.jsxs(i.Fragment,{children:[e,i.jsxs("div",{className:"x17qophe x13vifvy x6s0dn4 x78zum5 x5yr21d x1n2onr6 xh8yej3 x1vjfegm",onMouseDownCapture:r,ref:n,children:[i.jsx(aa,{currentTime:d==null?void 0:(b=d.current)==null?void 0:b.currentTime,duration:(r=d==null?void 0:(e=d.current)==null?void 0:e.duration)!=null?r:0,ref:o,xPosition:u}),i.jsx(V,{hasEnded:f,isListened:g,isPlaying:h,outgoing:k,scrubberLeft:w,waveformData:l})]})]})}return i.jsx("div",{className:c("stylex")(z.highlight,a),ref:n})});function U(a){var b=a.audioEl,c=a.children,d=a.currentTime,e=a.duration,f=a.hasEnded,g=a.hasScrubber,h=a.isListened,j=a.isPlaying;j=j===void 0?!0:j;var k=a.onUpdateScrubber,l=a.outgoing,m=a.progressHighlightRef,n=a.scrubberRef,o=a.waveformData;a=a.xstyle;var p=D();return p?i.jsx(T,{audioEl:b,hasEnded:f,isListened:h,isPlaying:j,onUpdateScrubber:k,outgoing:l,ref:m,waveformData:o,xstyle:a,children:c}):i.jsxs(i.Fragment,{children:[i.jsx(T,{ref:m,xstyle:a}),g?i.jsx(I,{currentTime:d,duration:e}):null,i.jsx(T,{ref:n,xstyle:a}),c]})}U.displayName=U.name+" [from "+f.id+"]";function ba(a,b,c){return Math.min(Math.max(b,a),c)}function ca(a,b){var c=r(function(){return a==null||a===""?u:Float32Array.from(a.split(",").map(Number))},[a]);return r(function(){if(b<=0||c.length===0)return[];var a=Math.floor(b/(w*2));a=d("MWChatRecorderUtils").linearConversion(d("MWChatRecorderUtils").computeWaveformAmplitudes(c,a),y,x);return a.map(function(a,b){a=Math.ceil(a);var c=v,d=w;b=b*w*2;var e="calc(50% - "+a/2+"px)";return{height:a,rx:c,width:d,x:b,y:e}})},[b,c])}function V(a){var b=a.hasEnded,c=a.isListened,d=a.isPlaying,e=a.outgoing,f=a.scrubberLeft;a=a.waveformData;var g=s(null),h=t(0),j=h[0],k=h[1],l=b===!0||c===!0;q(function(){if(g.current!=null){var a=g.current.getBoundingClientRect();k(a.width)}},[]);h=ca(a,j);return h.length===0?i.jsx("div",{className:"xn3w4p2 x1n2onr6 xh8yej3",ref:g}):i.jsx("div",{className:"xn3w4p2 x1n2onr6 xh8yej3",ref:g,children:i.jsx("svg",{"aria-hidden":!0,className:"x5yr21d x10l6tqk xh8yej3",children:h.map(function(a,b){return i.createElement(R,babelHelpers["extends"]({},a,{hasEnded:l,isPlaying:d,key:b,outgoing:e,scrubberLeft:f}))})})})}V.displayName=V.name+" [from "+f.id+"]";var W=b("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),X=k(W.PLAYER);function Y(a){var b=a.audioEl,c=a.children,d=a.hasScrubber,e=a.scrubberRef,f=a.style,g=a.testid;g=a.useCase;a=D();var h=s(),j=function(a){var c=b.current,d=h.current;c!=null&&d!=null&&(c.currentTime=P(a,d)*c.duration)},k=function(a){if(h.current!=null&&e.current!=null)return e.current.updateHighlight(P(a,h.current)*100)},l=function(){if(e.current!=null)return e.current.updateHighlight(0)};f=babelHelpers["extends"]({cursor:d?"pointer":"default",height:a&&g===W.PLAYER?70:36},f);a=d&&!a;return i.jsx(X.Provider,{value:g,children:i.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 x1qughib x6ikm8r x10wlt62 x1n2onr6","data-testid":void 0,onClick:a?j:void 0,onMouseLeave:d?l:void 0,onMouseMove:a?k:void 0,ref:h,style:f,children:c})})}Y.displayName=Y.name+" [from "+f.id+"]";function da(a){return m(function(b){var c=a.current;if(c!=null){b.stopPropagation();return c.updateHighlight(0)}},[a])}function Z(a,b,d,e,f,g){f===void 0&&(f=!1);var h=s();o(function(){var d=function(a){var b=h.current;if(b!=null)return b.updateHighlight(a)};if(g){f?d(100):d(0);return}if(e){var i={contents:void 0},j,k=function e(f){var g;if(b.current!=null)g=b.current.currentTime/b.current.duration;else{var h=i.contents,k=0;h!=null?k=f-h:i.contents=f;g=k/(a*1e3)}h=Math.min(g*100,100);d(h);if(h<100){j=c("requestAnimationFrameAcrossTransitions")(e);return}};j=c("requestAnimationFrameAcrossTransitions")(k);return function(){j!=null&&c("cancelAnimationFrame")(j)}}if(b.current!=null){k=b.current.currentTime/b.current.duration;d(k*100)}},[a,e,g,h,b,f,d]);return h}var $=b("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function ea(a,b,e,f,g){var h=D(),i=c("useStable")(function(){return e}),j=d("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(a,b,h),k=s(j);a=t($.NONE);var l=a[0],n=a[1];b=t(function(){var a;return(a=j==null?void 0:j.currentTime)!=null?a:0});a=b[0];var p=b[1];o(function(){if(j==null){n($.NONE);return}j.ended&&n($.ENDED);n(function(){return j.paused?$.PAUSED:$.PLAYING});p(j.currentTime);k.current=j},[j]);o(function(){var a=k.current;if(a==null)return;var b=function(){return n($.PAUSED)},c=function(){return n($.PLAYING)},d=function(){return n($.LOADING)},e=function(){k.current!=null&&p(k.current.currentTime)},f=function(){k.current=a,b()},g=function(){k.current!=null&&(k.current.currentTime=0,p(0)),n($.ENDED)};a.addEventListener("loadstart",d);a.addEventListener("canplay",f);a.addEventListener("timeupdate",e);a.addEventListener("playing",c);a.addEventListener("pause",b);a.addEventListener("ended",g);return function(){a.removeEventListener("loadstart",d),a.removeEventListener("canplay",f),a.removeEventListener("timeupdate",e),a.removeEventListener("playing",c),a.removeEventListener("pause",b),a.removeEventListener("ended",g),h||a.pause()}},[j,h]);b=m(function(){var a=k.current;if(a==null)return;switch(l){case $.NONE:case $.LOADING:return;case $.ENDED:case $.PAUSED:c("promiseDone")(a.play(),function(){return n($.PLAYING)},i);return;case $.PLAYING:a.pause();n($.PAUSED);return}},[i,l]);var q=m(function(a){var b=k.current;if(b==null)return;b.currentTime=a;p(a)},[]);return[l,a,k,b,Z(g,k,a,l===$.PLAYING,f,l===$.ENDED),q]}function fa(){var a=d("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),b=a[0],e=a[1];a=a[2];var f=E(a),g=t(function(){if(b==null)return $.NONE;return b.ended?$.ENDED:b.paused?$.PAUSED:$.PLAYING}),h=g[0],i=g[1];g=t(function(){return b!=null?b.duration-b.currentTime:0});var j=g[0],k=g[1];o(function(){if(b==null)return;var a=function(){return k(b.duration-b.currentTime)},d=function(){return i($.LOADING)},e=function(){return i($.ENDED)};b.addEventListener("timeupdate",a);b.addEventListener("loadstart",d);b.addEventListener("ended",e);c("promiseDone")(b.play(),function(){return i($.PLAYING)});return function(){b.removeEventListener("timeupdate",a),b.removeEventListener("loadstart",d),b.removeEventListener("ended",e)}},[b]);g=m(function(){if(b==null)return;switch(h){case $.NONE:case $.LOADING:return;case $.ENDED:case $.PAUSED:c("promiseDone")(b.play(),function(){return i($.PLAYING)});return;case $.PLAYING:b.pause();i($.PAUSED);return}},[b,h]);return[a,h===$.PLAYING,b!=null&&f,j,g,e]}g.styles=A;g.useShowNewUX=D;g.playLabel=j;g.stopLabel=F;g.pauseLabel=G;g.PlayIcon=a;g.StopIcon=e;g.PauseIcon=H;g.ScreenReaderLabel=I;g.KeyCommands=K;g.Timer=L;g.PlaybackRateButton=M;g.PlaybackButton=N;g.usePlaybackButtonContainerStyle=O;g.Highlight=T;g.HighlightV2=U;g.UseCase=W;g.Container=Y;g.useResetHighlightProgress=da;g.useProgressLiveUpdate=Z;g.State=$;g.useControlCenter=ea;g.useOutOfChatControlCenter=fa}),98);
__d("MessengerSurfaceContext.bs",["MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(d("MessengerSurfaceType.bs").messenger);g.context=b;g.defaultValue=d("MessengerSurfaceType.bs").messenger}),98);
__d("MessengerSurfaceQuickChat.bs",["MessengerSurfaceContext.bs","MessengerSurfaceType.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=h.useContext(d("MessengerSurfaceContext.bs").context);return a===d("MessengerSurfaceType.bs").workQuickchat}g.useIsQuickChatSurface=a}),98);
__d("useMWInlineStylesForReply",["MAWGating","MWLSThreadDisplayContext","MWPColorUtils","gkx","react","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b,e){var f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=f!=="Inbox",i=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return h(function(){if(c("gkx")("1969")&&a.backgroundUrl!=null&&a.backgroundUrl.length>=1&&b.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(b[0].color)};if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils").gradient(b,g?{footerHeight:56,headerHeight:d("MAWGating").isArmadillo()?32:48,totalHeight:i?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a.backgroundUrl,a.fallbackColor,b,e,g,i])}g["default"]=a}),98);
__d("useMWNextAttachment",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("messages").index("messageId")).bounds({gt:d("ReQL").key(a.messageId)}).filter(function(a){return!a.isUnsent})},[b,a.messageId],f.id+":22"),g=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(e.threadKey,e.messageId):d("ReQL").empty()},[b,e],f.id+":29");return g}g["default"]=a}),98);
__d("fetch",[],(function(a,b,c,d,e,f){"use strict";a=window.fetch;b=a;f["default"]=b}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function i(a){var d=c("AudioContextSingleton").get();return new(b("Promise"))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield i(b));return h(b)}catch(b){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.attachmentFbid,f=a.messageId,g=a.threadKey,h=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield h.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.table("attachments");var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(g,f,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite")});return function(b){return a.apply(this,arguments)}}(),[h,g,f,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","cr:6746","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useState,k=3,l=",",m=["blob:","data:"];function a(a,e){var f=j(a.waveformData),g=f[0],n=f[1],o=b("cr:6746")(a),p=c("useMWAttachmentUpdater")(a),q=e(a),r=h(function(){if(q!=null&&q!==""){var a=d("ConstUriUtils").getUri(q);if(a!=null&&m.includes(a.getProtocol()))return c("fetchMWPAudioWaveformDataForURL")(a)}return o()},[o,q]);i(function(){if(g!=null&&g.length>k)return;c("promiseDone")(r(),function(a){return a.length>0&&n(a.join(l))})},[r,g]);i(function(){g!=null&&g.length>k&&g!==a.waveformData&&p({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_product","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,p,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;h(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_product","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("MWAudioPlayer.react",["CometProgressRingIndeterminate.react","I64","MWLSThreadDisplayContext","MWPAudioPlayer.react","MWPColorUtils","MWPThreadTheme.bs","MessengerSurfaceQuickChat.bs","react","requireDeferred","stylex","useMWInlineStylesForReply","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioPlayer.react"),l={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function m(a){return i(function(){return[l.root,a?l.outgoing:l.incoming]},[a])}function n(a){var b=a.backgroundColor,c=a.disabled,e=a.hasEnded,f=a.isPaused,g=a.isPlaying;a=a.outgoing;var i=d("MWPAudioPlayer.react").useShowNewUX();i=i?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?b:void 0;if(g)return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:i});return f||e||c?h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:i}):null}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.backgroundColor,e=a.disabled,f=a.hasEnded,g=a.isLoading,i=a.isPaused,j=a.isPlaying,k=a.onPress,l=a.outgoing;a=a.scrubberRef;var m=d("MWPAudioPlayer.react").usePlaybackButtonContainerStyle();a=d("MWPAudioPlayer.react").useResetHighlightProgress(a);var o=j||i;return g?h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.pressable),onMouseMove:o?a:void 0,style:m,children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):h.jsx("div",{onMouseMove:o?a:void 0,style:m,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{disabled:e,icon:h.jsx(n,{backgroundColor:b,disabled:e,hasEnded:f,isPaused:i,isPlaying:j,outgoing:l}),label:j?d("MWPAudioPlayer.react").pauseLabel:d("MWPAudioPlayer.react").playLabel,onPress:k})})}o.displayName=o.name+" [from "+f.id+"]";function p(){k.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.customIncomingBackgroundColor,f=a.disableTheme;f=f===void 0?!1:f;var g=a.getPlayableUrl,i=a.isReply;i=i===void 0?!1:i;var k=a.outgoing;a=a.width;var l=d("MWPThreadTheme.bs").useHook(),n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q=d("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface();f=f?d("MWPThreadTheme.bs").defaultContextValue:l;l=f.outgoingGradientColors;f=f.threadTheme;var r=b.playableDurationMs;r=d("I64").to_float((r=r)!=null?r:d("I64").zero)/1e3;var s=c("useMWNextAttachment")(b),t=c("useMWPAudioWaveformData.react")(b,g);g=d("MWPAudioPlayer.react").useControlCenter(g(b),s!=null?g(s):void 0,p,!1,r);s=g[0];var u=g[1],v=g[2],w=g[3],x=g[4];g=g[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(v,b);var y=s===d("MWPAudioPlayer.react").State.NONE,z=s===d("MWPAudioPlayer.react").State.PLAYING,A=s===d("MWPAudioPlayer.react").State.PAUSED,B=s===d("MWPAudioPlayer.react").State.LOADING;s=s===d("MWPAudioPlayer.react").State.ENDED;var C=z||A,D=k&&l.length>1,E=j(),F=m(k);l=c("useMWInlineStylesForReply")(f,l,k);var G=l.backgroundAttachment,H=l.backgroundColor;l=l.backgroundImage;f={backgroundAttachment:i?G:void 0,backgroundColor:i?H:k?D?"transparent":d("MWPColorUtils").int64ToHex(f.fallbackColor):(G=e)!=null?G:"var(--wash)",backgroundImage:i?l:void 0,borderRadius:D?void 0:"18px",width:a!=null?a:n!=null?n==="Inbox"?"218px":n==="ChatTab"&&q?"168px":"180px":"180px"};e=C?Math.max(r-u,0):0;return h.jsx(d("MWPAudioPlayer.react").KeyCommands,{audioEl:v,children:h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:v,hasScrubber:C,scrubberRef:E,style:f,testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.PLAYER,children:h.jsxs("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.common,D?d("MWPAudioPlayer.react").styles.transparent:!1),children:[h.jsx(d("MWPAudioPlayer.react").HighlightV2,{audioEl:v,currentTime:u,duration:r,hasEnded:s,hasScrubber:C,isListened:b.isAttachmentConsumed===!0,isPlaying:z,onUpdateScrubber:g,outgoing:k,progressHighlightRef:x,scrubberRef:E,waveformData:t,xstyle:F,children:h.jsx(o,{backgroundColor:H,disabled:y,hasEnded:s,isLoading:B,isPaused:A,isPlaying:z,onPress:w,outgoing:k,scrubberRef:E})}),h.jsx("div",{children:z?h.jsxs(h.Fragment,{children:[h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:k,time:e}),h.jsx(d("MWPAudioPlayer.react").PlaybackRateButton,{outgoing:k})]}):h.jsx(d("MWPAudioPlayer.react").Timer,{outgoing:k,time:e})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.useHighlightStyles=m;g.MWAudioPlayer=a}),98);
__d("MWPThreadCapabilitiesContext",["Int64Hooks","LSThreadBitOffset","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=e(function(a){return!1});function a(a){var b=a.children,c=a.customCapabilityCheck;a=a.thread;var e=a.capabilities,f=a.capabilities2,g=a.capabilities3,i=a.threadType;a=d("Int64Hooks").useCallbackInt64(function(a){var b={capabilities:e,capabilities2:f,capabilities3:g,threadType:i};return d("LSThreadBitOffset").has(a,b)},[e,f,g,i]);return h.jsx(j.Provider,{value:(c=c)!=null?c:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(j)}g.Provider=a;g.useMWPThreadCapabilitiesContext=b}),98);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","I64","LSIntEnum","LSMediaUrl.bs","MWPThreadCapabilitiesContext","MessagingAttachmentType","cr:956","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,i=a.children,j=a.linkProps_,k=a.onHoverIn,l=a.onPress,m=a.overlayDisabled;m=m===void 0?!1:m;var n=a.testid;n=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=c("gkx")("1581")&&a(d("LSIntEnum").ofNumber(46));var o=d("I64").equal(g.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)),p=d("I64").equal(g.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)),q=o?"Image":p?"Video":"Media";return b("cr:956")!=null&&(o||p)&&a?h.jsx(b("cr:956"),{ariaLabel:f,linkProps:j,mediaType:q,onPress:l,overlayDisabled:m,testid:void 0,type:p?"video":"image",url:d("LSMediaUrl.bs").Attachment.previewUrl(g),xstyle:n,children:i}):h.jsx(c("CometPressable.react"),{allowClickEventPropagation:e,"aria-label":f,linkProps:j,onHoverIn:k,onPress:function(){return l()},overlayDisabled:m,testid:void 0,xstyle:n,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","MWPThreadTheme.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.height;a=a.mediaStaging;var c=d("MWPThreadTheme.bs").useHook();c=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(c.threadTheme.fallbackColor);var e=Math.ceil(a.progress*100),f=(b/2).toString();f="M 0,"+f+" L 100,"+f;if(a.progress===1)return null;else return h.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[h.jsx("path",{d:f,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),h.jsx("path",{d:f,stroke:c,strokeLinecap:"round",strokeWidth:(e===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-e|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("Int64Hooks").useMemoInt64(function(){var b=d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:d("I64").to_string(a.threadKey)})},[a.threadKey,a.attachmentType,a.messageId,a.attachmentFbid])}g["default"]=a}),98);
__d("MWPMessageIsReply.bs",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("MWPMessageHasXMA.bs",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[d("I64").and_(d("LSIntEnum").ofNumber(1024),a.displayedContentTypes),d("I64").and_(d("LSIntEnum").ofNumber(2048),a.displayedContentTypes)].some(function(a){return d("I64").to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPThreadGradientBackground.react",["MWPColorUtils","MWPThreadTheme.bs","gkx","react","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useState;function j(a,b){if(c("gkx")("1969")&&b!=null&&b.length>0)return{backgroundImage:"url("+b+")"};return a.length>1?{backgroundImage:d("MWPColorUtils").gradient(a)}:{}}function k(a){return{backgroundPosition:Math.floor(a.left)+"px "+Math.floor(a.top)+"px",backgroundSize:Math.floor(a.width)+"px "+Math.floor(a.height)+"px",willChange:"scrollPosition"}}b=e({});var l=b.Provider;function a(a){a=a.children;var b=d("MWPThreadTheme.bs").useHook(),e=b.outgoingGradientColors;b=b.threadTheme;var f=i({}),g=f[0],m=f[1];f=c("useResizeObserver")(function(a,b,c){b!=null&&m(k(b.getBoundingClientRect()))});return c("gkx")("557")?h.jsx(l,{value:g,children:h.jsx("div",{className:"x18d0r48 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",ref:f,children:a})}):h.jsx("div",{className:"x18d0r48 x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",style:babelHelpers["extends"]({},j(e,b.backgroundUrl),d("MWPThreadTheme.bs").getStyleOverridesForThreadTheme(b)),children:a})}a.displayName=a.name+" [from "+f.id+"]";g.context=b;g.MWPThreadGradientBackground=a}),98);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=36;e=b+6|0;e+14|0;var i={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",":after_borderTopColor":"xzackxk",":after_borderEndColor":"x1vvs6jl",":after_borderBottomColor":"x1p8yz0e",":after_borderStartColor":"x1e72984",":after_borderTopStartRadius":"x1qxsuse",":after_borderTopEndRadius":"x1pwr4jm",":after_borderBottomEndRadius":"xgt0i0e",":after_borderBottomStartRadius":"xhiudvi",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1pdxsal",":after_borderEndWidth":"xgyc039",":after_borderBottomWidth":"xza5l1d",":after_borderStartWidth":"xcavrb8",":after_bottom":"x1p4c0ny",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x14rr3af",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1fefmpr",":after_top":"x1a3valx",$$css:!0},incoming_connect_bot:{":after_borderBottomStartRadius":"x1fyu3th",$$css:!0},incoming_connect_top:{":after_borderTopStartRadius":"xe80118",$$css:!0},outgoing_connect_bot:{":after_borderBottomEndRadius":"x7yvbyb",$$css:!0},outgoing_connect_top:{":after_borderTopEndRadius":"x1chp5k1",$$css:!0},precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx("div",{className:c("stylex")(i.bubble,e?f?i.outgoing_connect_top:i.incoming_connect_top:!1,!a&&d?f?i.outgoing_connect_bot:i.incoming_connect_bot:!1,a?i.precedes_xma:!1),role:"none",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatBubble.react",["MWPColorUtils","MWPMessageIsReply.bs","MWPSolidMessageBubble.bs","MWPThreadGradientBackground.react","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","gkx","react","stylex","useMWInlineStylesForReply","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={emphasis_ring:{backgroundColor:"xjbqb8w",borderTop:"xkaxx8j",borderEnd:"xif9i9b",borderBottom:"x1ueo1nx",borderStart:"x1jawzb3",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6","::after_borderTopColor":"xs65dz8","::after_borderEndColor":"x12bj33z","::after_borderBottomColor":"x15uivxv","::after_borderStartColor":"xbxgwnb","::after_borderTopStartRadius":"xquudas","::after_borderTopEndRadius":"x6p43zf","::after_borderBottomEndRadius":"x1wnhr99","::after_borderBottomStartRadius":"x1gquc79","::after_borderTopStyle":"xynf4tj","::after_borderEndStyle":"xdspwft","::after_borderBottomStyle":"x1r9ni5o","::after_borderStartStyle":"x1d52zm6","::after_borderTopWidth":"x31ga2r","::after_borderEndWidth":"xcmxnv6","::after_borderBottomWidth":"x13afdcp","::after_borderStartWidth":"x10va8jt","::after_bottom":"xdb1ctf","::after_content":"x1s928wv","::after_display":"xhkezso","::after_end":"x4bhatf","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_start":"xhg89tr","::after_top":"x7kqs8i","::after_zIndex":"xitxdhh","::before_borderTopColor":"xdxy94m","::before_borderEndColor":"xt7heth","::before_borderBottomColor":"xq7m7h9","::before_borderStartColor":"xp0hy2t","::before_borderTopStartRadius":"x2e93ah","::before_borderTopEndRadius":"xigdz7j","::before_borderBottomEndRadius":"x1vxwiij","::before_borderBottomStartRadius":"xfgw0w6","::before_borderTopStyle":"xnvurfn","::before_borderEndStyle":"xv1ta3e","::before_borderBottomStyle":"x1opv7go","::before_borderStartStyle":"x1dtnpoi","::before_borderTopWidth":"x1b8stmw","::before_borderEndWidth":"xyhsekn","::before_borderBottomWidth":"xmbliey","::before_borderStartWidth":"x1igdxxj","::before_bottom":"xe80sof","::before_content":"x1cpjm7i","::before_display":"x1fgarty","::before_end":"x105ji64","::before_opacity":"x1u3qutx","::before_pointerEvents":"xkk1bqk","::before_position":"x1hmns74","::before_start":"xbs7dl3","::before_top":"x51xajf","::before_zIndex":"x12maryy",$$css:!0},emphasis_ring_before_xma:{borderBottom:"x112ta8","::after_borderBottom":"x1bxl7c5","::after_borderBottomEndRadius":"x1qo8dsh","::after_borderBottomStartRadius":"x1oiup0q","::before_borderBottom":"xozyfcf","::before_borderBottomEndRadius":"x1nxuetn","::before_borderBottomStartRadius":"x1doa7m0",$$css:!0},emphasis_ring_connect_bottom_incoming:{"::after_borderBottomStartRadius":"x1573djm","::before_borderBottomStartRadius":"x106tphz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{"::after_borderBottomEndRadius":"x1nb2ndt","::before_borderBottomEndRadius":"x7ft4bm",$$css:!0},emphasis_ring_connect_top_incoming:{"::after_borderTopStartRadius":"x14nzmgs","::before_borderTopStartRadius":"x58eeit",$$css:!0},emphasis_ring_connect_top_outgoing:{"::after_borderTopEndRadius":"xe41ffp","::before_borderTopEndRadius":"x1cbhpwz",$$css:!0},emphasis_ring_xma:{borderTop:"x76ihet",width:"x1o2z316","::after_borderTop":"x12dgpll","::after_borderTopEndRadius":"x1utvphz","::after_borderTopStartRadius":"x17dqjr0","::before_borderTop":"xp2bjph","::before_borderTopEndRadius":"xajc7s","::before_borderTopStartRadius":"x1eo7yr1",$$css:!0}};function k(a,b){if(c("gkx")("1969")){var e=b?a.outgoingGradientColors:a.incomingGradientColors;if(e!=null&&e.length>0)return{backgroundColor:d("MWPColorUtils").int64ToHex(e[0].color)}}if(c("gkx")("557")){e=b?a.outgoingGradientColors:a.incomingGradientColors;if(e.length>1)return{backgroundAttachment:"fixed",backgroundImage:d("MWPColorUtils").gradient(e)}}if(b)return{backgroundColor:d("MWPColorUtils").int64ToHex(a.threadTheme.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function l(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.gradientColors,g=a.outgoing,i=a.precedesXMA;a=a.threadTheme;a=c("useMWInlineStylesForReply")(a,f,g);return h.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:d,connectTop:e,outgoing:g,precedesXMA:i,style:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.children,d=a.hasXMA,e=a.isBeforeXMA,f=a.isOutgoing,g=a.shouldConnectBottom;a=a.shouldConnectTop;e=[j.emphasis_ring,e?j.emphasis_ring_before_xma:g?f?j.emphasis_ring_connect_bottom_outgoing:j.emphasis_ring_connect_bottom_incoming:!1,d?a?j.emphasis_ring_xma:!1:a?f?j.emphasis_ring_connect_top_outgoing:j.emphasis_ring_connect_top_incoming:!1];return h.jsx("div",{className:c("stylex")(e),"data-testid":void 0,children:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.hasEmphasisRing;g=g===void 0?!1:g;var j=a.message,n=a.outgoing,o=a.precedesXMA;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var p=d("MWPThreadTheme.bs").useHook(),q=n?p.outgoingGradientColors:p.incomingGradientColors,r=p.threadTheme;j=c("MWPMessageIsReply.bs")(j);var s=i(d("MWPThreadGradientBackground.react").context);j=j?h.jsx(l,{connectBottom:e,connectTop:f,gradientColors:q,outgoing:n,precedesXMA:o,threadTheme:r,children:b}):c("gkx")("1969")&&n&&Boolean(r.backgroundUrl)?h.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,style:k(p,n),xmaLayout:a,children:b}):n&&q.length>1?c("gkx")("557")?h.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,style:babelHelpers["extends"]({},s,k(p,n)),xmaLayout:a,children:b}):h.jsx(c("MWPTransparentMessageBubble.bs"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,children:b}):h.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:e,connectTop:f,outgoing:n,precedesXMA:o,style:k(p,n),xmaLayout:a,children:b});return g?h.jsx(m,{hasXMA:!1,isBeforeXMA:o,isOutgoing:n,shouldConnectBottom:e,shouldConnectTop:f,children:j}):j}a.displayName=a.name+" [from "+f.id+"]";g.EmphasisRing=m;g.ChatBubble=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[h.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),h.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743852");b=d("FalcoLoggerInternal").create("ls_did_tap_call_to_action",a);e=b;g["default"]=e}),98);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744182");b=d("FalcoLoggerInternal").create("pii_action_flow",a);e=b;g["default"]=e}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5342426462467736"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6588426801215388"}),null);
__d("P2MOffsiteBankTransferDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5004730099638134"}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6286286258107098"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6361922900530046"}),null);
__d("MWRollcallContribuitionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return h.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:h.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:h.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContribuitionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onClose;return j.jsxs(c("MWRollcallContribuitionsDialogContainer.react"),{onClose:a,children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.rollcallTitle})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),j.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:j.jsxs(c("MDSColumnItem.react"),{children:[j.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:k.contributionHeader,children:[j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.profilePicture})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.profileName})})]}),j.jsx(c("MDSGlimmer.react"),{index:0,xstyle:k.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var k={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),98);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("MWStartRTCCallUtils",["MessengerDesktopDeepLinkUtils","MessengerDesktopDeeplinkEventFalcoEvent","MessengerDesktopLocalServerRequest","ODS","Promise","gkx","promiseDone","qex","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useCallback,i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=k(!1),b=a[0],e=a[1],f=j(!1);i(function(){if(f.current)return;f.current=!0;if(c("gkx")("1987549")||!d("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible())return;if(c("qex")._("45")!==!0)return;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running");c("promiseDone")(d("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(d("MessengerDesktopDeepLinkUtils").PORT).then(function(a){if(!a||a!==200){a||d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond");a===500&&d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}e(!0)}))});return b}function e(a){var e=j(c("uuidv4")()).current;return h(function(f,g,h){var i="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");l({funnelSessionId:e});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(i,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function l(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g.useShouldTryWithMessengerDesktop=a;g.useStartDesktopCall=e;g.logCallAttemptViaLocalhost=l}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","I64","LSIntEnum","MWChatAttachmentMediaPreview.bs","MWChatEphemeralButton.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageIsReply.bs","MWPMessageListAttachment.react","MWPSolidMessageBubble.bs","MWV2ChatBubble.react","MWV2ChatFileV2.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.bs","MWXMAAttachment.react","RavenMessagingState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={file:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=a.connectBottom,e=a.connectTop,f=a.hasEmphasisRing;f=f===void 0?!1:f;var g=a.hasText,j=g===void 0?!1:g,k=a.message,l=a.outgoing,m=a.xstyle;g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var n=g==="ChatTab"?180:void 0;return h.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:k,renderAudioAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:a,isReply:c("MWPMessageIsReply.bs")(k),outgoing:l})},renderEmphasisRing:f?function(a,b){return h.jsx(d("MWV2ChatBubble.react").EmphasisRing,{hasXMA:a,isBeforeXMA:!1,isOutgoing:l,shouldConnectBottom:!1,shouldConnectTop:e,children:b})}:void 0,renderEphemeralMediaAttachment:function(a){var f=a.ephemeralMediaState;if(f!=null)if(d("I64").equal(f,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(c("MWChatAttachmentMediaPreview.bs"),{attachment:a});else return h.jsx(c("MWChatEphemeralButton.react"),{attachment:a,connectBottom:b,connectTop:e,outgoing:l});else return null},renderFileAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:b,connectTop:e,outgoing:l,style:{backgroundColor:"var(--comment-background)"},xstyle:i.file,children:h.jsx(c("MWV2ChatFileV2.bs"),{attachment:a})})},renderImageAttachment:function(c,b,a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:c,connectBottom:a,connectTop:b,message:k,outgoing:l})},renderImageGrid:function(a){return h.jsx(c("MWV2ChatImagesGrid.bs"),{attachments:a})},renderStickerAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:a})},renderUnsupportedAttachment:function(a){return h.jsx(c("MWPSolidMessageBubble.bs"),{connectBottom:b,connectTop:e,outgoing:l,style:{backgroundColor:"var(--comment-background)"},children:h.jsx(c("MWV2UnsupportedAttachment.bs"),{attachment:a})})},renderVideoAttachment:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:a,connectTop:e,message:k,outgoing:l})},renderXMAAttachment:function(a){return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWMessageListAttachment.react").MWMessageListAttachmentError,{connectBottom:b,connectTop:e,xstyle:m})},children:h.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:a,cardWidth:n,connectBottom:b,connectTop:e,hasText:j,outgoing:l,xstyle:m})})}})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("MWV2MessageReactionButton.react",["I64","LSMessagingThreadTypeUtil","MAWGating","MAWPSendOrRemoveReaction.react","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsAction.react","MWLSFeatureLimitedStatus.bs","MWV2MessageReactionHooks","react","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.closeActionsMenu,e=a.message,f=a.onReactionsSendLogger,g=a.reactionsPopoverResource,k=a.setReactionsMenuOpen;a=a.thread;var l=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(e),m=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReactionsV2(e),n=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),o=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(e,n,"reaction_tray"),p=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();p=(!n||d("MAWGating").isFeatureLimitEnabled())&&p;var q=d("I64").to_string(a.threadKey),r=d("I64").to_string(e.timestampMs),s=j(function(){return d("MWChatMessageId").makeSent(q,e.messageId,r)},[q,e.messageId,r]),t=i(function(a,b){f&&f();return o(e.messageId,b?void 0:a,b?"remove_reaction":"reaction")},[o,e.messageId]),u=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType);a=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey);if(p)return null;else{return h.jsx(c("MWChatReactionsAction.react"),{closeActionsMenu:b,disableCustomReactions:a&&u,hasReactionsV2:a,isBroadcastThread:u,isSecure:n,messageID:s,onVisibilityChange:k,reactionsPopoverResource:g,selectedReactions:a?(p=m)!=null?p:void 0:l!=null?[l]:void 0,sendReaction:t})}}g["default"]=a}),98);
__d("MWPMessageParsingUtils.bs",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MercuryThreadlistConstants","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function h(a){a=a.text;if(a!=null)return a!=="";else return!1}function i(a){a=a.replySourceTypeV2;if(a!=null&&!d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD)))return!0;else return!1}function j(a){a=a.replySourceTypeV2;if(a!=null&&d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD)))return!0;else return!1}function k(a){return c("bs_belt_Option").mapWithDefault(a.text,!1,function(a){return a.length>c("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function l(a){if(a.isAdminMessage||d("LSBitFlag").has(d("LSIntEnum").ofNumber(128),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(256),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(4),a.displayedContentTypes)||d("LSBitFlag").has(d("LSIntEnum").ofNumber(512),a.displayedContentTypes))return!0;else return k(a)}function m(a,b){if(b===void 0)return!0;var e=Math.abs(d("I64").to_float(a.timestampMs)-d("I64").to_float(b.timestampMs))>c("MercuryThreadlistConstants").GROUPING_THRESHOLD,f=j(a),g=d("I64").compare(a.senderId,b.senderId)===0;if(b.isUnsent||a.isUnsent||i(a)||!g||e||f||l(a))return!0;else return l(b)}function n(a,b){if(b!=null&&!m(a,b))return!1;else return!0}function o(a,b){if(b!=null&&!m(b,a))return!1;else return!0}function a(a,b,c){if(c==="below")if(h(a))return!0;else return!n(a,b);else return!1}function b(a,b,c){if(c==="below")return!o(a,b);else if(o(a,b))return!1;else return h(a)}e={shouldConnectBottom:b,shouldConnectTop:a};f=h;b=i;a=j;var p=k,q=l,r=m,s=n,t=o;e=e;g.hasText=f;g.isReplyToSomething=b;g.isForwarded=a;g.isLongText=p;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment.bs","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.react","MWPMessageParsingUtils.bs","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,i=a.isMessagePinned,j=a.isNextMessagePinned,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldHideLinkPreviews,s=a.shouldRenderMessageContent;a=a.xmaLayout;var t=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),u=c("MWPMessageIsReply.bs")(k),v=d("MWPMessageParsingUtils.bs").hasText(k),w=c("MWPMessageHasXMA.bs")(k);t=c("gkx")("1886144")&&t(d("LSIntEnum").ofNumber(45))&&w&&k.textHasLinks;r=r===!0||t;t=(t=k.replyType&&d("I64").equal(k.replyType,d("LSIntEnum").ofNumber(c("EntMessageReplyType").BUMP)))!=null?t:!1;t=!t&&w&&b==="below"&&!r;w=b==="below"?!u&&!f&&!i:!1;f=!g&&!j||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?t:!1);s?i=k.text!=null?e?u?h.jsx("div",{className:"x1n2onr6 x1vjfegm",children:p(k)}):u?null:h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[w?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsx("div",{className:"x1n2onr6 x1vjfegm",children:p(k)})]}):k.text!==""?h.jsxs(h.Fragment,{children:[w||b==="above"?h.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,h.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[m?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,q(k,w,f,t,m),m?null:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:i=null;var x;c("MWPMessageHasAttachment.bs")(k)&&!r&&(x=o(d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(k,n,b),d("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(k,l,b),v));return h.jsxs(h.Fragment,{children:[b==="above"?x:null,i,b==="below"?x:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,j=a.message,k=a.nextMessage,l=a.outgoing,m=a.prevMessage,n=a.renderAttachment,o=a.renderEmoji,p=a.renderMessageBubble,q=a.shouldHideLinkPreviews,r=a.shouldRenderMessageContent,s=a.xmaLayout,t=c("useMWPIsMessagePinned")(j),u=c("useMWPIsMessagePinned")(k);return i(function(){return h.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:t,isNextMessagePinned:u,message:j,nextMessage:k,outgoing:l,prevMessage:m,renderAttachment:n,renderEmoji:o,renderMessageBubble:p,shouldHideLinkPreviews:q,shouldRenderMessageContent:r,xmaLayout:s})},[b,e,f,g,t,u,j,k,l,m,n,o,p,q,r,s])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","cr:2472","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a==null)return!1;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("1839834");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly.bs","MessengerWebUXLogger","react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function j(a,b){if(d("LSBitFlag").has(d("LSIntEnum").ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly.bs")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.reactions,p=a.renderAttachment,q=a.renderEmoji,r=a.renderMessageBubble,s=a.renderMessageContainer,t=a.renderMessageFooter,u=a.renderUnsentMessage,v=a.shouldHideLinkPreviews,w=a.shouldRenderMessageContent;w=w===void 0?!0:w;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var x=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"});if(k.isUnsent)if(u!=null)return h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u()});else return null;u=j(k,e);e=h.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:u,isFirstMessageInGroup:f,isLastMessageInGroup:g,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:p,renderEmoji:q,renderMessageBubble:r,shouldHideLinkPreviews:v,shouldRenderMessageContent:w,xmaLayout:a});return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"x78zum5 xh8yej3",ref:x,role:"none",children:[m?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,s!=null?s(e,[i.container,m?i.outgoing:!1]):h.jsx("div",{className:c("stylex")(i.container,m?i.outgoing:!1),children:e}),m?null:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),h.jsxs(h.Fragment,{children:[u&&o.length>0?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:t()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState;function l(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function m(a,b){a=d("I64").to_int32(d("I64").sub(a,d("I64").of_float(d("WATimeUtils").unixTime())));return b!=null&&a>d("I64").to_int32(b)?d("I64").to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=k(function(){return m(e,b)});var f=a[0],g=a[1];a=l(f);var n=h._("__JHASH__y-wqFg4O-A0__JHASH__",[h._param("time",a)]);j(function(){f>0&&c("setTimeout")(function(){return g(f-1)},d("MAWEphemeralConsts").msPerSec)},[f,e]);return f>0?i.jsxs("div",{className:"x2b8uid xbkr7qi",children:[i.jsx(c("CometScreenReaderText.react"),{text:n}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(c("MWXText.react"),{type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.hasReactions;return h.jsx("div",{"aria-hidden":b,className:c("stylex")(i.root,a?i.moveUpToAccountForReactions:!1),children:h.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply.bs","MWPMessageListColumn.react","MWPMessageParsingUtils.bs","MWPThreadTheme.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils.bs").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function l(a){return d("I64").equal(d("I64").and_(a.displayedContentTypes,d("LSIntEnum").ofNumber(2048)),d("I64").zero)}var m={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginStart:"x1mh8g0r",$$css:!0},multiReactWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0}};function b(a){var b=a.children,e=a.hasReactions,f=a.message,g=a.outgoing,i=a.renderGutterItem,j=a.renderMessageActions,k=a.renderMultiReactions;a=a.renderProfile;var n=c("MWPMessageIsReply.bs")(f),o=f.ephemeralExpirationTs,p=f.ephemeralDurationInSec,q=f.isUnsent,r=d("MWMessageDeliveryStatus").getFromSendStatus(f.sendStatusV2).type==="Sending";k=k&&k();var s=k!=null;a=h.jsxs("div",{className:"x78zum5",role:"none",children:[h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[g?null:a(),e&&!s?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]}),h.jsxs("div",{className:c("stylex")(m.inner,g?m.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{makeSpaceForActions:l(f),paint:!g||n,children:b}),o!=null&&!q?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:h.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:p,expirationTimestamp:o,hasReactions:e})}):null,l(f)?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:r?null:j()}):null,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[i(),e?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]})]});return s?h.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[a,h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx("div",{className:c("stylex")(m.container,m.multiReact,g?m.multiReactOutgoing:m.multiReactIncoming),children:k})})]}):a}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils.bs").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";i={"mwp-reply-background-color":"var(--comment-footer-background)"};var n={"mwp-reply-background-color":"var(--comment-footer-background)"},o={dark:n,light:i,type:"VARIABLES"};function p(a){var b=a.children,e=a.domElementRef,f=a.role,g=a.setHovered,i=a.stopHoveringRef,l=a.theme,m=l===void 0?o:l,n=a.xstyle,p=j(function(){return g(function(){return!1})},[g]);l=d("MWPThreadTheme.bs").useHook();var q=l.threadTheme;return h.jsx(c("BaseThemeProvider.react"),{config:k(function(){return d("MWCombineThemeConfigs").combine(o,m)},[m]),children:function(a,j){return h.jsx("div",{className:c("stylex")(a,n),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},j,d("MWPThreadTheme.bs").getStyleOverridesForThreadTheme(q)),children:b})}})}p.displayName=p.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=p}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").Children,j={container:{backgroundColor:"xcrg951",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=i.toArray(b).filter(Boolean);return b.length===0?null:h.jsxs("div",{className:c("stylex")(j.container,a),role:"none",children:[b.map(function(a,b){return h.jsx("div",{className:c("stylex")(j.items,d),role:"none",children:a},""+b)}),e?null:h.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.bs",["CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction.bs").get(e);f=d("MWChatInteraction.bs").get(f);e=(e=e)!=null?e:f;if(e==null)return h.jsx("div",{className:c("stylex")(a),children:b});else return h.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._("__JHASH__hknrqEeMk6h__JHASH__");return a&&i.jsxs(i.Fragment,{children:[b!=null&&i.jsx("span",{className:"x1sdyfia",children:b}),i.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e,g=c("useReStore")();e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("threads"),["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":28"))!=null?e:{};var h=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(h!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(h)))return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("MWPMessageReactions.react",["fbt","CometPressable.react","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetch","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils.bs","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.bs","ReQL","ReQLSuspense","intlList","promiseDone","react","useCometLazyDialog","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react"),k=j.useCallback,l=j.useContext,m=j.useDeferredValue,n=j.useMemo,o=j.useRef;function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=m(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils.bs").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:d("MWChatReactionsUtils.bs").heartType1,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":86"));return a}function b(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e)},[b,g,e],f.id+":111");return a}function e(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(g,e).filter(function(a){return d("I64").gt(a.count,d("I64").zero)})},[b,g,e],f.id+":127");return a}function p(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function q(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function r(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress,j=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var r=a===void 0?!1:a,s=g.messageId,t=g.threadKey;a=l(d("MWV2MessageRowIsRowFocusedContext.bs").context);var u=a.setFocused,v=a.setIsDialogOpened,w=c("useReStore")(),x=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(t);a=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(t);var y=a?d("useIsMultiReactionEnabled").MAX_REACTION_COUNT:3,z=c("useIsReactionDialogEnabled")(t),A=o(new Map()),B=k(function(){x&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(w,function(a){return c("LSIssueReactionsV2DetailsUsersListFetch")(t,g.messageId,void 0,void 0,c("LSFactory")(a))},"issueReactionsV2DetailsUsersListFetch").then(function(){return A.current.forEach(function(a){return a()})}))},[w,x,g.messageId,t]),C=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(w.table("reactions_v2")).getKeyRange(t,s).filter(function(a){return d("I64").gt(a.count,d("I64").zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(w.table("reaction_v2_types")).getKeyRange(a.reactionFbid),f.id+":219");b=r?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:d("I64").to_int32(a.count),reactionLiteral:b})})},[w,t,s,r],f.id+":213");d("MWReactionUtils").useSortReactionsForBroadcastChat(C,t);y=m!=null&&x?q(Array.from(new Set(C.map(function(a){return(a=a.reactionLiteral)!=null?a:""}))).slice(0,y)):q(Array.from(new Set(j.map(function(a){a=a.reaction;return a}))).slice(0,y));m=m!=null&&x?d("I64").to_int32(C.reduce(function(a,b){return d("I64").add(a,d("I64").of_int32(b.count))},d("I64").zero)):j.length;C=p(y,m);var D=o(null),E=n(function(){return e!=null?e:x?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,x]),F=n(function(){return{message:g,onLoadComplete:function(a){A.current.set(a,a);return function(){A.current["delete"](a)}},thread:{threadKey:t}}},[g,t]),G=k(function(){v(function(){return!1}),u(function(){return!0})},[u,v]);E=c("useCometLazyDialog")(E);var H=E[0];E[1];var I=k(function(a){v(function(){return!0}),H(babelHelpers["extends"]({},F,{initialTab:a}),G),h==null?void 0:h(),B()},[F,G,h,v,H,B]);return a||!z?b(y,m,j,g,t,I):i.jsx(c("CometPressable.react"),{"aria-label":C,onPress:function(){return I()},overlayDisabled:!0,ref:D,children:b(y,m,j,g,t,I)})}r.displayName=r.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=r}),98);
__d("MWPMessageS2SLoggingWrapper",["CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","MWChatInteraction.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.statusType;var g=["Sent","Delivered","Error"].includes(a),i=null;if(g){i=(g=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(e)))!=null?g:d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").s2sKey(f))}return i!=null?h.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:i,pageletName:"Message-s2s",xstyle:!1,children:[h.jsx(c("CometHeroFailTrigger.react"),{description:"Message returned from server with error status",fail:a==="Error"}),b]}):h.jsx("div",{children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessageDropdownButton.react",["fbt","ix","JSResourceForInteraction","MWXLazyPopoverTrigger.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden;a=a.message;return!b&&j.jsx("div",{className:"x1a87ojn x10l6tqk xwa60dl",children:j.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{message:a},popoverResource:k,children:function(a,b){return j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),color:"secondary",icon:d("fbicon")._(i("484386"),16),onPress:b,ref:a})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react","useUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useUniqueID")(),d=c("useUniqueID")(),e=c("useUniqueID")(),f=c("useUniqueID")();return h.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[h.jsx("g",{filter:"url(#"+b+")",children:h.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),h.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),h.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),h.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),h.jsxs("defs",{children:[h.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[h.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),h.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),h.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),h.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[h.jsx("stop",{stopColor:"#969495"}),h.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),h.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[h.jsx("stop",{stopColor:"#666666"}),h.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),h.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[h.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),h.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState,k={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=j(!1),e=d[0],f=d[1],g=i(a);d=b?k.mountAnimationOutgoing:k.mountAnimationIncoming;h(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:k.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0},relative:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,j=f.shouldShow;f=f.unmountAnimation;return!j||b?h.jsx(h.Fragment,{children:d}):d&&h.jsxs("div",{className:"x1n2onr6",children:[h.jsx("div",{className:c("stylex")([i.container,a?i.alignEnd:i.alignStart,e?g:f]),children:h.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":25");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(){return b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX")};function a(a){var b=a.isLastMessage,d=a.isOutgoing,e=a.isPinnedMessageList;a=a.message;var f=a.textHasLinks;a=c("useMWIsXMARoom")(a);d=!d&&(f||a)&&b&&!e;return!d?null:h.jsx(i,{})}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("useIsRollcallEnabled",["MWCMIsAnyCMThread","MWLSThread","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("MWLSThread").useThread(a,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});return a===!0?c("gkx")("6957"):c("gkx")("7007")&&((a=c("qex")._("155"))!=null?a:!1)}g["default"]=a}),98);
__d("MWJumpToMessageLogger.bs",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction.bs","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction.bs").set(b,g);e!=null&&(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",d("I64").to_string(f));return a.onComplete(function(){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}g.startHeroInteractionTrace=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");d=e.createContext;var i=e.useContext,j=e.useMemo,k=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var l=d(e);function a(a){a=a.children;var b=k(),c=b[0],d=b[1];b=j(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(l)}g.MWPVisibleMessageContext=l;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger.bs","MWPVisibleMessageContext.react","MWVersion.bs","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=c("useLSMessagingInitiatingSource")(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return h(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger.bs").startHeroInteractionTrace(g,b,f,d("MWVersion.bs").v2)})},[a,e,g,f])}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.bs",["CometPressable.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,j=a.outgoing,k=a.renderAttachment,l=a.renderExpiredMessage,m=a.renderGIF,n=a.renderMedia,o=a.renderPost,p=a.renderRemovedMessage,q=a.renderRollcallContribution,r=a.renderSticker,s=a.renderStory,t=a.renderTextMessage,u=a.renderUnavailableMessage;a=a.renderVideo;var v=g.replyAttachmentId,w=g.replyAttachmentType,x=g.replyMessageText;w!=null&&(!e||g.replyStatus!=null&&!d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED)))?(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=h.jsx(s,{isSecureMessage:f,message:g,outgoing:j}):v!=null?d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))?q!=null?e=h.jsx(q,{message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=h.jsx(a,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").GIF))?m!=null?e=h.jsx(m,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))?r!=null?e=h.jsx(r,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").LINK))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))?e=h.jsx(k,{message:g,outgoing:j}):o!=null?e=h.jsx(o,{message:g,outgoing:j}):e=(c("recoverableViolation")("Unknown attachment type: "+d("I64").to_string(w),"messenger_comet"),null):d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&r!=null?e=h.jsx(r,{message:g,outgoing:j}):e=null:v!=null?n!=null?e=h.jsx(n,{isSecureMessage:f,message:g,outgoing:j}):e=h.jsx(k,{message:g,outgoing:j}):g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").DELETED))?p!=null?e=h.jsx(p,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").EXPIRED))?l!=null?e=h.jsx(l,{outgoing:j}):e=null:g.replyStatus!=null&&d("I64").equal(g.replyStatus,d("LSIntEnum").ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?u!=null?e=h.jsx(u,{outgoing:j}):e=null:x!=null&&g.replySourceTypeV2!=null&&d("I64").equal(g.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?x!==""?e=h.jsx(t,{message:g,outgoing:j,text:x}):e=h.jsx(k,{message:g,outgoing:j}):e=null;s=h.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var y=g.replySourceTimestampMs,z=g.replySourceId,A=c("useMWJumpToMessage")("Pinned");q=w!=null&&(d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||d("I64").equal(w,d("LSIntEnum").ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION)));var B=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();a=c("useIsRollcallEnabled")(g.threadKey);if(z!=null&&y!=null&&b){m=function(){A(z,y)};if(q&&a){var C=d("I64").of_string((o=g.replyAttachmentExtra)!=null?o:"0"),D=g.threadKey,E=(r=g.replySourceId)!=null?r:null;m=function(){B(C,D,E)}}return h.jsx(c("CometPressable.react"),{onPress:m,overlayDisabled:!0,xstyle:function(){return[i.pressable]},children:s})}else return s}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyTo.bs",["fbt","CometScreenReaderText.react","MWPSolidMessageBubble.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"xi81zsa",fontSize:"x1nxh6w3",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",paddingBottom:"xsag5q8",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=(a=a.xstyle)!=null?a:!1;return i.jsxs(c("MWPSolidMessageBubble.bs"),{connectBottom:!0,connectTop:!1,outgoing:d,precedesXMA:!1,style:{backgroundColor:"var(--mwp-reply-background-color)"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),"data-testid":void 0,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.bs","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,j.jsx("span",{className:"x1lliihq x1i64zmx",children:j.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","LSIntEnum","MWLSThreadDisplayContext","MWPStableImage.bs","MWPThreadCapabilitiesContext","cr:956","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.isSticker;f=f===void 0?!1:f;var g=a.outgoing,j=a.src;a=a.width;var k=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();k=k==="ChatTab";var l=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();l=c("gkx")("1581")&&l(d("LSIntEnum").ofNumber(46));g=f?!1:g?i.outgoing:i.incoming;e=h.jsx(d("MWPStableImage.bs").MWPStableImage,{alt:"",className:c("stylex")(i.root,f&&i.rootHasSticker,g),height:e!=null?d("I64").to_float(e):void 0,maxHeight:100,maxWidth:k?180:300,src:j,width:a!=null?d("I64").to_float(a):void 0});return b("cr:956")!=null&&l&&!f?h.jsx(b("cr:956"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:j,xstyle:[i.root,g],children:e}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function k(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:d("I64").zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a))},[k,g],f.id+":48"),m;l!=null&&(b("cr:6426")==null||!e?m=d("LSMediaUrl.bs").Attachment.previewUrl(l):m=b("cr:6426").getAttachmentBlobNonOptional(l.attachmentFbid));if(m!=null&&m!=="")return i.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:m,width:g.replyMediaPreviewWidth});else return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.italic,children:h._("__JHASH__kPmtZiB6viN__JHASH__")})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(k,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometIcon.react","CometPlaceholder.react","I64","IconSource","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},postBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"x18aeczl",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",height:"xpyat2d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"x1exxlbk",$$css:!0},storyBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1wkxgih",justifyContent:"xl56j7k",opacity:"x197sbye",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function l(a){var e=a.isSecureMessage,g=a.message;a=a.outgoing;var l=h._("__JHASH__bznTdd53oJN__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=g.replyAttachmentId,b=g.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a)):d("ReQL").empty()},[m,g],f.id+":86"),o=n!=null&&n.hasXma&&e&&n.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(n!=null&&n.hasXma&&e){var p;p=(p=n.defaultCtaType)!=null?p:""}else p="";var q=new(c("IconSource"))("FB",i("1423124"),28);if(o)if(p==="xma_montage_share")return j.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:q})})});else return j.jsx("div",{className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",children:j.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:j.jsx(c("CometIcon.react"),{icon:q})})});o=b("cr:6426")!=null&&e?function(a){return n!=null&&n.hasXma?a.replyAttachmentId!=null?b("cr:6426").getInfoUrlXMA(n,"preview"):void 0:a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):void 0}:d("LSMediaUrl.bs").Message.replyMediaUrl;p=o(g);return p!=null&&p!==""?j.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:p,width:g.replyMediaPreviewWidth}):j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:k.italic,children:l})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,{isSecureMessage:b,message:d,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRollcallContribution.react",["fbt","CometBlurredBackgroundImage.react","CometImageCover.react","CometPlaceholder.react","I64","LSMediaUrl.bs","MWV2ReplyTo.bs","ReQL","ReQLSuspense","isStringNullOrEmpty","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=213,k=213,l={blurredImage:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b,e=a.message;a=a.outgoing;var g=h._("__JHASH__-iobVkYmlUt__JHASH__"),m=c("useReStore")(),n=d("I64").of_string((b=e.replyAttachmentExtra)!=null?b:"0");b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.table("roll_calls")).getKeyRange(n)},[m,n],f.id+":71");b=(b=b==null?void 0:b.isBlurred)!=null?b:!0;var o=d("LSMediaUrl.bs").Message.replyMediaUrl(e),p=e.replyMediaPreviewHeight!=null?d("I64").to_float(e.replyMediaPreviewHeight):0;e=e.replyMediaPreviewWidth!=null?d("I64").to_float(e.replyMediaPreviewWidth):0;var q=Math.min(1,j/p),r=Math.min(1,k/e);p=Math.round(p*Math.min(q,r));e=Math.round(e*Math.min(q,r));return!c("isStringNullOrEmpty")(o)?b?i.jsx("div",{style:{height:p,width:e},children:i.jsx(c("CometBlurredBackgroundImage.react"),{src:o,xstyle:[l.blurredImage,a&&l.outgoing]})}):i.jsx("div",{className:c("stylex")([l.unblurredImageContainer,a&&l.outgoing]),style:{height:p,width:e},children:i.jsx(c("CometImageCover.react"),{alt:"",src:o})}):i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:l.italic,children:g})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSMediaUrl.bs","MWRepliesImage.react","MWV2ReplyTo.bs","MWV2Sticker.react","ReQL","ReQLSuspense","cr:2472","cr:3200","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e,g=a.isSecureMessage;g=g===void 0?!1:g;var k=a.message;a=a.outgoing;var l=h._("__JHASH__13yhS1gywbZ__JHASH__"),m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(k.threadKey,b,d("I64").to_string(a)):d("ReQL").empty()},[m,k],f.id+":64");e=(e=k.replyMessageText)!=null?e:"";e=(b("cr:2472")!=null?b("cr:2472").unvault(e):e)==="\ud83d\udc4d";if(e)if(b("cr:3200")==null)return null;else return i.jsx(b("cr:3200"),{xstyle:j.replyHotLikeSticker});e=d("LSMediaUrl.bs").Message.replyMediaUrl(k);if(e!=null&&n==null)return i.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,outgoing:a,src:e,width:k.replyMediaPreviewWidth});if(n==null)return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.italic,children:l});b("cr:6426")==null||!g?e=function(a){return d("LSMediaUrl.bs").Attachment.previewUrl(a)}:e=function(a){return b("cr:6426").getAttachmentBlobNonOptional(a.attachmentFbid)};return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWV2Sticker.react"),{attachment:n,getPreviewUrl:e,scale:.6,xstyle:j.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","CometPressable.react","I64","LSMediaUrl.bs","MWRepliesImage.react","XCometStoriesControllerRouteBuilder","cr:6426","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:6426")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:6426").getAttachmentBlobNonOptional(d("I64").to_string(a.replyAttachmentId)):null}:d("LSMediaUrl.bs").Message.replyMediaUrl;e=e(f);return e==null?null:i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:i.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesText.react",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform","MWV2ReplyTo.bs","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var e=a.outgoing,f=a.text;a=i(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").replyRenderer]}},[]);var g=i(function(){return d("MWChatTextFormatting").getFormattingRanges(f)},[f]),j=b("cr:2472")==null?f:b("cr:2472").unvault(f);return h.jsx(c("MWV2ReplyTo.bs"),{outgoing:e,children:h.jsx("div",{className:"xi81zsa x126k92a",children:h.jsx(c("CometTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:g,renderers:a,text:j,transforms:d("MWChatTextTransform").epdTextTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__3TzRhHHRgwV__JHASH__");return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesVideo.react",["fbt","ix","CometImage.react","CometPlaceholder.react","I64","LSMediaUrl.bs","MWLSThreadDisplayContext","MWPStableImage.bs","MWV2ReplyTo.bs","ReQL","ReQLSuspense","cr:6426","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0},playButtonContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0},thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{position:"x1n2onr6",$$css:!0}};function l(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="ChatTab";var m=c("useReStore")(),n=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:d("I64").zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(m.table("attachments")).getKeyRange(g.threadKey,b,d("I64").to_string(a))},[m,g],f.id+":73"),o;n!=null&&(b("cr:6426")==null||!e?o=d("LSMediaUrl.bs").Attachment.previewUrl(n):o=b("cr:6426").getAttachmentBlobNonOptional(n.attachmentFbid));if(o==null)return j.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:k.italic,children:h._("__JHASH__7WGJ1daCkBD__JHASH__")});e=g.replyMediaPreviewHeight!=null?d("I64").to_float(g.replyMediaPreviewHeight):void 0;a=g.replyMediaPreviewWidth!=null?d("I64").to_float(g.replyMediaPreviewWidth):void 0;var p=100;l=l?180:300;(n==null?void 0:n.previewUrlMimeType)!=null?n=j.jsx(d("MWPStableImage.bs").MWPStableImage,{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e,maxHeight:p,maxWidth:l,src:o,width:a}):n=j.jsx("video",{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e!=null&&e>p?"100%":e,src:o,style:{maxHeight:p,maxWidth:l},width:a!=null&&a>l?"100%":a});return j.jsxs("div",{className:"x1n2onr6",children:[n,j.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3",children:j.jsx(c("CometImage.react"),{src:i("354763")})})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliedMessage.bs",["MWPBaseRepliedMessage.bs","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return h.jsx(c("MWPBaseRepliedMessage.bs"),{isSecureMessage:b,message:d,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderVideo:c("MWRepliesVideo.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("I64").equal(a.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var e=c("useMWPIsMessagePinned")(a),f=d("MWPMessageAuthor.react").useAuthorName();f=f[0];var g=d("Actor").useActor();g=g[0];g=g===d("I64").to_string(a.senderId);var i=c("useMWIsReplyToAuthor")(a);return!e||g||i?a.replySnippet:b?h._("__JHASH__lpeJtmI6peT__JHASH__").toString():h._("__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",f)]).toString()}g["default"]=a}),98);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","MWEditedEyebrow.react","MWPEditMessageUtil","react","useMWReplySnippetContent"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",color:"x12scifz",display:"x78zum5",fontSize:"x1pg5gke",paddingBottom:"xg8j3zb",paddingTop:"x1nn3v0j",$$css:!0},separator:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},text:{paddingStart:"x1h0ha7o",$$css:!0}};function j(a){a=a.replySourceType;if(a==null)return null;if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").STORY)))return h.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16});else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16});return null}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.message;a=a.outgoing;a=c("useMWReplySnippetContent")(b,a);if(a==null)return null;var e=d("MWPEditMessageUtil").isEditMessage(b);return h.jsxs("div",{className:"x6s0dn4 x12scifz x78zum5 x1pg5gke xg8j3zb x1nn3v0j","data-testid":void 0,children:[h.jsx(j,{replySourceType:b==null?void 0:b.replySourceTypeV2}),h.jsx("div",{className:"x1h0ha7o",children:a}),e&&h.jsx(c("MWEditedEyebrow.react"),{hasSeparator:!0,xstyle:i.separator})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListText.react",["BaseTheme.react","CometTextWithEntities.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWBaseTheme","MWChatTextTransform","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={forwarded:{borderStartStyle:"x26u7qi",borderStartWidth:"x7g060r",fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},forwardedIncoming:{borderStartColor:"xa7jiu",color:"x12scifz",$$css:!0},forwardedOutgoing:{borderStartColor:"x16b4vue",color:"xkxfvhb",$$css:!0},regular:{fontSize:"x6prxxf",lineHeight:"x1fc57z9",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},regularIncoming:{color:"xzsf02u",$$css:!0},regularOutgoing:{color:"x14ctfv",$$css:!0}};b={"mw-blockquote-border-start-color":"var(--placeholder-text)"};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var j={dark:e,light:b,type:"VARIABLES"};function a(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,k=a.text,l=a.transforms,m=a.xstyleForForwarded;a=a.xstyleForText;b=b.replySourceTypeV2!=null&&d("I64").equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));var n=e?d("MWBaseTheme").empty:j;if(k!=null)if(b){m=h.jsx("blockquote",{className:c("stylex")(i.forwarded,e?i.forwardedOutgoing:i.forwardedIncoming,m),dir:"auto",children:h.jsx(c("CometTextWithEntities.react"),{ranges:f,renderers:g,text:k,transforms:(b=l)!=null?b:d("MWChatTextTransform").epdTextTransforms,withParagraphs:!1})})}else{m=h.jsx("div",{className:c("stylex")(i.regular,e?i.regularOutgoing:i.regularIncoming,a),dir:"auto",role:"none",children:h.jsx(c("CometTextWithEntities.react"),{ranges:f,renderers:g,text:k,transforms:(b=l)!=null?b:d("MWChatTextTransform").epdTextTransforms,withParagraphs:!1})})}else m=null;return h.jsx(c("BaseTheme.react"),{config:n,role:"none",children:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts",POLL:"pl",AI:"ai"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="c")return"cc";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return h.test(c)===!1});b=f.contents!==a.length&&!h.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function i(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function j(a,b){try{a=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:d("I64").of_string(b),tl:0}),f.id+":114")}catch(b){a=void 0}if(a==null)return i(b);var e=a.contactTypeExact;if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(a))return i(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return i(b)}function e(a,b,c,e,f,g){b=b.split(",");var h=c.split(","),k=e.split(","),l=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeType.bs").ofString(l[e]),m=Number(h[e]);e=Number(k[e]);var n=d("UnicodeUtils").strlen(g.slice(0,e));n=e-n;e=e-n;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:i(c)},length:m,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:j(a,c)},length:m,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:d("I64").of_string(c)},length:m,offset:e}):f==="s"&&b.push({entity:{__typename:"Command"},length:m,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("useMWPLinkRendererFactory",["LSIntEnum","MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=c("gkx")("1886144")&&b(d("LSIntEnum").ofNumber(45));return function(b,d,f,g){return e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useMWTextRenderers",["CometErrorBoundary.react","CometLink.react","GroupsCometJoinChatDialog.entrypoint","I64","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder","MWLSThread","MWMessageCellFocusTable.bs","MWNavigationContext","react","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWPCombineTextRenderers","useMWPLinkRendererFactory","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={bold:{fontWeight:"x1s688f",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",$$css:!0}};function k(a){var b=a.folder,e=a.node,f=a.thread;a=c("useMWNavigation")();var g=a.openTabOrInbox;a=(a=f.hasPendingInvitation)!=null?a:!1;var i=c("useMWCMShouldGoToFullScreenChatHook")(),j={invited:a,shouldGoToMessenger:i};a={groupID:d("I64").to_string(b.fbGroupId),threadID:d("I64").to_string(f.threadKey)};i=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),a);var k=i[0],l=function(){return k(j)};return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:h.jsx(c("CometLink.react"),{onClick:function(){if(d("MWCMThreadTypes.react").isUnjoinedCMThread(f.threadType))return l();else return g({clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType},"mention")},children:e})})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.folder,c=a.thread,e=d("I64").to_string(b.folderId),f=d("I64").to_string(c.threadKey);b=i(function(){return d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:e,thread_key:f})},[e,f]);return h.jsx(d("MWNavigationContext").Provider,{children:a.children,value:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;a=d("MWLSThread").useThreadExn(a);var f=c("useCommunityFolder")(a);return f!=null?h.jsx(l,{folder:f,thread:a,children:h.jsx(k,{folder:f,node:e,thread:a})}):b}var n=["Command",function(a){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],o=["CommunityChannel",function(a,b){var e=h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:h.jsx(m,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b){a=c("useMWPLinkRendererFactory")(a);return c("useMWPCombineTextRenderers")([a([j.underline],"chat_message_regular_link","Link",b),a([j.bold],"profile_link","Profile",b),a([j.highlight],"highlight","Highlight",b),n,o,["MessengerTextFormatting",d("MWChatTextFormatting").messageRenderer]])}g["default"]=a}),98);
__d("MWV2ChatText.bs",["MWPMessageListText.react","MWPVisibleMessageContext.react","MWV2ChatTextParserUtils.bs","cr:2472","react","useMWTextRenderers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,e,f,g,b,c):[]}function k(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d|0}});else return[]}function l(a){var e=c("useReStore")(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return i(function(){var c=a.text!=null&&a.text!==""?a.text:void 0;if(c==null)return[];if(d("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(c))return[];c=b("cr:2472")==null?c:b("cr:2472").unvault(c);var f=j(e,a,c);f=f.concat(d("MWV2ChatTextParserUtils.bs").findRanges(c));return f.concat(k(g==null?void 0:g,c,a.messageId))},[a,e,g])}function a(a){var d=a.isSecureMessage,e=a.message;a=a.outgoing;var f=l(e),g=c("useMWTextRenderers")(d),i=e.text;d=b("cr:2472")==null?e.text:d?i!=null?b("cr:2472").unvaultOrThrow(i):e.text:i!=null?b("cr:2472").unvault(i):e.text;return h.jsx(c("MWPMessageListText.react"),{message:e,outgoing:a,ranges:f,renderers:g,text:d})}a.displayName=a.name+" [from "+f.id+"]";g.useRanges=l;g.MWV2ChatText=a}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometImageCover.react","CometPressable.react","I64","JSResourceForInteraction","LSContactBitOffset","LSMediaUrl.bs","MDSAccountSvgIcon.react","MDSGlimmer.react","MWXIcon.react","MWXLazyPopoverTrigger.react","MWXTooltip.react","SVGIcon","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),k={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},noProfilePhoto:{width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,f=a.isCMAdmin,g=f===void 0?!1:f,h=a.isGroupThread;f=a.isLastMessageInGroup;var l=a.message;a=a.nickname;if(!f)return i.jsx("div",{className:"xgd8bvy"});if(l.takedownState!=null)f=i.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:j,children:i.jsx(c("MWXIcon.react"),{alt:j,icon:d("SVGIcon").legacySVGIcon(function(){return i.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&d("LSMediaUrl.bs").Contact.profilePictureUrl(e)!==""){var m;a=a!=null?a+" ("+e.name+")":e.name;var n=(m=d("LSContactBitOffset").has(d("I64").of_int32(77),e))!=null?m:!1;m=(m=d("LSContactBitOffset").has(d("I64").of_int32(84),e))!=null?m:!1;var o=i.jsx(c("CometImageCover.react"),{alt:e.name,src:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),style:{borderRadius:"50%"}});f=i.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:a,children:c("qex")._("384")&&!m?i.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{message:l},popoverResource:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoContent.react"),position:"above",children:function(a,b,d,e,f,j){return h&&(!n||g)?i.jsx(c("CometPressable.react"),{onHoverIn:e,onHoverOut:f,onPress:function(){return b()},onPressIn:j,overlayRadius:"50%",ref:a,xstyle:k.profile,children:o}):o}}):o})}else f=i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.glimmer});return i.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isCMAdmin;e=e===void 0?!1:e;var f=a.isGroupThread,g=a.isLastMessageInGroup;a=a.message;var i=d("MWPContactContext.react").useMWPContactStableContext(),j=i.contact;i=i.nickname;return h.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:j,isCMAdmin:e,isGroupThread:f,isLastMessageInGroup:g,message:a,nickname:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","MercuryTimestamp","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.timestampMs;a=a.unsentTimestampMs;return i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(b)))])}),i.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(a)))])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.bs",["fbt","MWV2ReplyTo.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return i.jsx(c("MWV2ReplyTo.bs"),{outgoing:a,xstyle:j.root,children:h._("__JHASH__grNaxJ_sL8-__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRow.react",["CometErrorBoundary.react","CometMiddot.react","CometPlaceholder.react","CometPressable.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","LSThreadBitOffset","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatGutterItem.bs","MWChatMessageUnreadIndicator.react","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWForwardedContent.react","MWLSThread","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWMessageListAttachmentContainer.react","MWMessageReactionsContainer.react","MWMessageRowActions.react","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPMessageFooter.react","MWPMessageIsReply.bs","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessagePinnedText.react","MWPMessageReactions.react","MWPMessageRowCalculateStatus.react","MWPMessageS2SLoggingWrapper","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWRepliedMessage.bs","MWReplySnippet.react","MWV2ChatAdminMessage.react","MWV2ChatBubble.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.bs","MWV2ChatUnsentMessage.react","MWV2MessageEndOfGroupContent.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.react","MWV2ReplyError.bs","MWXText.react","QE2Logger","ReQL","ReQL.bs","ReQLSubscription.bs","asyncToGeneratorRuntime","cr:120","cr:4443","deferredLoadComponent","gkx","justknobx","promiseDone","qex","react","requireDeferredForDisplay","stylex","useCometUniqueID","useIsMultiReactionEnabled","useMWIsReplyToAuthor","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.startTransition,j=a.useCallback,k=a.useMemo,l=a.useState,m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRow.react")),n={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x1i5r0r9",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j","@supports(max-width: min(100%, 500px))_maxWidth":"x8ibpz6",$$css:!0},alignEnd:{alignItems:"xuk3077",$$css:!0},emptyGutter:{width:"x51ohtg",$$css:!0},emptyGutterForTextReceipts:{width:"x1xc55vz",$$css:!0},gutter:{overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xw4jnvo",$$css:!0},multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0},reply:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},replyMargin:{marginBottom:"x1q5jw98",minHeight:"xvnwnnf",$$css:!0}},o=e(function(a){var e=a.hasClickState,f=e===void 0?!1:e,g=a.hasMessageEmphasisRing;e=a.isFirstMessageInGroup;var i=a.isLastMessageInGroup,j=a.isSecureMessage,k=a.message,l=a.nextMessage,m=a.offlineAttachmentId,n=a.outgoing,o=a.prevMessage,p=a.reactions,q=a.reactionsV2,r=a.renderAttachment;a=a.threadType;var s=c("MWClickedMessageContext.react").useHook(),t=s.clickedMessageId,u=s.fetchMessageSeenCount,v=s.hasError,w=s.setClickedMessageId,x=c("useReStore")(),y=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a),z=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(k.threadKey),A=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(x.table("threads")).getKeyRange(k.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(x.table("community_folders")).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:k.messageId},community_id:d("I64").to_string(b.folderId),event:"render_seen_count",group_id:d("I64").to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:d("I64").to_string(a.threadKey)});if(t===k.messageId&&!v)return w(null);else return u(k.threadKey,k.messageId,b)})())},[x,t,k.messageId,k.threadKey,v,w,u]);return h.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:e,isLastMessageInGroup:i,message:k,nextMessage:l,outgoing:n,prevMessage:o,reactions:p,reactionsV2:q,renderAttachment:function(a,b,d){return r!=null&&j?r(k,o,l,n):h.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:b,connectTop:a,hasEmphasisRing:g,hasText:d,message:k,outgoing:n})},renderEmoji:function(){return h.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:g,isSecureMessage:j,message:k})},renderMessageBubble:function(a,b,c,e){return h.jsx(d("MWV2ChatBubble.react").ChatBubble,{connectBottom:c,connectTop:b,hasEmphasisRing:g,message:k,outgoing:n,precedesXMA:e,children:h.jsx(d("MWV2ChatText.bs").MWV2ChatText,{isSecureMessage:j,message:k,outgoing:n})})},renderMessageContainer:function(a,d){var e;e=h.jsx(c("MWPMessageLoggingWrapper.bs"),{messageId:k.messageId,optimisticMessageId:(e=m)!=null?e:k.offlineThreadingId,xstyle:f?[!1]:d,children:y&&b("cr:120")?h.jsx(b("cr:120"),{message:k,children:a}):h.jsx(c("MWV2MessageTimestampTooltip.react"),{message:k,children:a})});if(f)return h.jsx(c("CometPressable.react"),{onPress:A,overlayDisabled:!0,xstyle:d,children:e});else return e},renderMessageFooter:function(){if(z)return null;var a=q!=null&&q.length>0;return h.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:n,children:!a&&p.length<1?null:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:k,outgoing:n,reactions:p,reactionsV2:a?q:void 0,children:function(b,d,e,f,g){return h.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?q:void 0,threadKey:g})}})})},renderUnsentMessage:function(){return h.jsx(c("MWV2MessageTimestampTooltip.react"),{message:k,children:h.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:j,message:k,outgoing:n})})}})});function p(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return k(function(){var b=c("gkx")("571")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}f=e(function(a){var e=a.displayMode;e=e===void 0?"standard":e;var f=a.domElementRef,g=a.fbGroupId,q=a.hasMessageEmphasisRing,r=a.isCMAdmin,s=r===void 0?!1:r,t=a.isModal,u=a.isSecureMessage,v=a.message,w=a.nextMessage,x=a.prevMessage,y=a.renderAttachment;r=a.shouldRenderUnreadIndicator;var z=a.stopHoveringRef,A=a.threadType;a=a.useReactionsV2;var B=a===void 0?!1:a,C=e==="pinnedMessages";a=d("MWPActor.react").useActor();e=c("MWClickedMessageContext.react").useHook();var aa=e.clickedMessageId,D=C||d("MWPMessageParsingUtils.bs").isStartOfGroup(v,x),E=C||d("MWPMessageParsingUtils.bs").isEndOfGroup(v,w),F=c("MWCMIsAnyCMThread")(A),G=d("MWCMThreadTypes.react").isBroadcastThread(A);e=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A);var H=d("LSMessagingThreadTypeUtil").isGroup(A),I=d("LSMessagingThreadTypeUtil").isSecure(A),J=Boolean(d("MWLSThread").useThread(v.threadKey,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(140),a)})),K=!1;if(I){var L;K=(L=c("qex")._("891"))!=null?L:!1;d("QE2Logger").logExposureForUser("messenger_armadillo_web_message_states")}else K=c("justknobx")._("1250");var M=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v.threadKey);L=!v.isUnsent&&J;var N=L&&!e,O=!C&&d("I64").equal(v.senderId,a),P=w==null,Q=d("MWPMessageReactions.react").useReactions(v),R=d("MWPMessageReactions.react").useReactionsV2(v),ba=M&&R.some(function(a){return d("I64").to_int32(a.count)>0});J=l(!1);var S=J[0],T=J[1];L=l(!1);var U=L[0],V=L[1],W=j(function(a){return i(function(){return V(a)})},[V,i]),X=j(function(a){return i(function(){return T(a)})},[T,i]),ca=c("useCometUniqueID")();a=l(!1);var Y=a[0],da=a[1],ea=!O,fa=ea&&H,Z=c("MWPMessageIsReply.bs")(v),ga=(Q.length>0||R.length>0)&&!M;J=c("useMWIsReplyToAuthor")(v);var ha=J||v.replySourceId==null?!1:v.replyMediaExpirationTimestampMs!=null?d("I64").gt(v.replyMediaExpirationTimestampMs,d("I64").zero):!0,ia=G&&c("gkx")("6159")||C||e||K,ja=function(a){return h.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},ka=p();L=r===!0?h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:h.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null;var la=c("useReStore")(),ma=v.messageId,na=v.threadKey,$=d("ReQLSubscription.bs").useArray(k(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(la.table("attachments")),{hd:na,tl:{hd:ma,tl:0}})},[la,ma,na]),"tawsd338");a=$.length>0&&$[0].xmaLayoutType!=null&&d("I64").equal($[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));J=$.length>0&&$[0].xmaLayoutType!=null&&d("I64").equal($[0].xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").SHARED_STACK));if(v.messageRenderingType!=null&&d("I64").equal(v.messageRenderingType,d("I64").of_int32(c("LSMessageRenderingType").HIDDEN)))return null;if(v.isAdminMessage){e=h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[h.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:v,nextMessage:w,prevMessage:x}),h.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:v,outgoing:O,xstyle:n.adminMessageAttachment})]});v.adminMsgCtaType==null?r=h.jsx(c("MWV2MessageRowSimple.react"),{children:e}):r=h.jsx(c("MWPMessageListRowWithKeyboardInteractions.bs"),{domElementRef:D?void 0:f,isDialogOpened:Y,isFocused:S,isModal:t,message:v,messageDomID:ca,nextMessage:w,outgoing:O,prevMessage:x,setFocused:X,setHovered:W,setIsDialogOpened:da,stopHoveringRef:z,theme:ka,children:e})}else a||J?r=h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:h.jsx(c("MWV2MessageRowSimple.react"),{children:h.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:v,outgoing:O,xstyle:n.adminMessageAttachment})})}):r=h.jsxs(h.Fragment,{children:[L,D&&!C?h.jsx(c("MWV2MessageStartOfGroupContent.bs"),{domElementRef:f,message:v,prevMessage:x}):null,h.jsx(c("MWPMessageRowCalculateStatus.react"),{isBroadcastThread:G,isLargeGroup:!1,isSecureGroupThread:I&&H,message:v,nextMessage:w,children:function(a){var b;return h.jsxs(c("MWPMessageListRowWithKeyboardInteractions.bs"),{domElementRef:D?void 0:f,isDialogOpened:Y,isFocused:S,isModal:t,message:v,messageDomID:ca,nextMessage:w,outgoing:O,prevMessage:x,setFocused:X,setHovered:W,setIsDialogOpened:da,stopHoveringRef:z,theme:ka,children:[h.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:C,fbGroupId:g,isAnyCMThread:F,isFirstMessageInGroup:D,isGroupThread:H,message:v,outgoing:O,renderForwardSnippet:function(){return h.jsx(c("MWForwardedContent.react"),{message:v,outgoing:O})},renderPinnedText:function(a,b){return C?null:h.jsx(c("MWPMessagePinnedText.react"),{divider:b&&h.jsx(c("CometMiddot.react"),{}),message:v})},renderReplySnippet:function(){return h.jsx(c("MWReplySnippet.react"),{message:v,outgoing:O})},renderTextWrapper:function(a){return h.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:C?ja:void 0}),h.jsxs(h.Fragment,{children:[D&&!fa?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,Z&&h.jsx("div",{className:c("stylex")(n.reply,O?n.alignEnd:!1,ha?n.replyMargin:!1),role:"none",children:h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(c("MWV2ReplyError.bs"),{outgoing:O})},children:C?h.jsx(c("MWRepliedMessage.bs"),{isSecureMessage:u,message:v,outgoing:O}):h.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:v,outgoing:O,children:h.jsx(c("MWRepliedMessage.bs"),{isSecureMessage:u,message:v,outgoing:O})})})})}),h.jsx(c("MWPMessageS2SLoggingWrapper"),{messageId:v.messageId,optimisticMessageId:(b=$==null?void 0:(b=$[0])==null?void 0:b.offlineAttachmentId)!=null?b:v.offlineThreadingId,statusType:a.type,children:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:ga,message:v,outgoing:O,renderGutterItem:function(){return ia?h.jsx("div",{className:c("stylex")(K?n.emptyGutterForTextReceipts:n.emptyGutter),role:"none"}):h.jsx(c("MWChatGutterItem.bs"),{errorMessage:v.subscriptErrorMessage!=null&&F?v.subscriptErrorMessage:void 0,incoming:!1,status:a,xstyle:n.gutter})},renderMessageActions:function(){return C?h.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!U&&!S,message:v}):h.jsx(c("MWMessageRowActions.react"),{ariaHidden:t===!1,focused:S||Y||t,hasReactions:ga,hovered:U,message:v,outgoing:O,shouldHideHoverMenuReact:ba})},renderMultiReactions:function(){if(v.isUnsent)return null;var a=R!=null&&R.length>0;return!M||!a?null:h.jsx("div",{className:c("stylex")(n.multiReactContainer,O?n.multiReactContainerOutgoing:!1),children:h.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:v,outgoing:O,reactions:Q,reactionsV2:R,children:function(a,b,d,e,f,g){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(m,{emojis:a,message:e,onOpenDialog:g,outgoing:O,reactionsV2:R})})}})})},renderProfile:function(){return h.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:H?!t:!0,isCMAdmin:s,isGroupThread:H,isLastMessageInGroup:E,message:v})},children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(c("MWV2ChatErrorBubble.react"),{isReply:Z})},children:C?h.jsx(o,{hasClickState:N,hasMessageEmphasisRing:q,isFirstMessageInGroup:D,isLastMessageInGroup:E,isSecureMessage:u,message:v,nextMessage:w,offlineAttachmentId:$&&$.length>0?$[0].offlineAttachmentId:null,outgoing:O,prevMessage:x,reactions:Q,reactionsV2:B?R:void 0,renderAttachment:y,threadType:A}):h.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:Z,message:v,outgoing:O,children:h.jsx(o,{hasClickState:N,hasMessageEmphasisRing:q,isFirstMessageInGroup:D,isLastMessageInGroup:E,isSecureMessage:u,message:v,nextMessage:w,offlineAttachmentId:$&&$.length>0?$[0].offlineAttachmentId:null,outgoing:O,prevMessage:x,reactions:Q,reactionsV2:B?R:void 0,renderAttachment:y,threadType:A})})})})}),h.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:P,isOutgoing:O,isPinnedMessageList:C,message:v}),h.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:w}),N&&aa===v.messageId?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):E&&!K?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):E&&!P?h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null]}),C?null:h.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:v,nextMessage:w,showContent:N||d("MWMessageDeliveryStatus").isAlwaysShownStatus(a)&&K,children:function(){return h.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:N&&ea,hasTextBasedMessageReceipts:K,isLastMessage:P,isOutgoing:O,isTextOnly:G,message:v,status:a})}})]})}})]});return h.jsxs(h.Fragment,{children:[r,b("cr:4443")==null?null:h.jsx(b("cr:4443"),{})]})});g.useTheme=p;g.MWMessageRow=f}),98);
__d("MAWDualSendPermissionsManager",["I64","LSIntEnum","MAWGating","MWV2UseAreThreadContactsDualSendEligible.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(1)))return!d("I64").equal(a,d("LSIntEnum").ofNumber(15));else return!1}function i(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(2)))return!d("I64").equal(a,d("LSIntEnum").ofNumber(16));else return!1}function j(a,b){if(h(a)&&b===1)return[d("MAWGating").isOneToOneDualSendTextEnabled(),d("MAWGating").isOneToOneDualSendMediaEnabled()];else if(i(a)&&b===2)return[d("MAWGating").isGroupDualSendTextEnabled(),d("MAWGating").isGroupDualSendMediaEnabled()];else return[!1,!1]}function k(a,b,c){b=d("MWV2UseAreThreadContactsDualSendEligible.bs").useThreadEligiblity(b,c);c=j(c,b);b=c[0];c=c[1];if(a==="media")return c;else return b}function a(a,b){var c=k("text",a,b);a=k("media",a,b);if(c)return!0;else return a}g.useIsThreadEligible=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncement.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent.bs","MWPMessageHasAttachment.bs","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function n(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}function o(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=d("I64").equal(a.id,f);var g=b.replySourceTypeV2!=null&&d("I64").equal(b.replySourceTypeV2,d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return i.jsx(n,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}function p(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))}function q(a){a=a.message;var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":127");if(a.length===0)return null;if(a.length>1)return a.every(p)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):null;a=a[0];var j=a.accessibilitySummaryText,k=a.attachmentType,l=a.filename;a=a.titleText;if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),a!=null?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",a)]):null]});else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__456qLg2FzOf__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),j!=null&&j!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",j)]):null]});else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if(d("I64").equal(k,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE)))return i.jsxs(i.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),l!=null?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",l)]):null]});else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}function r(a){var b=a.message,e=a.participant,f=a.sender;a=a.threadType;var g=m(!1),h=g[0],j=g[1];k(function(){var a=c("setTimeout")(function(){return j(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!h)return null;g=d("LSMessagingThreadTypeUtil").isSecure(a);return i.jsxs(c("CometAccessibilityAnnouncement.react"),{children:[i.jsx(o,{message:b,participant:e,sender:f}),b.text!=null?b.text:null,c("MWPMessageHasAttachment.bs")(b)&&!g?i.jsx(q,{message:b}):null]},b.messageId+"new_message_sr_announcement")}r.displayName=r.name+" [from "+f.id+"]";function s(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),h=l(d("ServerTime").getMillis()),i=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.table("messages")).getKeyRange(i).subscribe(function(e,g){if(g.operation!=="add")return;var i=g.value;d("I64").to_float(i.timestampMs)>h.current&&(h.current=d("I64").to_float(i.timestampMs),c("promiseDone")(b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(i.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(i.threadKey,i.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(i,c,b)}))})},[f,g,a,i])}function a(a){a=a.thread;var b=a.threadType,e=m(null),f=e[0],g=e[1];e=j(function(a,e,f){if(d("I64").equal(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return i.jsx(r,{message:a,participant:f,sender:e,threadType:b})})},[b]);s(e,a);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a({text:null});g["default"]=b}),98);
__d("useMWChatPresenceStatus",["I64","PresenceStatusContext","getOrRequestMWChatPresenceStatusForContactId","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect,j=b.useState;function a(a){var b=h(c("PresenceStatusContext")),e=d("I64").to_string(a);a=j(c("getOrRequestMWChatPresenceStatusForContactId")(b,e));var f=a[0],g=a[1];i(function(){return b.addListener(function(){return g(function(){return c("getOrRequestMWChatPresenceStatusForContactId")(b,e)})})},[b,e]);return f}g["default"]=a}),98);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","I64","LSIntEnum","MAWGating","MWPActor.react","ReQL","ReQLSuspense","react","useMWChatHasActiveContact","useMWChatPresenceStatus","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){a=a.contactId;return!d("I64").equal(a,e)}).map(function(a){a=a.contactId;return a})},[e,b,a],f.id+":58");return g}var l=function(){return null},m=function(a){return a};function n(a){var b=a.contactId,d=a.renderNullState;a=a.renderWrapper;b=c("useMWChatPresenceStatus")(b);var e=(b==null?void 0:b.status)===2;b=(b==null?void 0:b.last_active_time)!=null&&b.last_active_time!==0?b.last_active_time*1e3:void 0;if(e)return a(j);return b!=null?a(h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(b),format:"minimized"}))])):d()}function o(a){var b=a.renderNullState,c=a.renderWrapper;a=a.threadKey;a=k(a);if(a.length!==1)return b();a=a[0];return i.jsx(n,{contactId:a,renderNullState:b,renderWrapper:c})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.renderNullState,c=a.renderWrapper;a=a.threadKey;a=k(a);a=d("useMWChatHasActiveContact").useMWChatHasActiveContact(a);if(a)return c(j);else return b()}function a(a){var b=a.renderNullState;b=b===void 0?l:b;var c=a.renderWrapper;c=c===void 0?m:c;var e=a.threadKey;a=a.threadType;if(d("I64").equal(a,d("LSIntEnum").ofNumber(1))||d("I64").equal(a,d("LSIntEnum").ofNumber(15))&&d("MAWGating").isArmadillo())return i.jsx(o,{renderNullState:b,renderWrapper:c,threadKey:e});else if(d("I64").equal(a,d("LSIntEnum").ofNumber(2))||d("I64").equal(a,d("LSIntEnum").ofNumber(16))&&d("MAWGating").isArmadillo())return i.jsx(p,{renderNullState:b,renderWrapper:c,threadKey:e});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",borderTopStyle:"x143s1ad",borderEndStyle:"xp3zfi1",borderBottomStyle:"x137oirg",borderStartStyle:"xojro6o",boxShadow:"x1vnslfi",boxSizing:"x9f619",cursor:"x1ypdohk",fontFamily:"xjb2p0i",fontWeight:"xk50ysn",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingBottom:"x1a8lsjc",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"x889kno",textAlign:"x1yc453h",wordBreak:"x13faqbe",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=a.bodyLineLimit;b=b===void 0?1:b;var d=a.imageUrl,e=a.onClick,f=a.quickReplyVertical;f=f===void 0?!1:f;a=a.text;var g=c("gkx")("7695");return h.jsx("div",{className:c("stylex")(f?i.vertical:!1),children:h.jsxs("button",{className:"x6s0dn4 xcrg951 xfh8nwu xoqspk4 x12v9rci x138vmkv x143s1ad xp3zfi1 x137oirg xojro6o x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe",onClick:e,children:[d!=null?h.jsx(c("CometImage.react"),{src:d,xstyle:i.image}):null,h.jsx(c("MDSTextPairing.react"),{body:a,bodyColor:g?"blueLink":"primary",bodyLineLimit:b,level:3})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,d=a.quickReply;a=a.quickReplyVertical;var e=a?3:1,f=function(){return b(d)},g=d.image_url;return h.jsx(c("MWChatBusinessQuickReply.react"),{bodyLineLimit:e,imageUrl:(e=g)!=null?e:void 0,onClick:f,quickReplyVertical:a,text:d.title})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c!=null&&d!=null&&a!=null&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.react","MWChatUserBirthdayQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserEmailQuery").useUserEmailDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(m)},[a,g,m]);return l==null?null:h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:function(){return b({content_type:e.content_type,data:e.data,image_url:e.image_url,payload:e.payload,title:l})},quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),k=j(function(){}),l=k[0],m=k[1];i(function(){g(function(a){return m(function(){return a})})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:(a=a.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.address;a=a==null?void 0:a.postal_code;a!=null&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.react","MWChatUserProfileLocationQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),k=j(),l=k[0],m=k[1];i(function(){g(function(a){return m(a)})},[a,g,m]);if(l==null)return null;k=e.content_type;a=e.data;var n=e.image_url;e=e.payload;var o={content_type:k,data:a,image_url:n,payload:e,title:l};k=function(){return b(o)};return h.jsx(c("MWChatBusinessQuickReply.react"),{onClick:k,quickReplyVertical:f,text:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MessengerWebEventsFalcoEvent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},pillContainer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"xozqiw3",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1a8lsjc",paddingStart:"xurb0ha",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a){var b=a.arrayQR,e=a.id,f=a.onSend;a=a.quickReplyType;a=a!=null?a:d("LSIntEnum").ofNumber(c("LSQuickReplyType").NONE);var g=d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSQuickReplyType").VERTICAL));i(function(){c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:e}})},[e]);return h.jsx("div",{className:"x1n2onr6 xh8yej3 xcrg951",children:h.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:h.jsx("div",{className:c("stylex")(g?j.pillContainerVertical:j.pillContainer),children:b.map(function(a,b){var d=c("CurrentUser").getID(),e=a.content_type;switch(e){case"text":return h.jsx(c("MWChatBusinessQuickReplyText.bs"),{onSend:f,quickReply:a,quickReplyVertical:g},String(b));case"user_birthday":return h.jsx(c("MWChatBusinessQuickReplyUserBirthday.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_email":return h.jsx(c("MWChatBusinessQuickReplyUserEmail.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_phone_number":return h.jsx(c("MWChatBusinessQuickReplyUserPhoneNumber.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_state":return h.jsx(c("MWChatBusinessQuickReplyUserState.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));case"user_zip_code":return h.jsx(c("MWChatBusinessQuickReplyUserZipCode.bs"),{onSend:f,quickReply:a,quickReplyVertical:g,userID:d},String(b));default:return null}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPQuickReplies.bs",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWChatBusinessQuickReplyList.bs","MWPActor.react","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","promiseDone","react","recoverableViolation","useLSMessagingSource","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var e=a.lastMessageId,g=a.quickReplyType,j=a.threadKey,k=c("useLSMessagingSource")(),l=c("useReStore")(),m=d("MWPActor.react").useActor();a=d("ReQLSubscription.bs").useArray(i(function(){return d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("quick_reply_ctas")),{hd:j,tl:{hd:e,tl:0}}),function(a){var b=a.type_;b=b==="quick_reply_text"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":(c("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:b,data:void 0,image_url:a.imageUrl,payload:a.platformToken,title:a.title}}),function(a){return a.content_type!==""})},[l,e,j]),"ertea3ul",f.id+":53");if(a.length>0)return h.jsx(c("MWChatBusinessQuickReplyList.bs"),{arrayQR:a,id:d("I64").to_string(m),onSend:function(a){var e=d("LSThreadAttributionTypeUtil.bs").getSource(j,k),f=l.runInTransaction(function(f){var g;g=(g=a.payload)!=null?g:void 0;return c("LSOptimisticSendMessage")(m,j,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,g,void 0,d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").NONE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").NONE),void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,void 0,c("LSFactory")(f)).then(function(a){return b("Promise").resolve(a)})},"readwrite");c("promiseDone")(f)},quickReplyType:g});else return null}function a(a){var b=a.threadKey,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(e.table("messages")),{hd:b,tl:0})},[e,b],f.id+":157");if(a!=null)return h.jsx(j,{lastMessageId:a.messageId,quickReplyType:a.quickReplyType,threadKey:b});else return null}e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("MWV2ThreadNullstatePill.react",["CometPressable.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children;a=a.onClick;var d=c("useCurrentDisplayMode")()==="dark";return h.jsx(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:function(){return[d?i.dark_mode_legible_text_pill:i.pill]},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("useMWV2SendIcebreakerMessage",["I64","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2","LSShape","LSThreadAttributionTypeUtil.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWMDotMeReferrerContext.bs","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),i=d("MWMDotMeReferrerContext.bs").useMDotMeReferrer();return h(function(h,j){var k=d("LSThreadAttributionTypeUtil.bs").getSource(a.threadKey,b);h=h!=null?d("I64").equal(h.ctaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").GET_STARTED))&&h.ctaId===j.ctaId:!1;var l=h?i:void 0;c("promiseDone")(f.runInTransaction(function(b){var f;return c("LSOptimisticSendMessageV2")(g,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),j.title,void 0,d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(f=e)!=null?f:void 0,mark_read:!0,platform_ref:l,platform_token:j.platformToken,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),source:k}),c("LSFactory")(b))},"readwrite"));var m=d("I64").to_string(a.threadKey);if(h)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:m}}});else{var n=(h=j.ctaIdentifier)!=null?h:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:m},quick_reply:{id:n,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint.bs").icebreaker}}})},[f,g,d("I64").to_string(a.threadKey),b,i])}g["default"]=a}),98);
__d("MWV2PersistentIcebreakers.bs",["I64","LsBotComposerQuickReplyDisplayedFalcoEvent","MWPThreadTheme.bs","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useState,k={container:{position:"x1n2onr6",width:"xh8yej3",$$css:!0},list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},pillContainerVertical:{alignItems:"xuk3077",backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",paddingTop:"xm7lytj",$$css:!0}};function a(a,b,c){if(b.length!==0)return((c|0)-d("I64").to_int32(a.lastActivityTimestampMs)|0)>=216e5;else return!1}function b(a){var b=a.initiatingSource,e=a.lsSource;e=e===void 0?"unknown":e;var f=a.nullstateCtas,g=a.thread,l=c("useMWV2SendIcebreakerMessage")(g,e,b);a=d("MWPThreadTheme.bs").useHook();var m=f.map(function(a){return a.ctaIdentifier});e=j(!1);var n=e[0],o=e[1];b=c("useVisibilityObserver")({onVisible:i(function(){if(!n&&m.length>0){o(!0);var a=d("I64").to_string(g.threadKey);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:m,num_items:m.length,type:60},page:{id:a}}})}},[n,m,g.threadKey])});return h.jsx("div",{className:c("stylex")(k.container,d("MWPThreadTheme.bs").isGradient(a)?k.mask:!1),ref:b,children:h.jsx("ul",{className:"xuk3077 xcrg951 x78zum5 xdt5ytf xm7lytj",children:f.map(function(a){if(a.ctaType==="nullstate_icebreaker")return h.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:h.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return l(void 0,a)},children:a.title})},d("I64").to_string(a.ctaId));else return null})})})}b.displayName=b.name+" [from "+f.id+"]";g.shouldShowPersistentIcebreakers=a;g.MWV2PersistentIcebreakers=b}),98);
__d("MWV2ChatRTCButtonsJoinExistingChat.react",["fbt","CometPressable.react","I64","LSIntEnum","LSRtcCallState","MWChatRTCButtonIcons.bs","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.fill,e=a.ongoingCallState,f=a.overlayDisabled,g=a.size,j=a.startAudioCall;a=a.startVideoCall;if(d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return null;var k=d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?h._("__JHASH__Jezj_QnZwHq__JHASH__"):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"";return i.jsx(c("MWXTooltip.react"),{align:"middle",position:c("gkx")("571")?"below":"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,onPress:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?j:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?a:c("emptyFunction"),overlayDisabled:f,overlayRadius:"50%",testid:void 0,children:d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?d("MWChatRTCButtonIcons.bs").$$Audio.icon(b,g):d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?d("MWChatRTCButtonIcons.bs").Video.icon(b,g):null})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWPThreadTheme.bs","MWXTooltip.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={mask:{backgroundColor:"xcrg951",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function a(a){var b=a.head,e=a.text;a=a.xstyle;var f=d("MWPThreadTheme.bs").useHook(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return h.jsx("div",{className:c("stylex")(i.root,d("MWPThreadTheme.bs").isGradient(f)?i.mask:!1),"data-testid":void 0,children:h.jsx("div",{className:c("stylex")([i.singleSeenHeadRow,a]),children:h.jsx(c("MWXTooltip.react"),{align:g==="Inbox"?"middle":"end",forceInlineDisplay:!0,position:"above",tooltip:e,children:h.jsx(c("MWChatSingleSeenHead.react"),{altText:e,head:b})},b.id)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:d("I64").of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("LSContactLink.react",["CometPressable.react","CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","getLSContactHref","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={expanding:{display:"x78zum5",$$css:!0}};function a(a){var b=a.children,e=a.contact,f=a.isText;f=f===void 0?!0:f;var g=a.label;a=a.testid;a=c("getLSContactHref")(e);e=d("MWLSContactTypeExactUtils").isIgContact(e);e=!c("CurrentEnvironment").facebookdotcom||e?"_blank":void 0;return f?h.jsx(c("MWXLink.react"),{href:a,label:g,target:e,testid:void 0,children:b}):h.jsx(c("CometPressable.react"),{expanding:!0,label:g,linkProps:{target:e,url:a},overlayRadius:6,testid:void 0,xstyle:i.expanding,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a.eligiblePromotions);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var e=c("useQuickPromotionFalcoEvent")({context_surface_id:8783,context_trigger:"messenger_thread_open"});return a==null?null:i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(d("CometRelay").MatchContainer,{match:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j="CHAT_TAB_OPEN",k="MESSENGER_THREAD_OPEN";function l(a){switch(a){case"ChatTab":return j;default:return k}}function m(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=l(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e?d("I64").to_string(e):null,fb_group_id:f&&!d("I64").is_zero(f)?d("I64").to_string(f):null,thread_id:d("I64").to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:i.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){return i.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSUseLatch.bs",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;h(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return i(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("MWChatUnsendNUX.bs",["cr:1799381","cr:1799382","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.senderUnsendNUXEnabled;return h.jsxs(h.Fragment,{children:[b("cr:1799381")==null?null:h.jsx(b("cr:1799381"),{}),b("cr:1799382")!=null&&a?h.jsx(b("cr:1799382"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","TetraButton.react","fbicon","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),l={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=a.onDismiss,e=a.onView;a=h._("__JHASH__6a2Fgvho2wx__JHASH__");var f=h._("__JHASH__ZJi8hPzvWwM__JHASH__"),g={},m=c("useMWXLazyDialog")(k),n=m[0],o=function(){return n(g,function(){})};return j.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(c("MDSRowItem.react"),{xstyle:l.imageRow,children:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:f})})})]})]}),j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(c("MDSRowItem.react"),{xstyle:l.button,children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__LPDl6ep1oBy__JHASH__"),onPress:function(){o();return e()},type:"secondary"})}),j.jsx(c("MDSRowItem.react"),{xstyle:l.button,children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__IRN53cEfYnc__JHASH__"),onPress:b,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Date.now()-d("I64").to_float((a=a.unsentTimestampMs)!=null?a:d("I64").zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["I64","MWChatUnsendNUXReceiverBanner.bs","MWPActor.react","MWThreadKey.react","ReQL.bs","SortedAsyncIterable.bs","isMessageUnsentInLastTenSeconds","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("useReStore")(),f=l(!1),g=f[0],m=f[1],n=k(!1),o=k(!1),p=k();f=c("useMessengerUnsendNUX")(8568);var q=f[0],r=f[1],s=f[2],t=i(function(){var a=p.current;if(a!=null){a();p.current=void 0;return}},[]);f=i(function(){o.current=!0;r();t();return m(!1)},[]);var u=i(function(a){var b=!g&&!n.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){n.current=!0;return q(function(a){n.current=!1;if(a)return m(!0);else{t();o.current=!0;return}})}},[a,g]);j(function(){if(o.current)return;else{p.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("messages")),{hd:b,tl:0}),function(b){if(b.isUnsent)return!d("I64").equal(b.senderId,a);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return u(b._0);case 2:return}});return function(){t();if(g&&!o.current)return s()}}},[g,u,b,t]);if(g)return h.jsx(c("MWChatUnsendNUXReceiverBanner.bs"),{onDismiss:f,onView:f});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnsendNUXSender.bs",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL.bs","SortedAsyncIterable.bs","isMessageUnsentInLastTenSeconds","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("useReStore")(),f=j(!1),g=j(!1),k=j(!1),l=j(),m=c("useMessengerUnsendNUX")(8598),n=m[0],o=m[1],p=h(function(){var a=l.current;if(a!=null){a();l.current=void 0;return}},[]),q=h(function(){if(!k.current){k.current=!0;p();return o()}},[]);m=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var r=m[0],s=h(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return n(function(a){f.current=!1,a?(r({onView:q},function(){}),g.current=!0):(p(),k.current=!0)})}},[a,p]);i(function(){l.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("messages")),{hd:b,tl:0}),function(b){if(b.isUnsent)return d("I64").equal(b.senderId,a);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return s(b._0);case 2:return}});return p},[b,s,p]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreProcessingErrorDialog.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:h._("__JHASH__rp1B2ks3qwV__JHASH__"),title:h._("__JHASH__Tgh_5naYWqz__JHASH__")};g.invalidFileFormat=a}),98);
__d("MWChatFileUploadErrorDialog.react",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={body:c("gkx")("1147754")?h._("__JHASH__tncNGvtAhMp__JHASH__"):h._("__JHASH__BNDx1mX2nlz__JHASH__"),title:h._("__JHASH__GVmFuh2jycz__JHASH__")};g.maxFileSizeExceeded=a}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("useMWV2StartGroupCall",["Actor","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","Promise","RTCCallState.bs","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,e,f,g){var l=a.ongoingCallState,m=a.threadKey,n=a.threadType,o=c("useReStore")(),p=c("useRTWebCometStartCallCallback")();a=d("Actor").useActor();var q=a[0];a=c("useCometLazyDialog")(c("JSResourceForInteraction")("RestrictedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"));var r=a[0],s=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;e();a=(a=d("LSMessagingThreadTypeUtil").isGroup(n))!=null?a:!1;var h=d("ReQL").firstAsync(d("ReQL").fromTableAscending(o.table("mi_act_mapping_table")).getKeyRange(m).map(function(a){return a.jid})),s=d("ReQL").toArrayAsync(i(o,m)),t=d("ReQL").firstAsync(j(o,m,q)),u=d("ReQL").firstAsync(k(o,m));h=(yield b("Promise").all([h,t,u,s]));t=h[0];u=h[1];s=h[2];h=h[3];a=a&&h.length>0&&c("gkx")("735");var v={existingCall:s!=null?{call_state:d("RTCCallState.bs").ofLsRtcCallState(l,n),initiator_fbid:null,server_info_data:s}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(n),mediaType:f,thread:{e2eeThreadID:t!=null?d("I64").to_string(t):void 0,id:d("I64").to_string(m),secureOneToOneThreadPeerId:u!=null&&d("I64").equal(n,d("LSIntEnum").ofNumber(15))?d("I64").to_string(u):void 0,type:d("I64").to_int32(n)},trigger:g};return a?r({onContinue:function(){return p(v)},restrictedUsers:h}):p(v)}),[f,q,o,e,r,p,l,m,n,g]);return h(function(){return c("promiseDone")(s())},[s])}var i=function(a,b){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).take(20),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a})},j=function(a,b,c){return d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).filter(function(a){return!d("I64").equal(a.contactId,d("I64").of_string(c))}).map(function(a){return a.contactId})},k=function(a,b){return d("ReQL").fromTableAscending(a.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})};g["default"]=a}),98);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset","MAWGating","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.react","MWStartRTCCallUtils","MWV2ChatRTCButtonsJoinExistingChat.react","MWXTooltip.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","MessengerWebUXLogger","ODS","Promise","ReQL","ReQLSuspense","emptyFunction","gkx","promiseDone","react","useMWChatHasActiveContact","useMWV2StartGroupCall","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useRef;function l(a,e,f){var g=k(c("uuidv4")()).current;return j(function(h){var i=d("I64").to_string(a),j=e==="video"?1:0;i="/call?threadid="+i+"&isvideocall="+j+"&funnel_id="+g;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");d("MWStartRTCCallUtils").logCallAttemptViaLocalhost({funnelSessionId:g});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(i,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function m(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){return!d("I64").equal(a.contactId,e)}).take(1)},[e,b,a],f.id+":125");return d("useMWChatHasActiveContact").useMWChatHasActiveContact(g.map(function(a){return a.contactId}))}function n(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).take(2).filter(function(a){return!d("I64").equal(a.contactId,e)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.contactId),f.id+":159")})},[b,a,e],f.id+":149"),h;if(g.length!==1)h=!1;else{var i=g[0];h=i!=null?d("I64").equal(i.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1}if(!h)return[!0,!0];return c("gkx")("1710932")?[g.every(function(a){return a==null?!0:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(17),a)}),g.every(function(a){return a==null?!0:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(16),a)})]:[!1,!1]}function o(a){var b=a.folderName,e=a.threadKey,g=a.threadType,h=c("useReStore")(),i=d("MWPActor.react").useActor(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(h.table("messages_ranges_v2__generated")).getKeyRange(e)},[h,e],f.id+":226")!=null,k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("participants")).getKeyRange(e,i)},[h,e,i],f.id+":234")!=null,l=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(25),a);a=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(24),a);var m=d("LSMessagingThreadTypeUtil").isSecure(g),o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!m||d("MAWGating").isFeatureLimitEnabled()),p=n(e),q=p[0];p=p[1];k=(d("I64").equal(g,d("LSIntEnum").ofNumber(2))||d("I64").equal(g,d("LSIntEnum").ofNumber(16)))&&k||d("I64").equal(g,d("LSIntEnum").ofNumber(1))||d("I64").equal(g,d("LSIntEnum").ofNumber(15))?[l,a]:[!1,!1];g=d("MWChatIsMessageRequest.bs").fn(b);l=!g&&j&&!o&&(!m||c("gkx")("5709"));return l?[q&&k[0],p&&k[1]]:[!1,!1]}function p(a){var b=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled;a=a.testid;return i.jsx(c("MWXTooltip.react"),{align:"middle",position:c("gkx")("571")?"below":"above",tooltip:d,children:i.jsx(c("CometPressable.react"),{"aria-label":d,onPress:e,overlayDisabled:f,overlayRadius:"50%",testid:void 0,children:b})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.fill,e=a.overlayDisabled,f=a.size,g=a.startAudioCall,j=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();a=function(a){g(a),j==null?void 0:j({eventName:"start_audio_call"})};return i.jsx(p,{icon:d("MWChatRTCButtonIcons.bs").$$Audio.icon(b,f),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:a,overlayDisabled:e,testid:void 0})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.fill,e=a.isActive,f=a.overlayDisabled,g=a.size,j=a.startVideoCall,k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(p,{icon:d("MWChatRTCButtonIcons.bs").Video.icon(b,g,e),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){k==null?void 0:k({eventName:"start_video_chat"}),j(a)},overlayDisabled:f,testid:void 0})}r.displayName=r.name+" [from "+f.id+"]";function s(a){return a}function a(a){var b=a.audioCallingSurface,e=a.fill,f=a.logAudio;f=f===void 0?c("emptyFunction"):f;var g=a.logVideo;g=g===void 0?c("emptyFunction"):g;var h=a.overlayDisabled;h=h===void 0?!1:h;var j=a.renderContainer;j=j===void 0?s:j;var k=a.size;k=k===void 0?"26px":k;var n=a.thread;a=a.videoCallingSurface;var p=n.ongoingCallState,t=n.threadKey,u=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),v=m(t),w=o(n),x=w[0];w=w[1];g=c("useMWV2StartGroupCall")(n,g,"video",a);a=c("useMWV2StartGroupCall")(n,f,"audio",b);n=l(t,"video",g);f=l(t,"audio",a);b=u?n:g;t=u?f:a;if(!(x||w))return null;return!d("I64").equal(p,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL))?j(i.jsx(c("MWV2ChatRTCButtonsJoinExistingChat.react"),{fill:e,ongoingCallState:p,overlayDisabled:h,size:k,startAudioCall:t,startVideoCall:b})):i.jsxs(i.Fragment,{children:[x?j(i.jsx(q,{fill:e,overlayDisabled:h,size:k,startAudioCall:t})):null,w?j(i.jsx(r,{fill:e,isActive:v,overlayDisabled:h,size:k,startVideoCall:b})):null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ChatRTCButtonsAudio=q;g.MWV2ChatRTCButtons=a}),98);
__d("MWV2ChatTabHeaderRTCButtons.react",["MWV2ChatRTCButtons.bs","ODS","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeaderRTCButtons.react");function a(a){var b=a.color;a=a.thread;var c=i(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return a.logClick({component:"audio_button",surface:"chat_tab"})})},[]),e=i(function(){d("ODS").bumpEntityKey(3185,"mwchat_header","video"),j.onReady(function(a){return a.logClick({component:"video_button",surface:"chat_tab"})})},[]);return h.jsx(d("MWV2ChatRTCButtons.bs").MWV2ChatRTCButtons,{audioCallingSurface:"comet_chattab_audio_button",fill:b,logAudio:c,logVideo:e,thread:a,videoCallingSurface:"comet_chattab_video_button"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","CometPressable.react","MWXTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color;a=a.onPress;var d=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:b,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.color,d=a.size;d=d===void 0?"10px":d;a=a.xstyle;return h.jsx("svg",{"aria-hidden":"true",className:c("stylex")(a),height:d,viewBox:"0 0 18 10",width:d,children:h.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:b,fillRule:"evenodd"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["JSResourceForInteraction","MWXLazyPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.children,f=a.pushPage,g=a.tab;a=a.thread;var i=a.threadKey,j=a.threadType,k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLogger();return h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:h.jsx(c("MWXLazyPopoverTrigger.react"),{onVisibilityChange:function(a){b("cr:2580")&&a&&(b("cr:2580")({threadKey:i,threadType:j},"open_thread_settings_menu","popup_chat_box"),k==null?void 0:k({eventName:"thread_settings_menu_impression",threadKey:i,threadType:j}))},popoverProps:{onClose:c("emptyFunction"),pushPage:f,tab:g,thread:a},popoverResource:c("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsPopoverTrigger.react"),position:"start",preloadTrigger:"button",children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2HeaderSettingsPopover",["fbt","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MessengerWebUXLogger","ODS","useMWCMIssueCommunityMemberListFetch"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=c("useMWCMIssueCommunityMemberListFetch")(a),e=a.threadKey,f=a.threadType,g=d("MWCMThreadTypes.react").isJoinedCMThread(f);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var i=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return{showDialog:function(a){a(),g&&b(),i==null?void 0:i({eventName:"open_thread_settings_menu",threadKey:e,threadType:f}),d("ODS").bumpEntityKey(3185,"mwchat_header","settings")},tooltip:a?h._("__JHASH__J1KJGjGSRI0__JHASH__"):h._("__JHASH__FjEOIpwxx5G__JHASH__")}}g["default"]=a}),98);
__d("MWV2HeaderSettingsButton.react",["CometPressable.react","MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXTooltip.react","react","useMWV2HeaderSettingsPopover"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{marginStart:"x1i64zmx",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function a(a){var b=a.children,d=a.iconColor,e=a.pushPage,f=a.tab;a=a.thread;var g=c("useMWV2HeaderSettingsPopover")(a),j=g.showDialog,k=g.tooltip;return h.jsx(c("MWV2HeaderSettingsPopoverTrigger.react"),{pushPage:e,tab:f,thread:a,children:function(a,e,f,g,l,m,n){return h.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:h.jsx(c("CometPressable.react"),{"aria-label":k,onHoverIn:g,onHoverOut:l,onPress:function(){return j(e)},onPressIn:m,overlayRadius:5,ref:a,testid:void 0,xstyle:i.settingsButton,children:h.jsx(c("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:h.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:i.rowItem,children:[b,h.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{color:d,xstyle:i.icon})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ChatTabHeaderColors",["I64","LSMessagingThreadTypeUtil","MWPThreadTheme.bs","MWV2IsTabFocusedContext.bs","gkx","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs;a=a.threadType;var f=c("useCurrentDisplayMode")(),g=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),h=d("MWPThreadTheme.bs").useTop();b=d("I64").gt(b,e);e=b&&!g;b=d("MWPThreadTheme.bs").useThreadThemeHeaderColors();if(c("gkx")("1969")&&!e){var i;return[(i=b.buttonColor)!=null?i:h,void 0,b.backgroundColor,b.textColor]}i=d("LSMessagingThreadTypeUtil").isSecure(a)&&f==="dark"&&g;b=e||i?"var(--always-white)":g?h:"var(--disabled-icon)";a=e?h:void 0;f=e||i?"white":void 0;return[b,f,a,void 0]}g["default"]=a}),98);
__d("MWV2ChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","MAWThreadCutover.bs","MWChatStateActions","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.react","MWV2ChatTabHeaderRTCButtons.react","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWV2HeaderSettingsButton.react","MWXTooltipGroup.react","cr:6643","react","useMWV2ChatTabHeaderColors","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.pushPage,f=a.renderThreadDetails,g=a.tab;a=a.thread;var i=d("MWChatStateV2.bs").useDispatch(),j=c("useMWV2CloseTab")(a==null?void 0:a.threadKey,g),k=c("useMWV2ChatTabHeaderColors")(a),l=k[0],m=k[1],n=k[2];k=k[3];var o=d("MAWThreadCutover.bs").useIsCutoverOpenThread(a.threadKey);o||d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a.threadSubtype)?o=h.jsx(c("MWInboxHeaderDetailsContainer.react"),{color:m,hexColor:k,isContainerPressable:!1,photoSize:32,thread:a,threadNameSize:"headlineEmphasized4"}):o=f!=null?f(l):h.jsx(c("MWV2HeaderSettingsButton.react"),{iconColor:l,pushPage:e,tab:g,thread:a,children:h.jsx(c("MWInboxHeaderDetailsContainer.react"),{color:m,hexColor:k,isContainerPressable:!1,photoSize:32,thread:a,threadNameSize:"headlineEmphasized4"})});return h.jsx(c("MWV2HeaderContainer.react"),{backgroundColor:n,endContent:h.jsx(c("MWXTooltipGroup.react"),{children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[h.jsx(c("MWV2ChatTabHeaderRTCButtons.react"),{color:l,thread:a}),h.jsx(c("MWV2HeaderMinimizeButton.react"),{color:l,onPress:function(){return i(d("MWChatStateActions").minimizeTab(Date.now(),g.tabId))}}),b("cr:6643")!=null?h.jsx(b("cr:6643"),{color:l,thread:a}):null,h.jsx(c("MWV2HeaderCloseButton.react"),{color:l,onPress:j,testid:void 0})]})}),startContent:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWInThreadBannerNuxesWrapper.react","cr:4958","cr:6744","cr:6816","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react").Fragment;var i=(d=(d=b("cr:6816"))!=null?d:b("cr:6744"))!=null?d:e;function a(a){return h.jsxs(h.Fragment,{children:[h.jsx(i,{children:h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))}),b("cr:4958")&&h.jsx(b("cr:4958"),{thread:a.thread})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.react","ReQL.bs","ReQLSubscription.bs","cr:2510","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.thread;a=b("cr:2510")==null?function(){}:b("cr:2510")(e.threadKey);var f=d("LSMessagingThreadTypeUtil").isGroup(e.threadType),g=c("useReStore")(),i=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e.threadKey,tl:0}),2)},[g,e.threadKey]),"u7hc6a8x"),j=d("MWPActor.react").useActor(),k=d("Int64Hooks").useMemoInt64(function(){if(d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType))return i.find(function(a){return!d("I64").equal(a.id,j)})},[j,i,e.threadType]);k=k!=null?k.name:void 0;return h.jsx(c("MAWInThreadBannerNuxReqCondWrapper.react"),{getThreadJid:a,isGroup:f,otherUserFullName:k,thread:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTabInThreadBanner.react",["CometErrorBoundary.react","CometPlaceholder.react","LSMessagingThreadTypeUtil","MWLSInThreadBannerComponent.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;if(d("LSMessagingThreadTypeUtil").isSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("MWLSInThreadBannerComponent.bs"),{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1500","cr:1501"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:1500"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x14yxtea",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.bs","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","react","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=(f=b("cr:268"))!=null?f:c("emptyFunction");function k(a,b){var e=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),f=c("useMWInboxPassiveContext")(),g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),i=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0,j;if(b!==void 0){e=d("I64").gt(b.timestampMs,a.lastActivityTimestampMs)?b.timestampMs:a.lastActivityTimestampMs;j=d("I64").gt(e,a.lastReadWatermarkTimestampMs)}else j=!1;return h(function(){return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&i&&j},[i,j])}function l(a,b,c){var d=k(a,b);return h(function(){if(d())return c()},[d,c])}function m(a,c,d){i(function(){var e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!c())return d()});return function(){return e.apply(this,arguments)}}();window.addEventListener("focus",e);document.hasFocus()&&void e();return function(){return window.removeEventListener("focus",e)}},[d,a,c])}function a(a,b,c,d,e){b=l(a,b,c);j(a);m(d,e,b);return b}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSDbKeyComparer","LSFactory","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2","MAWFetchMoreMessagesWhenEnabled","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","MWScrollUtils","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","ServerTime","cr:5053","emptyFunction","gkx","nullthrows","promiseDone","react","requestAnimationFrame","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore","useShallowEqualState","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,aa=e.useImperativeHandle,k=e.useRef,ba=e.useState,ca=(e=b("cr:5053"))!=null?e:c("emptyFunction"),l={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},da=d("I64").of_string("9999999999999");function m(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function ea(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function fa(a,b,d,e){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,d,e,c("LSFactory")(a))},"readwrite","ui"))}function ga(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function n(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.tl}:{gte:a.gte.tl}}function f(a){return a.lt!=null?{lt:a.lt.tl}:{lte:a.lte.tl}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.gt=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)g.gte=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)h.tl!==0&&(g.lte=h.tl);else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.lt=h.tl;else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return d("PromiseOrValue").map(j.next(a==null?void 0:a.tl),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d={hd:b,tl:a.value[0]},c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g={hd:b,tl:a},c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function o(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)}):d("ReQL").empty()},[b,a],f.id+":355")}function ha(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)}):d("ReQL").empty()},[b,a],f.id+":373")}function a(a,b){var e,g=a.entryPoint,p=a.onInitialLoadingCompleted,q=a.logScrollerMetadata,ia=a.onUserScroll,ja=a.renderFooter,r=a.renderHeader,s=a.renderHeaderContentSpacer,t=a.renderJumpToMostRecentMessageButton,u=a.renderLoadingAnimation,ka=a.renderRow,v=a.secondaryThread,w=a.thread,x=a.checkIsThreadManuallySetAsUnread,y=x===void 0?function(){return!1}:x;x=a.pageSize;var z=a.onScrollToBottom,la=a.isSufficientContentLoadedAbove;a=a.triggerRenderingCompleteOnResize;var ma=a===void 0?!1:a;function A(a,b,e,f){c("promiseDone")(a.runInTransaction(async function(a){var g=await a.table("messages_ranges_v2__generated").get(b);if(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))return;var h=e==null?null:await a.table("messages_ranges_v2__generated").get(e);if(e!=null&&(h==null||(f==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(f==="before")if(h==null||g.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil").isSecure(C);if(i){if(I!=null)return I(a,g.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(na));if(i){if(I!=null)return I(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),c("LSFactory")(a))}else if(h==null||g.hasMoreAfter){i=d("LSMessagingThreadTypeUtil").isSecure(C);if(i)if(c("gkx")("6884")){if(I!=null)return I(a,g.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}else{i=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(na));if(i)if(c("gkx")("6884")){if(I!=null)return I(a,h.threadKey,"after")}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),c("LSFactory")(a))}},"readwrite","ui"))}var B=w.threadKey,C=w.threadType;a=v||{};var D=a.threadKey,na=a.threadType,E=c("useReStore")(),F=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(E.table("messages_ranges_v2__generated")).getKeyRange(B)},[E,B],f.id+":571"),G=d("ReQLSuspense").useFirst(function(){return D==null?d("ReQL").empty():d("ReQL").fromTableDescending(E.table("messages_ranges_v2__generated")).getKeyRange(D)},[E,D],f.id+":578"),H=c("useUnsafeRef_DEPRECATED")(new Map()),I=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages();a=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var oa=a.setVisibleMessage,J=a.visibleMessage;a=(a=J)!=null?a:{};var K=a.messageId,L=a.timestamp,M=d("ReQLSuspense").useFirst(function(){return K!=null&&L!=null?d("ReQL").fromTableAscending(E.table("messages")).getKeyRange(B,L,K):d("ReQL").empty()},[E,B,K,L],f.id+":601"),N=ea(d("ReQLSuspense").useFirst(function(){return L!=null?d("ReQL").fromTableDescending(E.table("messages_ranges_v2__generated")).getKeyRange(B).bounds({lte:{hd:L,tl:0}}):d("ReQL").empty()},[E,L,B],f.id+":613"),L);a=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:F,secondaryDisplayMessagesRange:G});var O=a[0],P=a[1];a=O.displayMessage;var Q=O.displayMessagesRange;O=O.secondaryDisplayMessagesRange;d("Int64Hooks").useEffectInt64(function(){K==null||L==null?P(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:F})}):N==null?fa(E,B,K,C):N.minMessageId===K&&N.hasMoreBefore?A(E,d("ReQL").key(N.threadKey,N.minTimestampMs,N.minMessageId),null,"before"):N.maxMessageId===K&&N.hasMoreAfter?A(E,d("ReQL").key(N.threadKey,N.minTimestampMs,N.minMessageId),null,"after"):M!=null&&P(function(a){return babelHelpers.extends({},a,{displayMessage:M,displayMessagesRange:N})})},[E,M,K,N,F,B,C,L]);j(function(){G!=null&&P(function(a){return babelHelpers.extends({},a,{secondaryDisplayMessagesRange:G})})},[G,O]);j(function(){var a;a=(a=H.current.get(J==null?void 0:J.messageId))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[J]);var R=o(Q),S=ha(Q),pa=o(O),qa=ca({entryPoint:g,threadKey:B,threadType:C});g=ba(!0);var ra=g[0],sa=g[1],T=k(!1);g=i(function(){if(!ma)return;if(p==null||T.current)return;p(!1);T.current=!0},[p,ma]);var U=k(null);e=(e=U.current)!=null?e:{};var V=e.doesContentFillScroll,W=e.onCloseToBottom;j(function(){var a;if(p==null||T.current)return;if(Q!=null&&!Q.hasMoreBefore){p(!0);T.current=!0;return}q&&q((a=(a=U.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,Q===F);if(V==null)return;if(V()){p(!1);T.current=!0;return}},[p,Q,q,F,V]);j(function(){var a;a=(a=U.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(0,function(a){return sa(a)})},[]);j(function(){var a;a=(a=U.current)==null?void 0:a.onCloseToBottom;if(a!=null&&z!=null)return a(36,function(a){return z(a)})},[z]);var ta=Q!=null?!Q.hasMoreAfter:!1;e=i(function(){return new Promise(function(a){var b=U.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&ta)})})},[ta,U]);var X=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(w,S,d("Int64Hooks").useCallbackInt64(function(){qa==null?void 0:qa(),c("promiseDone")(E.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(B,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite","ui"))},[B]),e,y);j(function(){if(W!=null)return W(0,function(a){a&&!y()&&X()})},[W,X,y]);e=d("Int64Hooks").useMemoInt64(function(){var a=E.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType),c=E.table("messages").index("messageSubthreadKey");function e(a,b){var c=a.getKeyRange(w.threadKey).filter(function(a){a=a.isCollapsed;return!a});return v==null?b!=null?d("ReQL").union(n(b.getKeyRange(B),0),n(c,1)):n(c,1):d("ReQL").union(n(a.getKeyRange(v.threadKey).filter(function(a){a=a.isCollapsed;return!a}),0),n(c,1))}var f=e(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(c):void 0);e=e(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(c):void 0);return d("ReQLPaginatedList.shared").fromIterables(f,e)},[E,v==null?void 0:v.threadKey,w.threadKey,w.threadType]);var Y=Q!=null&&d("I64").equal(Q.maxTimestampMs,da),Z=Q!=null&&d("I64").equal(Q.minTimestampMs,d("I64").zero),ua=O!=null&&d("I64").equal(O.minTimestampMs,d("I64").zero);function va(){Q===F&&(U.current!=null&&U.current.scrollToBottom()),oa(function(){return void 0})}aa(b,function(){return{getScrollAreaElement:function(){var a;return(a=U.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){va()})}});b=i(function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:ka({domElementRef:ga(H.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.offlineThreadingId)},[H,ka]);if(Q==null||v!=null&&O==null||R==null&&!Z||S==null&&!Y){if(d("I64").equal(w.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),r!=null?r():null]});var $=Q==null?"displayMessagesRangeNull":v!=null&&O==null?"secondaryThreadRangeNull":R==null&&!Z?"noMinMessage":S==null&&!Y?"noMaaxMessage":"other";return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+$,hold:!0}),u!=null?u():null]})}var wa=d("ReQL").key(Q.threadKey,Q.minTimestampMs,Q.minMessageId),xa=O==null?null:d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId);$=a==null?"bottom":{hd:1,tl:m(a)};a=R==null||Z?pa==null||ua?null:{hd:0,tl:m(pa)}:{hd:1,tl:m(R)};Z=S==null||Y?null:{hd:1,tl:m(S)};return h.jsxs(c("Box.react"),{xstyle:l.list,children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatLoadingMoreMessages",hold:Q.isLoadingBefore||Boolean(O==null?void 0:O.isLoadingBefore)}),h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:a,lte:Z},data:e,hasReachedBottom:!Q.hasMoreAfter,hasReachedTop:O==null?!Q.hasMoreBefore:!(Q.hasMoreBefore||O.hasMoreBefore),imperativeRef:U,initialAnchor:$,initialRenderComplete:g,isSufficientContentLoadedAbove:la,onReachingBottom:function(){A(E,wa,xa,"after"),X()},onReachingTop:function(){return A(E,wa,xa,"before")},onUserScroll:ia,pageSize:x,renderFooter:ja,renderHeader:r,renderHeaderContentSpacer:s!=null?s:function(){return h.jsx(c("Box.react"),{xstyle:l.spacer})},renderItem:b,renderLoadingAnimation:u,xstyle:l.list})}),t&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!ra||Q.hasMoreAfter,children:t(va)})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g.default=b}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function j(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,c=a.children,e=a.modal,f=a.setModal,g=a.wrapX;g=g===void 0?!1:g;a=a.wrapY;a=a===void 0?!1:a;var k=i(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(j):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]);return h.jsx(d("MWV2MessageListIsRowModalContext.bs").MWV2MessageListIsRowModalContextProvider,{value:f,children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.bs").scopeQuery,stopOnFocusWithinPropagation:!1,children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[0],{allowModifiers:!0,disabled:e!=="",onNavigate:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:a,children:h.jsx("div",{"aria-label":b,className:"x63ui4o x18i3tt1 x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:c})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useMemo;function a(a){var b=d("MWPActor.react").useActor(),e=c("useReStore")(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"))).take(8)},[e,a.threadKey],f.id+":29");return i(function(){var c=a.threadName;if(c!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",c)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a])}g["default"]=a}),98);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometIcon.react","CometLink.react","CometRow.react","CometRowItem.react","CometTextWithIcon.react","TetraText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(){var a;a=(a=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:a.toString();return j.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:j.jsx(c("CometRowItem.react"),{children:j.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:k.banner,children:[j.jsx(c("CometColumnItem.react"),{expanding:!0,children:j.jsx(c("TetraText.react"),{align:"center",type:"bodyLink4",children:j.jsx(c("CometTextWithIcon.react"),{iconBefore:j.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._("__JHASH__Kow3rs5K3HC__JHASH__")})})}),j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("TetraText.react"),{align:"center",color:"secondary",type:"body4",children:h._("__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",j.jsx(c("TetraText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",j.jsx(c("CometLink.react"),{href:a,target:"_blank",children:h._("__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometContextualMessage.react","CometImageFromIXValue.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","fbs","promiseDone","react","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;function a(){var a=c("useMAWGetUserVisibleErrors")(),b=a[0],e=a[1];a=k(!1);var f=a[0],g=a[1];a=j(function(){c("promiseDone")(e(),function(){window.location.reload(!0)})},[e]);var l=j(function(){c("promiseDone")(e(),function(){g(!0)})},[g,e]),m=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(b==null?void 0:b.errorBodyText),n=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(b==null?void 0:b.errorTitleText);return b&&m!=null&&n!=null&&c("CometContextualMessage.react")&&!f?i.jsx("div",{className:"xjf5wm9 xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x17qophe x13vifvy xh8yej3",children:i.jsx(c("CometContextualMessage.react"),{addOnPrimary:i.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:c("fbs")._("__JHASH__PnVpnKg9Gg___JHASH__"),onPress:a,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),body:m,headline:i.jsx(i.Fragment,{children:n}),headlineAriaLabel:n,icon:i.jsx(c("CometImageFromIXValue.react"),{alt:n,source:h("1351648")}),level:4,onClose:l})}):void 0}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("MWV2ContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.kind;a=a.text;if(d("I64").equal(b,d("I64").zero)||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT)))return h.jsx("div",{className:"xsag5q8",children:h.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return h.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ContextBanner.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.bs","MAWGating","MAWThreadCutover.bs","MWContextBannerEndToEndEncryptedBanner.react","MWLSFeatureLimitedStatus.bs","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWV2ContextBannerNullstateDescription.react","MWXText.react","cr:5777","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;var e=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(47),a),f=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),g=d("MAWThreadCutover.bs").useIsCutoverSecureThread(a.threadKey),i=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType);if(e)return null;e=a.nullstateDescriptionText1;var j=a.nullstateDescriptionText2,k=a.nullstateDescriptionText3,l=a.nullstateDescriptionType1,m=a.nullstateDescriptionType2,n=a.nullstateDescriptionType3,o=d("I64").equal(a.parentThreadKey,d("LSIntEnum").ofNumber(-18)),p=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);f=f&&(!p||d("MAWGating").isFeatureLimitEnabled());var q=h.jsx("span",{className:"xxymvpz",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(c("LSVerificationBadge.bs"),{size:"large",thread:a})})}),r=h.jsx(c("LSThreadTitle.react"),{thread:a,wrapOutput:function(a,b){return b}});return h.jsxs("div",{className:"xsag5q8 x1ye3gou xn6708d x1cnzs8","data-testid":void 0,children:[h.jsx("div",{className:"x78zum5 xl56j7k xod5an3",children:h.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,thread:a})}),h.jsx("div",{className:"xod5an3",children:h.jsxs(c("MWXText.react"),{align:"center",numberOfLines:1,type:"headlineEmphasized3",children:[r,!i&&!c("gkx")("8726")&&q]})}),e!=null&&l!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:l,text:e}):null,j!=null&&m!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:m,text:j}):null,k!=null&&n!=null?h.jsx(c("MWV2ContextBannerNullstateDescription.react"),{kind:n,text:k}):null,b("cr:5777")!=null&&!f&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("I64").gt(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&!o?h.jsx(b("cr:5777"),{thread:a}):null,p&&!g?h.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,p&&c("MWPWebWorkerDisconnectedBanner.react")?h.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstateCTAs.react",["I64","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState,k={cta_list:{alignItems:"xuk3077",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=a.initiatingSource,e=a.lsSource,f=a.nullstate,g=a.nullstateCtas,l=a.thread,m=c("useMWV2SendIcebreakerMessage")(l,e,b),n=g.map(function(a){return a.ctaIdentifier}).filter(Boolean);a=j(!1);var o=a[0],p=a[1];e=c("useVisibilityObserver")({onVisible:i(function(){if(!o&&n.length>0){p(!0);var a=d("I64").to_string(l.threadKey);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:n,num_items:String(n.length),type:60},page:{id:a}}})}},[o,n,l.threadKey])});return h.jsx("ul",{className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",ref:e,children:g.map(function(a){var b=d("I64").equal(f.ctaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").GET_STARTED))&&f.ctaId!=null&&d("I64").equal(f.ctaId,a.ctaId);return h.jsx("li",{className:c("stylex")(k.cta_list_item,b?k.cta_list_item_center:!1),children:h.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return m(f,a)},children:a.title})},d("I64").to_string(a.ctaId))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["fbt","CometLink.react","CometScrollableArea.react","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","LSThreadTitle.react","MWPreloadedText","MWV2ThreadNullstateCTAs.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","qex","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k={privacy_text:{paddingBottom:"xx6bls6",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},privacy_text_offset:{paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0},welcome_text:{paddingBottom:"x1hhzuzn",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var b,e=a.initiatingSource,f=a.lsSource;f=f===void 0?"unknown":f;var g=a.nullstate,l=a.nullstateCtas,m=a.thread;a=j(c("MWPreloadedText"));b=(b=c("qex")._("357"))!=null?b:!1;b=b?h._("__JHASH__DEznlgE40i___JHASH__"):h._("__JHASH__SnAPOCvmUOd__JHASH__");var n=h._("__JHASH__TiVBDUafVwm__JHASH__",[h._param("name",i.jsx(c("LSThreadTitle.react"),{thread:m,wrapOutput:function(a,b){return b}})),h._param("= public info link",i.jsx(c("CometLink.react"),{color:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:i.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__Gh1QF47PUp7__JHASH__")})}))]),o=g.privacyText,p=g.welcomeText,q=g.privacyTextNonWelcomeScreen,r=a.text!=null&&!!q;r=r||o!=null?i.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:r?q:o}):null;q=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2ThreadNullstate.react"));var s=q[0];q=g.privacyTextCtaTitle;q=i.jsx(c("CometLink.react"),{color:"primary",onClick:function(){s({entryPoint:"NULL_STATE",threadKey:m.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:d("I64").to_string(m.threadKey)}})},role:"link",target:"_blank",children:q!=null?i.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:q}):null});p=i.jsxs("div",{children:[p!=null&&a.text==null?l.length!==0?p!==b.toString()?i.jsxs("div",{children:[i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:p})}),i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})})]}):i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}):p!==b.toString()?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:p})}):null:l.length!==0&&a.text!=null?i.jsx("div",{className:"x1hhzuzn xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:b})}):null,a.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:e,lsSource:f,nullstate:g,nullstateCtas:l,thread:m}),o!=null?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c("gkx")("2386")&&d("I64").equal(g.privacyTextCtaType,d("LSIntEnum").ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?i.jsxs(i.Fragment,{children:[r," ",q]}):n})}):null]});return i.jsx(c("CometScrollableArea.react"),{xstyle:k.privacy_text_offset,children:p})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSFactory","LSFetchAdditionalThreadData","LSIntEnum","LSMessagingThreadTypeUtil","LSReportThreadViewOpen","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWChatUnsendNUX.bs","MWLSThreadDisplayContext","MWMessageList","MWPMessageListColumn.react","MWPQuickReplies.bs","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ContextBanner.react","MWV2PersistentIcebreakers.bs","MWV2ThreadNullstate.react","ReQLSuspense","ServerTime","cr:1598","cr:1690","cr:4723","cr:488","cr:5483","cr:6443","gkx","justknobx","logMessengerWebFalcoEvent","promiseDone","qex","react","useCommunityFolder","useLSMessagingInitiatingSource","usePageletMetadata","useReStore","useThreadLastMessageTimeMs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useRef,k=e.useState,l=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function m(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").threadNullStateQuery(b,a.threadKey)},[b,a.threadKey],f.id+":101"),g=d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(b,a.threadKey)},[b,a.threadKey],f.id+":108");return[e,g]}function n(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCMChannelListQuery(b,a.threadKey)},[b,a.threadKey],f.id+":118")}function o(a,b){var e=c("useThreadLastMessageTimeMs")(a.threadKey),f=j(!1);d("Int64Hooks").useEffectInt64(function(){if(f.current)return;if(e==null)return;var c=d("I64").compare(e,a.lastActivityTimestampMs)>-1;l({threadKey:a.threadKey,threadType:a.threadType},"thread_and_message_list_last_activity_mismatch",b,{hasMissingMessage:!c,threadLastActivityTimeMs:d("I64").to_string(a.lastActivityTimestampMs),threadLastMessageTimeMs:d("I64").to_string(e)});f.current=!0},[b,a.lastActivityTimestampMs,a.threadKey,a.threadType,e])}function a(a){var e=a.entryPoint,f=a.messageListRef,g=a.thread;a=k(function(){return d("ServerTime").getMillis()});var j=a[0];a[1];a=m(g);var l=a[0],p=a[1];a=n(g);c("usePageletMetadata")("threadType",d("I64").to_string(g.threadType));var q=c("useLSMessagingInitiatingSource")(),r=b("cr:6443")!=null?h.jsx(b("cr:6443"),{thread:g}):null,s=d("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(g,p,j),t=c("useReStore")(),u=c("MWCMIsAnyCMThread")(g.threadType);j=d("MWCMThreadTypes.react").isJoinedCMThread(g.threadType);var v=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(167),g)&&j;d("Int64Hooks").useEffectInt64(function(){(u||c("justknobx")._("1225")&&(d("LSMessagingThreadTypeUtil").isSocialChannelV2(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)))&&(u&&d("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:d("I64").to_string(g.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:d("I64").to_string(g.threadKey)}),c("qex")._("1000"),c("promiseDone")(t.runInTransaction(function(a){return c("LSReportThreadViewOpen")(g.threadKey,c("LSFactory")(a))},"readwrite"))),v&&c("promiseDone")(t.runInTransaction(function(a){return c("LSFetchAdditionalThreadData")(g.threadKey,c("LSFactory")(a))},"readwrite"))},[t,g.parentThreadKey,g.threadKey,g.threadType,v,u]);var w=i(function(){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWPQuickReplies.bs"),{threadKey:g.threadKey}),s?h.jsx(d("MWV2PersistentIcebreakers.bs").MWV2PersistentIcebreakers,{initiatingSource:q,lsSource:"inboxInThread",nullstateCtas:p,thread:g}):null]})},[g,p,q,s]),x=i(function(){return h.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),h.jsx(c("MWV2ContextBanner.react"),{thread:g}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},[g]);o(g,e);var y=c("useCommunityFolder")(g),z=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();z=z!=null&&z==="ChatTab";a=(a==null?void 0:a.channelPrivacy)!=null&&d("I64").equal(a==null?void 0:a.channelPrivacy,d("LSIntEnum").ofNumber(2));var A=c("gkx")("1968579"),B=c("gkx")("7561"),C=d("I64").gt(g.parentThreadKey,d("I64").zero)&&d("I64").gt(g.threadKey,d("I64").zero);z=b("cr:4723")!=null&&!z?h.jsx(b("cr:4723"),{thread:g}):null;var D=b("cr:1690")!=null?h.jsx(b("cr:1690"),{thread:g}):null,E=b("cr:5483")!=null&&j&&!a?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("cr:5483"),{folderId:g.parentThreadKey})}):null;A=b("cr:1598")!=null&&j&&a&&A?h.jsx(b("cr:1598"),{groupId:g.parentThreadKey,threadId:g.threadKey}):null;j=b("cr:488")!=null&&j&&a&&B?h.jsx(b("cr:488"),{groupId:g.parentThreadKey,threadId:g.threadKey}):null;a=C?h.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:y==null?void 0:y.folderId,fbGroupId:y==null?void 0:y.fbGroupId,threadId:g.threadKey}):null;return l!=null&&d("I64").equal(g.lastActivityTimestampMs,d("I64").zero)?h.jsxs(h.Fragment,{children:[a,r,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:g}),D,E,A,j,z,h.jsx(c("MWV2ContextBanner.react"),{thread:g}),h.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),h.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:q,lsSource:"inboxInThread",nullstate:l,nullstateCtas:p,thread:g})]}):h.jsxs(h.Fragment,{children:[a,r,h.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:g}),D,E,A,j,h.jsx(c("MWChatUnsendNUX.bs"),{senderUnsendNUXEnabled:!0}),z,h.jsx(c("MWMessageList"),{entryPoint:e,ref:f,renderFooter:w,renderHeader:x,thread:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync.bs","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MessengerWebUXLogger","cr:6436","promiseDone","react","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react");e=a.memo;var i=a.useEffect;f=e(function(a){var e=a.entryPoint,f=a.messageListRef;a=a.thread;var g=c("useReStore")(),j=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_view_impression"});i(function(){j&&c("promiseDone")(d("MWLSDatabaseLazySync.bs").sync(g,d("LSIntEnum").ofNumber(118)))},[g,j]);var l=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);return h.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",ref:k,children:h.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:h.jsx(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{isSecure:l,threadKey:a.threadKey,children:b("cr:6436")==null||!l?h.jsx(c("MWOpenThreadDetail.react"),{entryPoint:e,messageListRef:f,thread:a}):h.jsx(b("cr:6436"),{entryPoint:e,messageListRef:f,thread:a})})})})});g["default"]=f}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("MWV2ComposerDisclosure.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSOptimisticRemoveParticipantsFromGroupThread","LSOptimisticRemoveThread","LSThreadBitOffset","LSThreadRemoveType","LSVec","MWChatComposerGroupMessageRequestInfoText.react","MWChatStateActions","MWChatStateV2.bs","MWComposerXacDisclosureRelay.react","MWLSChatComposerUserMessageRequestInfoText.bs","MWLSContactTypeExactUtils","MWLSThreadDisplayContext","MWPActor.react","MessageRequestsLog","ReQL","ReQLSuspense","cr:2278","cr:4720","cr:4721","cr:5799","gkx","lazyLoadComponent","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=b("cr:2278")==null?function(a,b){return!1}:b("cr:2278").useIsOneOnOneMessageRequestV2;function l(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,c("LSVec").make([e]),c("LSFactory")(b))},"readwrite"))},[e,b,a.threadKey])}var m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWComposerUserMessageRequestInfoText.bs").__setRef("MWV2ComposerDisclosure.react"));function n(a){var e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,n=c("useReStore")(),o=d("MWChatStateV2.bs").useDispatch();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="Inbox"?"large":"small";var p=l(g),q=g.threadType,r=g.threadKey,s=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSOptimisticRemoveThread")(r,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").DELETE_THREAD),c("LSFactory")(a))},"readwrite"),function(){return o(d("MWChatStateActions").closeTabByThreadKey(Date.now(),r))})},[r,n,o]),t=i(function(){d("MessageRequestsLog").logActionConfirmed(g,8);return s()},[s,g]),u=d("LSMessagingThreadTypeUtil").isSecure(q),v=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(21),g),w=d("MWPActor.react").useActor(),x=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.table("participants")).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(n.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,w)}):d("ReQL").empty()},[n,g.threadKey,g.threadType,w],f.id+":126"),y=j(function(){return u?k(g,x):!1},[g,x,u]);q=d("LSMessagingThreadTypeUtil").isGroup(q);var z=x!=null?d("MWLSContactTypeExactUtils").isIgContact(x[1]):!1;return h.jsxs(h.Fragment,{children:[b("cr:5799")==null?null:h.jsx(b("cr:5799"),{forceShown_TEST_ONLY:e}),y?h.jsx(m,{size:"large",thread:g}):!u&&v?q?b("cr:4720")==null?h.jsx(c("MWChatComposerGroupMessageRequestInfoText.react"),{onDeleteConversation:t,onLeaveGroup:function(){d("MessageRequestsLog").logActionConfirmed(g,10);return p()}}):h.jsx(b("cr:4720"),{onDeleteConversation:t,onLeaveGroup:function(){d("MessageRequestsLog").logActionConfirmed(g,10);return p()},thread:g}):b("cr:4721")==null?h.jsx(c("MWLSChatComposerUserMessageRequestInfoText.bs"),{onDeleteConversation:t,thread:g}):h.jsx(b("cr:4721"),{onDeleteConversation:t,thread:g}):!u&&z&&c("gkx")("1839788")?h.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:d("I64").lt(g.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),size:a}):null]})}function a(a){var b=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;return h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(n,{forceVoiceIndicatorShown_TEST_ONLY:(b=b)!=null?b:!1,thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ErrorComposer.bs",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"xcrg951 x1n2xptk x1a8lsjc xl521sm x9mfa4r x889kno",children:i.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:i.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIntEnum","LSIssueNewError","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.createContext;var j=b.createElement,k=b.useCallback,l=b.useRef,m=e(null);function n(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return j(m.Provider,{children:b,value:a})}var o={dropzone:{alignItems:"x6s0dn4",backgroundColor:"x1h0vfkc",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function p(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function q(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function r(a,b){var d=q(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewError")(void 0,void 0,d,d,void 0,void 0,c("LSFactory")(a))},"readwrite"))}function s(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var t=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var j=l({enabled:!1,handler:null}),m=l(null),q=c("useReStore")(),u=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),g):!1;g=!c("gkx")("1835569");var v=e===!0||g||((e=j.current)==null?void 0:e.handler)==null||u;g=function(a){var b;return((b=j.current)==null?void 0:b.handler)==null?!1:!p(a).some(function(a){return t.has(a)})};e=c("useFileDragEvents")(function(){return!1},void 0,g);g=k(function(a){var b;if(((b=j.current)==null?void 0:b.enabled)===!1)return;b=(b=j.current)==null?void 0:b.handler;if(b==null){if(!u){var d=j.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(s):d;d.length!==a.length&&r(q,d.length);!v&&a.length!==0&&b(a)},[f,v,u,q]);c("useFileDragEvents")(g,m.current,function(a){return!0});return i.jsxs("div",{className:c("stylex")(o.root,(g=a)!=null?g:!1),ref:m,children:[i.jsx(n,{fileUploadHandlerConfigRef:j,children:b}),!v&&e?i.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:i.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=m;g.MWV2FileDropzone=a}),98);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeeded","MWThreadKey.react","promiseDone","useMWLSProactiveWarningTables","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),h=c("useMWLSProactiveWarningTables")(),i=h.banner;h=h.pwSettings;h=i!=null&&h!=null?d("I64").equal(i.bannerId,d("I64").of_string("7")):!1;a=a&&!h?e?!0:b!=null?d("I64").equal((i=b.proactiveWarningDismissTime)!=null?i:d("I64").zero,d("I64").zero):!1:!1;var j=b!=null&&a;d("Int64Hooks").useEffectInt64(function(){j&&c("promiseDone")(f.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeeded")(g,c("LSFactory")(a))},"readwrite"))},[g,a,j,f])}g["default"]=a}),98);
__d("MWPComposerGating.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometProgressRingIndeterminate.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MessengerThreadTakedownState","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","lazyLoadComponent","nullthrows","react","useCommunityFolder","useMAWOfflineQueueLoadingIndicator","useMWLSSprocFetchProactiveWarningIfNeeded","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");e=b.memo;var j=b.useContext,k=b.useImperativeHandle,l=b.useMemo,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react"));function x(a){a=a.height;return i.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}x.displayName=x.name+" [from "+f.id+"]";var y=e(function(a){var b,e=a.renderComposer;a=a.thread;var f=a.cannotReplyReason==="viewer_not_subscribed",g=a.cannotReplyReason==="broadcast_chat_read_only",h=a.threadStatus!=null&&d("I64").equal(a.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED)),j=c("useCommunityFolder")(a);b=d("I64").to_int32((b=j==null?void 0:j.sendsBlockedUntil)!=null?b:d("I64").zero)*1e3;b=b<0||b>d("ServerTime").getMillis();var k=a.takedownState!=null&&d("I64").equal(a.takedownState,d("LSIntEnum").ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),l=(j==null?void 0:j.fbGroupUserParticipationApprovalStatus)!=null&&d("I64").equal(j.fbGroupUserParticipationApprovalStatus,d("LSIntEnum").ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),y=(j==null?void 0:j.fbGroupUserParticipationApprovalStatus)!=null&&d("I64").equal(j.fbGroupUserParticipationApprovalStatus,d("LSIntEnum").ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING));if(k)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:35}),children:i.jsx(u,{threadType:a.threadType})});else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType))return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast}),children:i.jsx(p,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast})});else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType))return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social}),children:i.jsx(p,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social})});else if(f)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:99}),children:i.jsx(m,{groupId:j==null?void 0:j.fbGroupId,thread:a})});else if(h)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:35}),children:i.jsx(r,{canPauseChat:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(154),a),shouldUseChannelTerminology:d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),threadKey:a.threadKey})});else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&g)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:55}),children:i.jsx(o,{isBroadcastChatsReactionsEnabled:d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a)})});else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&g)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:48}),children:i.jsx(q,{})});else if(b)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:141}),children:i.jsx(n,{size:"small"})});else if(l)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:135}),children:i.jsx(s,{communityFolder:c("nullthrows")(j),thread:a})});else if(y)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:100}),children:i.jsx(t,{groupID:d("I64").to_string(c("nullthrows")(j==null?void 0:j.fbGroupId)),thread:a})});else if(a.cannotReplyReason!=null)return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:35}),children:i.jsx(v,{})});else return i.jsxs(i.Fragment,{children:[d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType)?i.jsx(w,{thread:a}):null,i.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]})}),z=e(function(a){var b=a.isMessengerInbox,e=a.renderComposer;a=a.thread;e=i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]});var f=a.proactiveWarningDismissTime==null||d("I64").is_zero(a.proactiveWarningDismissTime),g=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=b?null:f&&!g?i.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null;c("useMWLSSprocFetchProactiveWarningIfNeeded")(b!=null,a,!1);f=c("useMWProactiveWarningPayload")(void 0,a);return b!=null&&f!=null?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(x,{height:35}),children:b}):e});function A(a){var b=a.configurations,e=a.isMessengerInbox,g=a.renderComposer,m=a.thread,n=c("useReStore")(),o=d("MWPActor.react").useActor(),p=d("I64").equal(o,m.threadKey),q=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.table("participants")).getKeyRange(m.threadKey),d("ReQL").fromTableAscending(n.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[n,m.threadKey,m.threadType],f.id+":419");a=l(function(){return q.find(function(a){return p||q.length===1&&d("I64").equal(a.id,o)||!d("I64").equal(a.id,o)})},[o,p,q]);var r=d("LSMessagingThreadTypeUtil").isSecure(m.threadType),s=c("useMAWOfflineQueueLoadingIndicator")(!1,m,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);r=r&&s?i.jsxs("div",{id:"armadillo-loading-indicator-banner",children:[i.jsx("div",{className:"x78zum5 xoverlg xl56j7k xr1496l",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}),i.jsx("div",{className:"x6s0dn4 x12scifz x1jchvi3 x117nqv4 x1hkbg2g xr1yuqi xkrivgy x4ii5y1 x1gryazu x1qs4qq1 x1n2onr6 x2b8uid x13faqbe",children:h._("__JHASH__bXfe9onDJii__JHASH__").toString()})]}):null;var t=b.find(function(a){return a!=null});s=j(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);k(s,function(){return t!=null?{enabled:!1,handler:null}:null},[t]);return i.jsxs(i.Fragment,{children:[r!=null?r:null,t!=null?t:d("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?a!=null?i.jsx(z,{isMessengerInbox:e,otherUser:a,renderComposer:g,thread:m}):d("I64").lt(m.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:i.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):i.jsx(y,{renderComposer:g,thread:m})]})}function a(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return i.jsx(c("MWV2ErrorComposer.bs"),{})},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:i.jsx(A,{configurations:b,isMessengerInbox:(b=e)!=null?b:!1,renderComposer:f,thread:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharedMediaManagerUtils.bs",["I64","LSIntEnum","LSMailboxType","MWPComposerMediaUploadUtil","MWPreloadableQueries","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return new(b("Promise"))(function(b){var c=new Image();c.onload=function(){return b({previewHeight:c.height,previewWidth:c.width})};c.onerror=function(){return b()};c.src=a})}function i(a,b){if(b==null||a==null)return;var c=Math.floor(a.previewHeight*b.previewWidth/a.previewWidth);return c>=b.previewHeight?{previewHeight:d("I64").of_float(c),previewWidth:d("I64").of_float(b.previewWidth)}:{previewHeight:d("I64").of_float(b.previewHeight),previewWidth:d("I64").of_float(a.previewWidth*b.previewHeight/a.previewHeight)}}function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield b("Promise").all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0];a=a[1];var e=URL.createObjectURL(b),g=(yield h(e));return[{attachmentType:d("MWPComposerMediaUploadUtil").getAttachmentType(b),durationMs:void 0,fbid:void 0,filename:b.name,fileSize:d("I64").of_int32(b.size),hasError:!1,isSent:!1,mailboxType:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),mimeType:b.type,offlineAttachmentId:a,offlineThreadingId:void 0,previewUrl:e,progress:0,threadKey:f},g]});return function(b){return a.apply(this,arguments)}}())));yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield a.table("sync_groups").get(d("ReQL").key(d("I64").of_float(1)))),e;if((c==null?void 0:c.syncParams)!=null){c=JSON.parse(c.syncParams);var f=c.preview_height;c=c.preview_width;e={previewHeight:f,previewWidth:c}}yield b("Promise").all(g.map(function(b){var c=b[0];b=b[1];return a.table("media_staging").add(babelHelpers["extends"]({},c,i(b,e)))}))});return function(b){return a.apply(this,arguments)}}(),"readwrite")});return j.apply(this,arguments)}function e(a,b){return a.runInTransaction(function(a){return a.table("media_staging")["delete"](d("ReQL").key(b))},"readwrite")}function k(a){var b=c("useReStore")();return d("ReQLSuspense").useArray(function(){return d("MWPreloadableQueries").getMediaStagingQuery(b,a.threadKey)},[b,a.threadKey],f.id+":142")}g.insertMediaStaging=a;g.deleteMediaStaging=e;g.useMediaStaging=k}),98);
__d("MWMediaManager.bs",["FBLogger","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorDialog.react","MWChatFileUploadErrorDialog.react","MWSharedMediaManagerUtils.bs","cr:7123","emptyFunction","gkx","promiseDone","requireDeferred","useCometAlertDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWOpenMediaManagerUtils.bs").__setRef("MWMediaManager.bs"),i=c("gkx")("1147754")?78643200:26214400;function a(a,e,f,g,j){var k=c("useReStore")(),l=c("useCometAlertDialog")(),m=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),n=d("MWSharedMediaManagerUtils.bs").useMediaStaging(a);e=function(e){var f=e.some(function(a){return a.size>i});if(f)return l(d("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded,c("emptyFunction"));f=function(a){if(m)if(b("cr:7123")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media preprocess");return Promise.resolve([])}else return b("cr:7123").load().then(function(b){return b.preprocess(a)});else return h.load().then(function(b){return b.preprocess(a)})};c("promiseDone")(f(e)["catch"](function(){l(d("MWChatFilePreProcessingErrorDialog.react").invalidFileFormat,c("emptyFunction"));return Promise.resolve([])}).then(function(e){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").insertMediaStaging(k,e,a.threadKey));var f=a.threadKey;if(m){if(b("cr:7123")==null){c("FBLogger")("messenger_web_product").warn("Unsupported thread type for media upload");return}return b("cr:7123").load().then(function(a){return a.upload(k,f,e)})}return h.load().then(function(a){return a.upload(k,f,e,g,j)})}))};f=function(a){c("promiseDone")(d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(k,a).then(function(){if(m&&b("cr:7123")!=null)return b("cr:7123").load().then(function(b){b.MAWMediaManagerAttachments["delete"](a)})}))};var o=function(){var a=n.map(function(a){return a.offlineAttachmentId});a.forEach(function(a){d("MWSharedMediaManagerUtils.bs").deleteMediaStaging(k,a)["catch"](function(a){c("FBLogger")("MWMediaManager").catching(a).mustfix("Error deletting media staging.")})});m&&b("cr:7123")!=null&&c("promiseDone")(b("cr:7123").load().then(function(a){a.MAWMediaManagerAttachments.clear()}))};return{handleFileRemove:f,handleFileSelect:e,mediaStaging:n,resetAttachments:o}}g.useMediaManager=a}),98);
__d("MWPNewMessageDraftContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");e=c.createContext;var i=c.useContext,j=c.useRef,k=e();function a(a){a=a.children;var b=j("");return h.jsx(k.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useMemo;function a(a,b){var c=i(function(){return b.current},[b]);h(function(){var b=c;if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),c=a.getFirstChild();d("Lexical").$isParagraphNode(c)||(c=d("Lexical").$createParagraphNode(),a.append(c));a=d("Lexical").$createTextNode(b);c.clear();c.append(a);a.select()}})},[a,c])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){b===void 0&&(b=!1),h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("MWPComposerEditor.bs",["I64","Int64Hooks","Lexical","LexicalText","MWChatFocusComposerContext","MWLSUseLatch.bs","MWPActor.react","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWPreloadedText","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","WALoggerDeferred","cr:11463","deepEquals","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useLexicalInitializeEditor__DEPRECATED","useMWLSUpdateDraftMessage","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext,j=e.useEffect,k=e.useMemo,l=e.useRef,m=[];function n(a,b){j(function(){b(a.getEditorState())},[a,b]),j(function(){return a.registerUpdateListener(function(a){return b(a.editorState)})},[b,a])}var o=["MWPComposerEditor","Composer"];function p(a,b){b=d("MWLSUseLatch.bs").useLatch(b,!0,5e3);var c=b[0],e=b[1],f=l("");j(function(){var b=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return a.registerUpdateListener(b)},[c,e,a])}function q(a){var b=i(d("MWPReplyContext.bs").MWPReplyContext),e=b.reply,f=c("usePrevious")(e);j(function(){var b=f==null?e!=null:c("deepEquals")(f,e)?!1:!0;b&&a.focus(function(){})},[a,e,f])}var r=b("cr:11463")==null?function(a){}:b("cr:11463").useHook,s=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.autoFocus,e=b===void 0?!0:b;b=a.children;var f=a.customizedRanges,g=a.deleteComposerStateForUserIdByThreadKey,t=a.getEditorState,u=a.getTextFromEditorState,v=u===void 0?s:u;u=a.isPreviewThread;var w=u===void 0?!1:u;u=a.isSendDisabled;var x=u===void 0?!1:u;u=a.mediaStaging;u=u===void 0?m:u;var y=a.onSendEmptyMessage,z=a.onSendMessage,A=a.onTypingStateChanged,B=a.persistEditorState,C=a.thread,D=a.useMWPComposerPrepopulateEditorState;a=a.clearFormatAfterSend;var E=d("MWPNewMessageDraftContext.bs").useNewMessageDraftContext(),F=i(c("MWPreloadedText"));F=F.text!=null?F.text:E!=null?E.current:C.draftMessage;var G=l(F),H=l(null);r(H.current);var I=k(function(){return c("mwpLexicalCreateEditor")()},[]);t=t!=null?t(d("I64").to_string(C.threadKey)):JSON.stringify(I.getEditorState());t=t!=null?JSON.parse(t):JSON.parse("{}");var J={contents:function(){return I.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}},K=c("useMWLSUpdateDraftMessage")(I,B),L=c("useDebounced")(K,500),M=l();B=d("MWV2ComposerHasContentContext.bs").useComposerHasContext();var N=B.shouldClearDraftMessageRef,O=B.hasContentRef;j(function(){return function(){Boolean(N==null?void 0:N.current)&&c("promiseDone")(K(C.threadKey,""));var a=M.current;a!=null&&c("promiseDone")(K(C.threadKey,a))}},[]);B=d("Int64Hooks").useCallbackInt64(function(a){a=a.read(function(){return d("LexicalText").$rootTextContent()});M.current=a;O!=null&&(O.current=a!=="");L(C.threadKey,a);if(w&&E!=null){E.current=a;return}},[O,L,C.threadKey,w,E]);n(I,B);p(I,A);B=F!=null?F.trim()==="":!0;A=c("useMWPLexicalIsTextContentEmpty")(I,!0,B);F=u.length>0;var P=!A||F,Q=u.filter(function(a){return!a.isSent}).length;B=i(d("MWChatFocusComposerContext").context);var R=B.setFocusComposer;j(function(){e&&R(function(){return I.focus(function(){})})},[e,I]);j(function(){Q>0&&I.focus(function(){})},[I,Q]);var S=d("MWV2IsTabFocusedContext.bs").useIsTabFocused();j(function(){S&&!w&&I.focus(function(){})},[I,S,w]);q(I);c("useMWPCometComposerPrepopulateDraftMessage")(I,G);D==null?void 0:D(I,t);var T=d("MWPActor.react").useActor(),U=function(a,b,e,f,h,i,j,k,l){g!=null&&g(d("I64").to_string(C.threadKey),d("I64").to_string(T));c("promiseDone")(d("WALoggerDeferred").logWithTags(o,["Calling MAWSendSecureMessageV2.useOnSendSecureMessage in MWPComposerEditor"],"LOG"));z(a,b,e,f,h,i,j,k,l,void 0);return I.focus(function(){})};A=h(function(){if(x)return;if(P){c("promiseDone")(d("WALoggerDeferred").logWithTags(o,["Calling onSendMessage"],"LOG"));var a=f!=null?f(I,d("I64").to_string(C.threadKey)):c("MWV2ChatComposerGetViewContent").getRanges(I),b=I.getEditorState();b=v(b);U(b,a)}else y==null?void 0:y();M.current="";return J.contents()},[I,U,P,x]);c("useMWPLexicalCommitMessageOnEnter")(I,A);c("useLexicalInitializeEditor__DEPRECATED")(I);c("useMWPLexicalClearEditor")(I,a);return b(I,P,H,A)}g.MWPComposerEditor=a}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint.bs","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWCMIsAnyCMThread","MWChatReplyText.bs","MWPActor.react","MWPReplyContext.bs","MWXIcon.react","MWXText.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect;function m(a,e,f){var g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&(d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").MEDIUM))||d("I64").equal((g=a.hotEmojiSize)!=null?g:d("I64").neg_one,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");if(a.text!=null&&a.text!==""){return j.jsx(c("MWChatReplyText.bs"),{isHotLike:g,text:(e=a.text)!=null?e:h._("__JHASH__C1Hm6KH3mNE__JHASH__")})}if(f!=null){if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if(d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");return d("I64").equal(f==null?void 0:f.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function n(a,b,d,e){if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",j.jsx(c("MWXText.react"),{type:"bodyLink4",children:e?b.name:(e=(a=d)!=null?a:b.firstName)!=null?e:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")])}function o(a){var b=a.isSecureThread,e=a.message;a=a.useContactFullname;var g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=d("I64").equal(e.senderId,h),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(e.senderId)},[g,e.senderId],f.id+":229");h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("attachments")).getKeyRange(e.threadKey,e.messageId)},[g,e.messageId,e.threadKey],f.id+":235");var o=d("ReQLSuspense").useFirst(function(){return k!=null&&!i?d("ReQL").fromTableAscending(g.table("threads")).getKeyRange(e.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;return!c("MWCMIsAnyCMThread")(a)?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("community_folders")).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1").index("associatedEntityIdAndOwner")).getKeyRange(a,k.id).map(function(a){return a.profileName}),f.id+":257")}),f.id+":253")}):d("ReQL").empty()},[g,e.threadKey,k,i],f.id+":244");l(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint.bs").messageActions}}})},[]);b=m(e,b,h);h=n(i,k,o,a);return j.jsx("div",{className:"xmo9yow",children:j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWXText.react"),{type:"body4",children:h}),level:3,meta:b})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.isSecureThread;b=b===void 0?!1:b;var e=a.message;a=a.useContactFullname;var f=k(d("MWPReplyContext.bs").MWPReplyContext),g=f.clearReply,l=k(c("CometTriggerAccessibilityAlertContext"));return j.jsxs("div",{className:"x1cy8zhl xcrg951 x1n2xptk x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,children:[j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:j.jsx(o,{isSecureThread:b,message:e,useContactFullname:a})}),j.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){g(e.threadKey,!0),l(h._("__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp,g=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var h=c("useReStore")(),i=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("messages")).getKeyRange(g.threadKey,e,b)},[h,g.threadKey,b,e],f.id+":359");if(k!=null)return j.jsx(p,{isSecureThread:i,message:k,useContactFullname:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerReplyViewContainer=p;g.MWV2ComposerReplyView=a}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:a.key,text:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatComposerMentionsViewItem.react","MWLSThread","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}},k={view:{minWidth:"x1jzhcrs",$$css:!0}};function a(a){var e=a.editor,f=a.participants,g=a.threadFBID,l=j(d("I64").of_string(g));a=i(function(){return{participants:f,threadFBID:g,triggerParticipantsSearch:l}},[f,g,l]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var m=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:k.view}),n=d("MWLSThread").useThreadExn(d("I64").of_string(g)),o=c("useCommunityFolder")(n);if(b("cr:2600")!=null&&(d("MWCMThreadTypes.react").isJoinedCMThread(n.threadType)&&o||d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(n.threadType))){var p;return h.jsx(b("cr:2600"),{editor:e,fbGroupId:(p=o==null?void 0:o.fbGroupId)!=null?p:n.threadKey,folderId:(p=o==null?void 0:o.folderId)!=null?p:n.threadKey,threadFBID:g})}else return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),m={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl",$$css:!0}},n=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,o=a.handlePastedFiles,p=a.isSecureThread,q=a.participants,r=a.placeholderText;r=r===void 0?"Aa":r;var s=a.policyProduct,t=a.startContent,u=a.style,v=a.surface,w=a.testId,x=a.threadID,y=a.topContent;a=a.useMentionsPlugin;var z=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a)},[f,g]),A=d("LexicalComposerContext").createLexicalComposerContext(),B=k(function(){return[g,A]},[g,A]);e=i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:n,contentEditableRef:z,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:w,xstyle:m.editor});z=i.jsx(c("CometLexicalPlaceholder.react"),{children:r});w=c("useDeferredModuleOnReady")(l);return i.jsxs("div",{className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 x1iyjqo2 xeuugli",style:u,children:[i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:s,surface:v}),y,i.jsxs("div",{className:"x78zum5 x1a02dak x13a6bvl",children:[t,i.jsx("div",{className:"x78zum5 x1iyjqo2 x1gja9t x16n37ib x1xmf6yo x1e56ztr xeuugli x1n2onr6",children:i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:B,children:[i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:e,placeholder:z}),i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,participants:q,threadFBID:x}),!Boolean(p)&&b("cr:1948")&&i.jsx(b("cr:1948"),{editor:g}),w==null?null:i.jsx(w,{editor:g,handlePastedFiles:o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayer.react","Promise","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useReducer,m=i.useRef;function a(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function e(a){switch(a.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}function n(a){switch(a.TAG){case 0:return 0;case 1:return a._1;case 2:case 3:break}return Math.max(a._0-a._1,0)}function o(a){switch(a.TAG){case 0:return 0;case 1:return a._2;case 2:case 3:return a._0}}function p(a){switch(a.TAG){case 0:case 1:return;case 2:case 3:return a._1}}function q(a){switch(a.TAG){case 0:case 2:return!1;case 1:case 3:return!0}}function r(a){if(a.TAG===2)return a._1===0;else return!1}function s(a){switch(a.TAG){case 1:return d("MWPAudioPlayer.react").stopLabel;case 0:case 2:return d("MWPAudioPlayer.react").playLabel;case 3:return d("MWPAudioPlayer.react").pauseLabel}}function t(a,b){switch(a.TAG){case 1:return h.jsx(d("MWPAudioPlayer.react").StopIcon,{color:b});case 0:case 2:return h.jsx(d("MWPAudioPlayer.react").PlayIcon,{color:b});case 3:return h.jsx(d("MWPAudioPlayer.react").PauseIcon,{color:b})}}t.displayName=t.name+" [from "+f.id+"]";function u(a,b){switch(b.TAG){case 0:return{_0:b._0,_1:0,_2:b._1,TAG:1};case 1:switch(a.TAG){case 0:return a;case 1:return{_0:a._1,_1:0,TAG:2};case 2:return{_0:a._0,_1:a._1,TAG:3};case 3:return{_0:a._0,_1:a._1,TAG:2}}break;case 2:var c=b._0;switch(a.TAG){case 0:return a;case 1:return{_0:a._0,_1:c,_2:a._2,TAG:1};case 2:return{_0:c,_1:a._1,TAG:2};case 3:return{_0:c,_1:a._1,TAG:3}}break;case 3:c=b._0;switch(a.TAG){case 0:case 1:return a;case 2:var d=a._0;return c===d?{_0:d,_1:0,TAG:2}:{_0:d,_1:c,TAG:2};case 3:d=a._0;return c===d?{_0:d,_1:0,TAG:2}:{_0:d,_1:c,TAG:3}}break;case 4:return{_0:b._0,_1:0,TAG:2};case 5:return{_0:void 0,TAG:0}}}var v={_0:void 0,TAG:0};function w(a,d,e){a===void 0&&(a=60);d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=c("emptyFunction"));var f=l(u,v),g=f[0],h=f[1],i=c("useIsMountedRef")(),n=m(),o=m([]),p=m([]),q=m(),r=m(),s=m(),t=m(),w=m(c("emptyFunction")),x=j(function(a){var b=a[0],c=a[1];if(!i.current)return;a=URL.createObjectURL(b);s.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){r.current=d;var a=d.duration;h({_0:a,TAG:2});a={duration:a,file:b,waveformData:c};t.current=a;w.current(a)});d.addEventListener("timeupdate",function(){var a;a=(a=r.current)==null?void 0:a.currentTime;a!=null&&h({_0:a,TAG:3})});d.addEventListener("durationchange",function(){var a;a=(a=r.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&h({_0:a,TAG:2})})},[i]),y=j(function(){if(n.current==null||q.current==null)return;q.current.postMessage({buffersL:o.current,buffersR:p.current,sampleRate:n.current})},[]);k(function(){if(g.TAG!==1)return;o.current=[];p.current=[];var a=c("AudioContextSingleton").get(),b=a.destination;n.current=a.sampleRate;var e=g._0,f=a.createScriptProcessor(4096,2,2);a=a.createMediaStreamSource(e);q.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(x).setAllowCrossPageTransition(!0).execute();var h=function(a){g.TAG===1&&a instanceof AudioProcessingEvent&&(o.current.push(a.inputBuffer.getChannelData(0).slice()),p.current.push(a.inputBuffer.getChannelData(1).slice()))};f.addEventListener("audioprocess",h);a.connect(f);f.connect(b);d();return function(){e.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),f.removeEventListener("audioprocess",h)}},[x,d,g.TAG,g._0]);var z=c("usePrevious")(g);k(function(){(z==null?void 0:z.TAG)===1&&g.TAG===2&&y()},[z==null?void 0:z.TAG,y,g.TAG]);k(function(){if(g.TAG!==1)return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a){h({_0:a,TAG:4});return}h({_0:f,TAG:2});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[a,g.TAG]);f=j(function(b){h({_0:b,_1:a,TAG:0})},[a]);var A=j(function(){var a;h({_0:void 0,TAG:5});(a=r.current)==null?void 0:a.pause();r.current=void 0;t.current=void 0;n.current=void 0;a=s.current;a!=null&&(URL.revokeObjectURL(a),s.current=void 0)},[]),B=j(function(){var a=function(){h({_0:void 0,TAG:1})},b=r.current;if(b==null){a();return}switch(g.TAG){case 0:case 1:a();break;case 2:b.play().then(a)["catch"](e);break;case 3:b.pause();a();break}},[e,g.TAG]),C=j(function(){return new(b("Promise"))(function(a){var b=t.current;if(b!=null)return a(b);w.current=a;if(g.TAG===1)return B()})},[g,B]);return{audioEl:r,getVoiceClip:C,reset:A,start:f,state:g,toggle:B}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=n;g.getDuration=o;g.getCurrentTime=p;g.isProgressing=q;g.isCompleted=r;g.getPlaybackLabel=s;g.getPlaybackIcon=t;g.useVoiceRecorder=w}),98);
__d("MWAudioRecorder.react",["MWAudioPlayer.react","MWPAudioPlayer.react","MWPThreadTheme.bs","MWPUseVoiceRecorder","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWAudioRecorder.react");function a(a){a=a.voiceRecorder;var b=a.audioEl,e=a.state,f=a.toggle;a=d("MWPThreadTheme.bs").useBottom();var g=i(),k=d("MWPAudioPlayer.react").useResetHighlightProgress(g),l=function(){switch(e.TAG){case 0:case 1:return!1;case 2:case 3:return!0}}(),m=function(){f();switch(e.TAG){case 0:return;case 1:j.onReady(function(a){return a.logClickStopRecording(0)});return;case 2:var a=e._1,b=e._0;a===0?j.onReady(function(a){return a.logPlaybackStart(b)}):j.onReady(function(c){return c.logPlaybackResume(b,a)});return;case 3:var c=e._1,d=e._0;j.onReady(function(a){return a.logPlaybackPause(d,c)});return}},n=d("MWPAudioPlayer.react").useProgressLiveUpdate(d("MWPUseVoiceRecorder").getDuration(e),b,d("MWPUseVoiceRecorder").getCurrentTime(e),d("MWPUseVoiceRecorder").isProgressing(e),!1,d("MWPUseVoiceRecorder").isCompleted(e)),o=d("MWAudioPlayer.react").useHighlightStyles(!0),p=function(){switch(e.TAG){case 0:case 1:return null;case 2:case 3:return h.jsx(d("MWPAudioPlayer.react").ScreenReaderLabel,{currentTime:e._1,duration:e._0})}}();return h.jsx(d("MWPAudioPlayer.react").Container,{audioEl:b,hasScrubber:l,scrubberRef:g,style:{backgroundColor:a,borderRadius:"18px"},testid:void 0,useCase:d("MWPAudioPlayer.react").UseCase.RECORDER,children:h.jsxs(d("MWPAudioPlayer.react").KeyCommands,{audioEl:b,children:[h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:n,xstyle:o}),p,h.jsx(d("MWPAudioPlayer.react").Highlight,{ref:g,xstyle:o}),h.jsx("div",{className:c("stylex")(d("MWPAudioPlayer.react").styles.playbackButtonContainer),onMouseMove:l?k:void 0,children:h.jsx(d("MWPAudioPlayer.react").PlaybackButton,{icon:d("MWPUseVoiceRecorder").getPlaybackIcon(e,a),label:d("MWPUseVoiceRecorder").getPlaybackLabel(e),onPress:m})}),h.jsx(d("MWPAudioPlayer.react").Timer,{time:d("MWPUseVoiceRecorder").getTimerTime(e)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","CometEmoji.react","CometPressable.react","EmojiRenderer","I64","LSHotEmojiSize","LSIntEnum","MWLikeSvgIcon.react","MWXTooltip.react","StickerConstants","gkx","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},fillGrey:{fill:"xsrhx6k",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__OzQk4bc7gK8__JHASH__"),l=d("LSIntEnum").ofNumber(c("LSHotEmojiSize").SMALL),m=d("I64").of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID);function a(a){var b=a.color,e=a.disabled;e=e===void 0?!1:e;var f=a.onSendMessage,g=a.thread.customEmoji;a=function(){!c("isStringNullOrEmpty")(g)?f(g,void 0,void 0,l,void 0,void 0,void 0,void 0,void 0,void 0):f(void 0,void 0,m,l,void 0,void 0,void 0,void 0,void 0,void 0)};if(!c("isStringNullOrEmpty")(g)){var n=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",g)]),o=function(a){var b=d("EmojiRenderer").parse(g).map(function(a){return a.emoji});if(b.length!==1)return i.jsx("span",{children:g});b=b[0];return i.jsx(c("CometEmoji.react"),{emoji:b,size:a})},p=h._("__JHASH__7OvMJwHRigG__JHASH__");p=i.jsxs(i.Fragment,{children:[i.jsxs("span",{children:[p," "]}),o(16)]});return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:p,children:i.jsx(c("CometPressable.react"),{"aria-label":n,disabled:e,onPress:a,overlayDisabled:e,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.customEmojiButtonMDS:j.customEmojiButtonFDS]},children:o(20)})})}return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onPress:a,overlayDisabled:e,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.hotlikeButtonMDS:j.hotlikeButtonFDS]},children:i.jsx(c("MWLikeSvgIcon.react"),{className:"xsrhx6k",color:b,size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__HXazdxq92Fj__JHASH__"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function a(a){var e=a.color,f=a.editor;a=function(a){c("promiseDone")(l.load().then(function(c){c(a,f,16);return b("Promise").resolve()}))};var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),children:function(a,b,f,h,m,n,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{"aria-label":j,onHoverIn:h,onHoverOut:m,onPress:function(a){b(),l.preload(),g==null?void 0:g({eventName:"composer_open_emoji_picker"})},onPressIn:n,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsEmoji,{fill:e,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerFileButton.react",["fbt","CometFileSelector.react","CometPressable.react","MWChatComposerIcons.bs","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__irWVZkNfl97__JHASH__");function a(a){var b=a.color,e=a.disabled,f=a.onAttachmentsAdded;a=a.supportedFileTypes;f=c("useMWV2ComposerOnFilesSelected")(f);var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("CometFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:f,children:function(a){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onPress:function(){a(),g==null?void 0:g({eventName:"composer_open_file_picker"})},overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsPhoto,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerGifButton.react",["fbt","CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=a.color,e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a);var g=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:f,onSelect:a,testid:"mw_gif_picker"},popoverResource:j,position:"above",children:function(a,f,h,j,m,n,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:i.jsx(c("CometPressable.react"),{"aria-label":l,disabled:e,onHoverIn:j,onHoverOut:m,onPress:function(){f(),g==null?void 0:g({eventName:"composer_open_gif_picker"})},onPressIn:n,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsGif,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIcon.react",["ix","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x2bj2ny x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k xmo9yow x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:i.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(h("908355"),16)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMediaStaging.bs",["fbt","ix","CometFileSelector.react","CometImageCover.react","CometPressable.react","I64","LSIntEnum","MWChatFileIcon.react","MWV2ComposerMediaProgressBar.react","MWXCircleButton.react","MWXIcon.react","MWXImage.react","MWXText.react","MessagingAttachmentType","fbicon","react","stylex","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l={root:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function m(a){var b=a.onAttachmentsAdded;a=a.supportedFileTypes;b=c("useMWV2ComposerOnFilesSelected")(b);b={children:function(a){return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__Mhonj9wa21Q__JHASH__"),onPress:function(){return a()},xstyle:function(){return[l.root]},children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("481777"),24),testid:void 0})})},multiple:!0,onFilesSelected:b};a!=null&&(b.accept=a);return j.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},b))}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.onPress;return j.jsx("div",{className:"xoo4vsp x10l6tqk x1v4kod4",children:j.jsx(c("MWXCircleButton.react"),{icon:d("fbicon")._(i("478231"),12),label:h._("__JHASH__JpwWRvbxl3y__JHASH__"),onPress:function(){return b()},size:24,type:"overlay"})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){if(a.mimeType==="image/gif")return!0;else return a.mimeType==="image/webp"}function p(a){a=a.mediaStaging;var b=a.attachmentType,e=o(a);if(e){e=a.previewUrl;if(e!=null)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))){e=a.previewUrl;if(e!=null)return j.jsxs(j.Fragment,{children:[j.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),j.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:j.jsx(c("MWXImage.react"),{src:i("354763")})})]});else return null}if(!d("I64").equal(b,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE)))return j.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[j.jsx(c("MWChatFileIcon.react"),{}),j.jsx("div",{className:"x1iyjqo2",children:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"headline4",children:a.filename})})]});e=a.previewUrl;if(e!=null)return j.jsx(c("CometImageCover.react"),{alt:"",src:e});else return null}var q={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1vtvx1t",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0}};function r(a){var b=a.mediaStaging,e=a.onAttachmentRemoved;a=k(function(){return e(b.offlineAttachmentId)},[]);var f=!d("I64").equal(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))&&!d("I64").equal(b.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))&&!o(b);return j.jsxs("div",{className:c("stylex")(q.itemContainer,f?q.fileContainer:!1),children:[j.jsxs("div",{className:c("stylex")(q.previewContainer,f?q.filePreviewContainer:!1),children:[j.jsx(p,{mediaStaging:b}),j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:b})]}),j.jsx(n,{onPress:a})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.mediaStaging,c=a.onAttachmentRemoved,d=a.onAttachmentsAdded;a=a.supportedFileTypes;if(b.length===0)return null;else return j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[j.jsx(m,{onAttachmentsAdded:d,supportedFileTypes:a}),b.map(function(a){return j.jsx(r,{mediaStaging:a,onAttachmentRemoved:c},a.offlineAttachmentId)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["fbt","CometPressable.react","I64","JSResourceForInteraction","MWChatChatButtonColorConstants.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","emptyFunction","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__2kGg_y6m8FS__JHASH__"),k={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=e===void 0?!1:e,g=a.onSendMessage;e=a.thread.threadKey;a=function(a){var b=a.id;a=a.title;return g(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0)};return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:c("emptyFunction"),onSelect:a,pageId:d("I64").to_string(e)},popoverResource:c("JSResourceForInteraction")("LSComposerPersistentMenu.bs").__setRef("MWV2ComposerPersistentMenuButton.react"),children:function(a,e){return i.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:f,label:j,onPress:e,overlayDisabled:f,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{"aria-hidden":"true",className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:i.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[i.jsx("path",{d:"M1.5,1.5 H22.5"}),i.jsx("path",{d:"M1.5,9 H22.5"}),i.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UseMWV2ComposerOnPressVoiceClip",["$InternalEnum","BrowserFeatureInstrumentation","JSResourceForInteraction","emptyFunction","react","requireDeferred","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState,i=c("requireDeferred")("MWChatAudioLog.bs").__setRef("UseMWV2ComposerOnPressVoiceClip"),j=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=h(j.AWAITING),d=b[0],e=b[1];b=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("UseMWV2ComposerOnPressVoiceClip"));var f=b[0],g=function(){return f({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},k=function(){var b;c("BrowserFeatureInstrumentation")("microphone","MWV2ComposerPlusButton");(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:!0,video:!1}).then(function(b){e(j.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(e(j.DENIED),g()):e(j.FAILED),i.onReady(function(a){return a.logBrowserDenyAccess()})})},l=function(){return f({contentType:"askForAccess",onAllow:function(){return k()}},c("emptyFunction"))};return function(){var a;switch(d){case j.AWAITING:a=navigator.permissions.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;switch(a){case"denied":e(j.DENIED);g();break;case"granted":k();break;case"prompt":l();break;default:l()}})["catch"](function(){l()}):(k(),i.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case j.DENIED:return g();case j.GRANTED:case j.FAILED:return k()}}}g.useOnPressVoiceClip=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","CometPressable.react","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MWChatComposerIcons.bs","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","UseMWV2ComposerOnPressVoiceClip","emptyFunction","gkx","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useState,l=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerPlusButton.react"),m={plusButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.canSendAudioClip,e=a.canSendFile,f=a.canSendPayment,g=a.color,n=a.editor,o=a.isInputExpanded,p=a.onAttachmentsAdded,q=a.onSendMessage,r=a.renderExtraOverflowMenuItems,s=a.supportedFileTypes,t=a.thread,u=a.voiceRecorder,v=c("emptyFunction");a=k(!1);var w=a[0],x=a[1];a=function(a){return x(a)};var y=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(t.threadType),z=d("MAWGating").isStickerEnabled()&&d("LSMessagingThreadTypeUtil").isSecure(t.threadType);f=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(0),t)&&!c("gkx")("1787591")&&f;y=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(36),t)&&!c("gkx")("1787592")?y?c("gkx")("7277"):!0:!1;b=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(14),t)&&!c("gkx")("1787585")&&b;var A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(4),t)&&!c("gkx")("1787594")&&o;e=e&&o;z=!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(3),t)||z)&&o;o=c("gkx")("358");var B=j(function(){if(r!=null)return r(g,v,p);else return[]},[r,g,v,p]),C=f||y||b||A||e||z||o||B.length>0,D=!C;C=d("UseMWV2ComposerOnPressVoiceClip").useOnPressVoiceClip(u);var E=u.state.TAG!==0,F=E?h._("__JHASH__gaxHiFwvIGk__JHASH__"):w?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__"),G=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:a,popoverProps:{color:g,editor:n,extraItems:B,onAttachmentsAdded:p,onClose:v,onPressVoiceClip:C,onSendMessage:q,showCreatePoll:y,showFile:e,showGif:A,showMetaCreateArt:o,showPayment:f,showSendVoiceClip:b,showSticker:z,supportedFileTypes:s,threadKey:t.threadKey},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,h,j,k){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:F,children:i.jsx(c("CometPressable.react"),{"aria-label":F,disabled:D,onHoverIn:f,onHoverOut:h,onPress:function(){if(E){u.reset();l.onReady(function(a){return a.logDeleteRecording()});G==null?void 0:G({eventName:"composer_close_audio_recorder"});return}else{G==null?void 0:G({eventName:"composer_open_overflow_menu"});return b()}},onPressIn:j,overlayDisabled:D,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?m.plusButtonMDS:m.plusButtonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsMoreActions,{fill:D?void 0:g,isRotated:E,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerSendButton.react",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWXTooltip.react","MessengerWebUXLogger","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=c("gkx")("6934");e=c("UserAgent").isPlatform("Mac OS X");var j=b?e?h._("__JHASH__rZOmP6eifIV__JHASH__"):h._("__JHASH__ylwhpFdWk4l__JHASH__"):h._("__JHASH__7975gRkNyLl__JHASH__"),k={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a,b){var e=a.color,f=a.disabled,g=a.onPress,h=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:f,label:j,onPress:function(){g(),h==null?void 0:h({eventName:"composer_send_message"})},overlayDisabled:f,overlayRadius:"50%",ref:b,testid:void 0,xstyle:function(){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsxs("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:[i.jsx("title",{children:j}),i.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:e})]})})})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MWV2ComposerStickerButton.react",["cr:1084","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:1084")}),98);
__d("useParticipantsExcludingViewer",["I64","Int64Hooks","LSMediaUrl.bs","MAWSubscribeToContactNames","MWPActor.react","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=c("useReStore")(),i=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:b,tl:0}),function(a){return[d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:a.contactId,tl:0}),f.id+":46"),a]})},[g,b]),"kvph0v28",f.id+":36"),j=h(function(){return i.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!d("I64").equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[i,e]);return h(function(){return new Map(j.map(function(a){var b=a[1];a=a[0];var c=b.isAdmin,e=d("I64").to_string(a.id),f=a.name,g=a.name;b=b.nickname;var h=d("LSMediaUrl.bs").Contact.profilePictureUrl(a);c=c!=null?c:!1;var i=a.workJobTitle,j=a.secondaryName;g={actualName:g,contactId:e,isAdmin:c,isContact:!0,jobTitle:i,name:f,nickname:b,profilePictureUrl:h,profileUrl:void 0,secondaryName:j};return[d("I64").to_string(a.id),g]}))},[j])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["CometMessengerComposerInner.react","CometPlaceholder.react","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MAWGating","MWAudioRecorder.react","MWCMThreadTypes.react","MWPColorUtils","MWPThreadTheme.bs","MWPUseVoiceRecorder","MWV2ChatHotlikeButton.react","MWV2ComposerEmojiButton.react","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerMediaStaging.bs","MWV2ComposerPersistentMenuButton.react","MWV2ComposerPlusButton.react","MWV2ComposerSendButton.react","MWV2ComposerStickerButton.react","MWV2IsTabFocusedContext.bs","MWXTooltipGroup.react","Promise","cr:3891","cr:793","gkx","react","requireDeferred","stylex","useCometUniqueID","useCurrentDisplayMode","useDeferredModuleOnReady","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWFalcoFeatureEventLogger","useParticipantsExcludingViewer","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef,k=c("requireDeferred")("MWChatAudioLog.bs").__setRef("MWV2ComposerView.react"),l=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),m=(e=b("cr:3891"))!=null?e:b("cr:793"),n={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},emojiButton:{end:"xds687c",$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},genAIButtonFDS:{end:"xjhd3uw",$$css:!0},genAIButtonMDS:{end:"x84fkku",$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function o(a){var b=c("useDeferredModuleOnReady")(l);i(function(){if(b!=null)return b(a,16)},[a,b])}function p(){k.onReady(function(a){return a.logClickStartRecording()})}function q(){k.onReady(function(a){return a.logBrowserDenyAccess()})}var r=c("gkx")("1969")?function(a){var b=d("MWPThreadTheme.bs").useHook();b=b.threadTheme;var c=d("MWPThreadTheme.bs").useBottom();return{backgroundColor:!a&&b.blurredComposerBackgroundColor?d("MWPColorUtils").int64ToHex(b.blurredComposerBackgroundColor):b.composerBackgroundColor?d("MWPColorUtils").int64ToHex(b.composerBackgroundColor):void 0,buttonColor:a?b.composerTintColor?d("MWPColorUtils").int64ToHex(b.composerTintColor):c:b.composerUnselectedTintColor?d("MWPColorUtils").int64ToHex(b.composerUnselectedTintColor):void 0,inputBackgroundColor:b.composerInputBackgroundColor?d("MWPColorUtils").int64ToHex(b.composerInputBackgroundColor):void 0}}:function(a){return null};function a(a){var e,f=a.canSendAudioClip;f=f===void 0?!0:f;var g=a.canSendFile;g=g===void 0?!0:g;var k=a.canSendGif;k=k===void 0?!0:k;var l=a.canSendPayment;l=l===void 0?!1:l;var s=a.canSendSticker;s=s===void 0?!0:s;var t=a.composerLinkPreview,u=a.editor,v=a.editorElementRef,w=a.hasStuffToSend,x=a.isMentionsPluginEnabled;x=x===void 0?!0:x;var y=a.isSendDisabled;y=y===void 0?!1:y;var z=a.localTimezoneInformation,A=a.maxAudioDuration,B=a.mediaStaging,C=a.onAttachmentRemoved,D=a.onAttachmentsAdded,E=a.onSendMessage,F=a.placeholderText,G=a.policyProduct,H=a.renderExtraOverflowMenuItems,I=a.sendMessage,J=a.supportedFileTypes,aa=a.surface;a=a.thread;k=k&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(4),a)&&!c("gkx")("1787594");var K=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType),L=d("LSMessagingThreadTypeUtil").isAiBot(a.threadType);g=g&&(K||L?!c("gkx")("1787595")&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),a):!c("gkx")("1787595"));K=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);L=d("MAWGating").isStickerEnabled()&&K;s=s&&!c("gkx")("1787596")&&(d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(3),a)||L);var M=d("MWV2IsTabFocusedContext.bs").useIsTabFocused(),N=c("useMWEntrypoint")(),O=r(M||N==="inbox"),P=d("MWPThreadTheme.bs").useBottom();e=(e=O==null?void 0:O.buttonColor)!=null?e:P;P=c("useCurrentDisplayMode")();P=P==="dark"&&K?"var(--always-white)":e;e=y||!M&&!c("gkx")("1969")?void 0:P;var Q=d("MWPUseVoiceRecorder").useVoiceRecorder(A,p,q),ba=c("useMWFalcoFeatureEventLogger")(a.threadKey,a.threadType),R=Q.state.TAG!==0;M=function(){Q.getVoiceClip().then(function(a){Q.reset();E(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0);return b("Promise").resolve()})["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Failed to send voice clip in messenger composer ");return b("Promise").reject(a)})};var S=j(null),T=c("usePrevious")(R);i(function(){if(R===!0&&T===!1){var a;(a=S.current)==null?void 0:a.focus()}},[R,S,T]);P=c("useParticipantsExcludingViewer")({threadKey:a.threadKey});A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(43),a);var U=d("Locale").isRTL(),V=c("gkx")("571"),W=V?[36,8]:[32,4],X=W[0];W=W[1];var Y=0+X|0,Z=d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);N=w||Z&&N==="inbox";var $=Y+X|0,ca=U?{right:0..toString()+"px"}:{left:0..toString()+"px"};Y=U?{right:Y.toString()+"px"}:{left:Y.toString()+"px"};var da=U?{right:$.toString()+"px"}:{left:$.toString()+"px"};U=U?{marginRight:N?V?8..toString()+"px":"0":(($+X|0)+W|0).toString()+"px"}:{marginLeft:N?V?8..toString()+"px":"0":(($+X|0)+W|0).toString()+"px"};$=c("useMWComposerAriaDescribedBy")(a);X=c("useCometUniqueID")();o(u);var ea=c("useMWEntrypoint")();W=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");ba(ea,c)};return h.jsxs("div",{className:"xuk3077 x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,style:(O==null?void 0:O.backgroundColor)!=null?{backgroundColor:O.backgroundColor}:{},children:[h.jsx(c("MWV2ComposerPlusButton.react"),{canSendAudioClip:f,canSendFile:g,canSendPayment:l,color:e,editor:u,isInputExpanded:N,onAttachmentsAdded:D,onSendMessage:E,renderExtraOverflowMenuItems:H,supportedFileTypes:J,thread:a,voiceRecorder:Q}),R?h.jsxs(h.Fragment,{children:[h.jsx(c("MWAudioRecorder.react"),{voiceRecorder:Q}),h.jsx(c("MWV2ComposerSendButton.react"),{color:e,disabled:y,onPress:M,ref:S})]}):null,h.jsxs("div",{className:c("stylex")(R?n.hidden:!1,n.container),children:[h.jsxs(c("MWXTooltipGroup.react"),{children:[h.jsx("div",{className:c("stylex")(n.button,V?n.buttonMDS:n.buttonFDS,N?n.buttonHidden:n.buttonShown,N?n.fileButtonHidden:n.fileButtonShown),style:ca,children:h.jsx(c("MWV2ComposerFileButton.react"),{color:e,disabled:!g,onAttachmentsAdded:D,supportedFileTypes:J})}),h.jsx("div",{className:c("stylex")(n.button,V?n.buttonMDS:n.buttonFDS,N?n.buttonHidden:n.buttonShown,N?n.stickerButtonHidden:n.stickerButtonShown),style:Y,children:h.jsx(c("MWV2ComposerStickerButton.react"),{color:e,disabled:!s,onSelectStickerPack:W,onSendMessage:E,useSecureSend:L})}),h.jsx("div",{className:c("stylex")(n.button,V?n.buttonMDS:n.buttonFDS,N?n.buttonHidden:n.buttonShown,N?n.gifButtonHidden:n.gifButtonShown),style:da,children:h.jsx(c("MWV2ComposerGifButton.react"),{color:e,disabled:!k,isSecureThread:K,onSendMessage:E})})]}),z!=null?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:z}):null,t!=null?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:t}):null,h.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:U,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:X,children:$}),h.jsx(c("CometMessengerComposerInner.react"),{ariaDescribedBy:X,contentEditableRef:v,editor:u,handlePastedFiles:D,isSecureThread:K,participants:P,placeholderText:F,policyProduct:G,style:{backgroundColor:O==null?void 0:O.inputBackgroundColor},threadID:d("I64").to_string(Z?a.parentThreadKey:a.threadKey),topContent:h.jsx(c("MWV2ComposerMediaStaging.bs"),{mediaStaging:B,onAttachmentRemoved:C,onAttachmentsAdded:D,supportedFileTypes:J,thread:a}),useMentionsPlugin:x&&A&&d("LSMessagingThreadTypeUtil").isGroup(a.threadType),surface:aa,testId:"chat_input:rich-input"})]}),h.jsx("div",{className:c("stylex")(R?n.hidden:!1,n.button,V?n.buttonMDS:n.buttonFDS,n.emojiButton),children:h.jsx(c("MWV2ComposerEmojiButton.react"),{color:e,editor:u})}),m!=null&&h.jsx("div",{className:c("stylex")(R?n.hidden:!1,n.button,V?n.buttonMDS:n.buttonFDS,V?n.genAIButtonMDS:n.genAIButtonFDS),children:h.jsx(m,{editor:u,threadId:a.threadKey})})]}),R?null:w?h.jsx(c("MWV2ComposerSendButton.react"),{color:e,disabled:y,onPress:I}):a.hasPersistentMenu?h.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:e,disabled:y,onSendMessage:E,thread:a}):h.jsx(c("MWV2ChatHotlikeButton.react"),{color:e,disabled:y,onSendMessage:E,thread:a})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerView=a}),98);
__d("MAWOptimisticUpdateContactRelationship.bs",["I64","LSMessagingThreadTypeUtil","ReQL.bs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)){c("promiseDone")(b.runInTransaction(function(c){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts"))),function(a){return!d("I64").equal(a[1].id,e)})).then(function(a){if(a==null)return;a=a[1];var b=babelHelpers["extends"]({},a,{contactViewerRelationship:d("I64").of_string("2")});return c.table("contacts").upsert({hd:a.id,tl:0},b)})},"readwrite"));return}}g.call=a}),98);
__d("MWMediaTraceHandler.bs",["I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:d("I64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return h(a,b).then(function(){return c("LSAppendDataTraceAddon")(b,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),d("I64").neg_one,void 0,d("I64").to_string(e)+","+d("I64").to_string(f),c("LSFactory")(a))})}g.logMediaSendStart=a}),98);
__d("MWPSendMessageLogger.bs",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend.bs").__setRef("MWPSendMessageLogger.bs");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log(a,b,c,e,f,d,g,i,j,0,0)})}g.log=a}),98);
__d("MWGetOriginalEntrypoint",["I64","InteractionTracingMetrics","LSMessagingInitiatingSource","MWChatInteraction.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("MWChatInteraction.bs").get(d("I64").to_string(a));e=e!=null?c("InteractionTracingMetrics").get(e):null;return b!=null&&d("I64").to_int32(b)===c("LSMessagingInitiatingSource").FACEBOOK_INBOX?h(e,a):i(e,a)}function h(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.inboxEntrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get("inbox_init");return a!=null&&d("I64").equal(b,d("I64").of_string(a))?"initInbox":"unknownInbox"}function i(a,b){a=a==null?void 0:(a=a.annotations.string)==null?void 0:a.entrypoint;if(a!=null)return a;a=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_AUTO_CHAT_TAB_OPEN);a=a!=null?c("InteractionTracingMetrics").get(a):null;a=(a==null?void 0:(a=a.annotations.string)==null?void 0:a.thread_id)===d("I64").to_string(b);return a?"auto_open":"unknown"}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("MWMsgMediaTypeLogUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum")({Application:"application",Audio:"audio",Avatar:"avatar",HotEmoji:"hot_emoji",File:"file",Gif:"gif",Image:"image",Link:"link",None:"none",Poll:"poll",Reaction:"reaction",Sticker:"sticker",Video:"video"});function a(a){var b=a.hasFile;b=b===void 0?!1:b;var c=a.hasGif;c=c===void 0?!1:c;var d=a.hasHotEmoji;d=d===void 0?!1:d;var e=a.hasImage;e=e===void 0?!1:e;var f=a.hasLinks;f=f===void 0?!1:f;var h=a.hasSticker;h=h===void 0?!1:h;var i=a.hasVideo;i=i===void 0?!1:i;a=a.hasVoiceClip;a=a===void 0?!1:a;var j=g.None;e?j=g.Image:i?j=g.Video:h?j=g.Sticker:c?j=g.Gif:a?j=g.Audio:d?j=g.HotEmoji:f?j=g.Link:b&&(j=g.File);return j}f.AttachmentType=g;f.getAttachmentType=a}),66);
__d("MWSharedMsgLogUtils",["$InternalEnum","I64","LSMessagingThreadTypeUtil","MAWEBSwitch","MAWLogMultipleTabs","MWGetOriginalEntrypoint","MWLinkRegex","MWMsgMediaTypeLogUtils","MWVersion.bs","URLMatcher","asyncToGeneratorRuntime","cr:1647","gkx","isStringNullOrEmpty","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({Send:"send",Reply:"reply",Forward:"forward",Share:"share",StoryReply:"story-reply"}),i=b("$InternalEnum")({Text:"text",NonText:"non-text"});function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){e.hasAttachment;var g=e.hasReply,j=e.hasStoryReply,k=e.hasText;e=babelHelpers.objectWithoutPropertiesLoose(e,["hasAttachment","hasReply","hasStoryReply","hasText"]);var l=h.Send;g?l=h.Reply:j&&(l=h.StoryReply);g=d("MWMsgMediaTypeLogUtils").getAttachmentType(e);j=k&&(!g||g===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;e=!1;b("cr:1647")!=null&&(e=(yield b("cr:1647").isCutoverThreadKey(a.threadKey)));return{bool:{is_cutover:e,is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_message_request:d("LSMessagingThreadTypeUtil").isMessageRequest(a),is_pdb_enabled:Boolean(c("gkx")("6543")),is_secure:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{action_type:l,attachment_type:g,message_type:j,mw_version:d("I64").to_string(d("MWVersion.bs").v2),original_entrypoint:c("MWGetOriginalEntrypoint")(a.threadKey,f),thread_id:d("I64").to_string(a.threadKey),thread_subtype:a.threadSubtype!=null?d("I64").to_string(a.threadSubtype):null,thread_type:d("I64").to_string(a.threadType)}}});return j.apply(this,arguments)}function e(a,e,f,g){var j=e.hasFile;j=j===void 0?!1:j;var k=e.hasGif;k=k===void 0?!1:k;var l=e.hasHotEmoji;l=l===void 0?!1:l;var m=e.hasImage;m=m===void 0?!1:m;var n=e.hasLinks;n=n===void 0?!1:n;var o=e.hasReply;o=o===void 0?!1:o;var p=e.hasSticker;p=p===void 0?!1:p;var q=e.hasStoryReply;q=q===void 0?!1:q;var r=e.hasText;r=r===void 0?!1:r;var s=e.hasVideo;s=s===void 0?!1:s;e=e.hasVoiceClip;e=e===void 0?!1:e;var t=h.Send;o?t=h.Reply:q&&(t=h.StoryReply);o=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:j,hasGif:k,hasHotEmoji:l,hasImage:m,hasLinks:n,hasSticker:p,hasVideo:s,hasVoiceClip:e});q=r&&(!o||o===d("MWMsgMediaTypeLogUtils").AttachmentType.None)?i.Text:i.NonText;d("MAWLogMultipleTabs").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotation("attachment_type",o);a.addAnnotation("action_type",t);a.addAnnotation("message_type",q);a.addAnnotation("original_entrypoint",c("MWGetOriginalEntrypoint")(f.threadKey,g));a.addAnnotation("thread_id",d("I64").to_string(f.threadKey));a.addAnnotation("thread_type",d("I64").to_string(f.threadType));f.threadSubtype!=null&&a.addAnnotation("thread_subtype",d("I64").to_string(f.threadSubtype));b("cr:1647")!=null&&c("promiseDone")(b("cr:1647").isCutoverThreadKey(f.threadKey),function(b){a.addAnnotationBoolean("is_cutover",b)});a.addAnnotationBoolean("is_secure",d("LSMessagingThreadTypeUtil").isSecure(f.threadType));a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addAnnotationBoolean("use_maw_shared_worker",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker());a.addAnnotationBoolean("is_pdb_enabled",Boolean(c("gkx")("6543")))}function f(a,b,e,f,g,h,i){var j=!c("isStringNullOrEmpty")(a),k=!1;a!=null&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0&&(k=!0);a=!1;h=h!=null;h?a=!0:g!=null&&(a=!0);var l=!1,m=!1,n=!1;if(i!=null&&i.length>0){a=!0;for(i of i){var o=i.mimeType;o.indexOf("image")!==-1&&(l=!0);o.indexOf("video")!==-1&&(m=!0);o.indexOf("application")!==-1&&(n=!0)}}o=b!=null;i=e!=null;b=e!=null;e=f!=null;f=!e&&g!=null;return{hasAttachment:a,hasFile:n,hasGif:f,hasHotEmoji:o,hasImage:l,hasLinks:k,hasReply:i,hasSticker:e,hasStoryReply:b,hasText:j,hasVideo:m,hasVoiceClip:h}}g.ActionType=h;g.MsgType=i;g.getSharedMetadataForQPLUserFlow=a;g.addSharedMetadataForInteractionTrace=e;g.getMessageTypeParams=f}),98);
__d("MWV2SendOpenMessage",["ArmadilloDataTraceCheckPoint.bs","I64","Int64Hooks","LSAppendDataTraceAddon","LSAuthorityLevel","LSFactory","LSFlushDataTrace.bs","LSGenerateTraceId","LSInsertNewMediaSend","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType","LSMarkSubJobCompletedV2","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSOptimisticSendMessageV2","LSShape","LSThreadBitOffset","LSVec","MAWDualSendPermissionsManager","MAWOptimisticUpdateContactRelationship.bs","MWCMThreadTypes.react","MWChatInteraction.bs","MWConsole","MWLSLogSend.bs","MWMediaTraceHandler.bs","MWPActor.react","MWPComposerMediaUploadUtil","MWPOpenComposerUtils.bs","MWPReplyContext.bs","MWPSendMessageLogger.bs","MWSharedMsgLogUtils","MWVersion.bs","MessagePowerUp","MessageRequestsLog","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","OfflineThreadingId","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWLSUpdateDraftMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler.bs").logMediaSendStart(a,b,c,d("I64").of_int32(e)))});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("2517")&&(yield c("LSAppendDataTraceAddon")(e,d("ArmadilloDataTraceCheckPoint.bs").armadilloTlcControlOpenThread,d("I64").minus_one,void 0,b,c("LSFactory")(a)))});return l.apply(this,arguments)}function m(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.table("attachments")).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,e,f,g){var j=c("useReStore")(),l=d("MWPActor.react").useActor(),n=h(d("MWPReplyContext.bs").MWPReplyContext),o=n.clearReply,p=n.reply,q=c("useLSMessagingInitiatingSource")(),r=d("MAWDualSendPermissionsManager").useIsThreadEligible(a.threadKey,a.threadType),s=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(40),a);n=a.threadSubtype;n={isCutover:(!1).toString(),isSecure:(!1).toString(),thread_id:d("I64").to_string(a.threadKey),thread_subtype:n&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(n)?d("I64").to_string(n):"",thread_type:d("I64").to_string(a.threadType)};var t=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,n),u=c("useCometInteractionTracing")(c("qpl")._(25313175,"1551"),"fast","INTERACTION",void 0,n),v=c("useMWLSDefaultThreadSource")(),w=c("useMWLSUpdateDraftMessage")();return d("Int64Hooks").useCallbackInt64(function(h,n,x,y,z,A,B,C,D,E){var F=d("LSMessagingThreadTypeUtil").isMessageRequest(a);return t(function(t){u(function(u){var G=function(a){[t,u].forEach(function(b){a(b,b===u)})},H=v(a.threadKey),I={contents:!0},J=c("LSGenerateTraceId")(),K={contents:1},L={initiatingSource:q,isDualSend:r,isMessageRequest:F,mwVersion:d("MWVersion.bs").v2,threadType:a.threadType};c("promiseDone")(w(a.threadKey,""));c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=c("LSFactory")(e),r=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.table("media_staging")).filter(function(b){return!b.isSent&&d("I64").equal(b.threadKey,a.threadKey)}))),t=d("MWSharedMsgLogUtils").getMessageTypeParams(h,y,p,x,A,C,r);G(function(b){d("MWSharedMsgLogUtils").addSharedMetadataForInteractionTrace(b,t,a,q)});if(C==null){var u=n!=null?d("LSShape").ofRecord({mention_ids:n.map(function(a){return a.id}).join(","),mention_lengths:n.map(function(a){return String(a.length)}).join(","),mention_offsets:n.map(function(a){return String(a.offset)}).join(","),mention_types:n.length!==0?n.map(function(a){return a.type}).join(","):void 0}):void 0,v=t.hasAttachment,w=t.hasGif,F=t.hasLinks,M=t.hasSticker,N=t.hasText;M?K.contents=4:w&&(K.contents=6);var O=c("gkx")("7566");G(function(a){return a.addMarkerPoint("before_create_optimistic_message","AppTiming")});var P;if(N||M||w){yield k(e,d("I64").to_string(a.threadKey),J);P=(yield c("LSOptimisticSendMessageV2")(l,a.threadKey,a.threadType,d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),h,void 0,d("LSShape").ofRecord({attribution_app_id:z,calculate_denormalizations:!1,data_trace_id:J,external_attachment_url:A,hot_emoji_size:y,initiating_source:q,mark_read:d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:u,optimistic_attachment_preview:B,platform_token:D,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,skip_url_preview_gen:g,source:H,sticker_id:x,text_has_links:F&&O}),o));G(function(a){return a.addMarkerPoint("create_optimistic_message_success","AppTiming")});v||G(function(a,b){var c=P[0];d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(c):c,L)});f!=null&&f({TAG:0,hasMention:n!=null&&n.length>0,isGIF:w,isReply:!!(p&&p.messageId!==""),isSticker:M,isText:N,offlineThreadingId:P[0]});u=P[0];E!=null&&E(u)}else E!=null&&E();if(r.length===0){d("MWPSendMessageLogger.bs").log(j,a.threadKey,a.threadType,l,(F=P)==null?void 0:F[0],[],H,K.contents,p!=null);return}O=r[0];K.contents=d("MessagingLoggingUtils").convertI64ToAttachmentType(O.attachmentType);var Q=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(r,s);v=function*(h){var m=Q[h],b=c("LSGenerateTraceId")(),n=(yield c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make(m.map(d("LSShape").ofRecord)),void 0,o)),g=n[0];h===0&&G(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(g):g,L)});yield e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:g,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:d("I64").of_string(g),threadAttributionSource:H,threadKey:a.threadKey});f!==void 0&&f({TAG:2,numberOfAttachments:m.length,offlineThreadingId:g});yield i(e,b,d("I64").of_int32(m.length),K.contents);n=function*(f){var b=m[f];yield c("LSInsertNewMediaSend")(b.attachment_fbid,g,d("I64").of_int32(f),b.attachment_type,!1,!1,!1,!1,o);f=r.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(f!=null){var h=f.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2")(b.attachment_fbid,h,void 0,void 0,void 0,o),yield d("MWPOpenComposerUtils.bs").deleteMediaStaging(e,b.attachment_fbid),yield d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,g,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:d("I64").to_string(h)})}))}I.contents=!1;yield d("MWPOpenComposerUtils.bs").updateMediaStaging(e,b.attachment_fbid,function(a){return{attachmentType:a.attachmentType,durationMs:a.durationMs,fbid:a.fbid,filename:a.filename,fileSize:a.fileSize,hasError:a.hasError,isSent:!0,mailboxType:a.mailboxType,mimeType:a.mimeType,offlineAttachmentId:a.offlineAttachmentId,offlineThreadingId:a.offlineThreadingId,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewWidth:a.previewWidth,progress:a.progress,threadKey:a.threadKey}});c("gkx")("184")&&(yield d("MWPOpenComposerUtils.bs").updateAttachment(e,a.threadKey,g,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))};for(h=0;h<m.length;h++)yield* n(h);d("MWPSendMessageLogger.bs").log(j,a.threadKey,a.threadType,l,g,m.map(function(a){return a.attachment_fbid}),H,K.contents,p!=null);yield d("MWPOpenComposerUtils.bs").resumeSendJob(o,g,b);yield k(e,d("I64").to_string(a.threadKey),b);yield d("LSFlushDataTrace.bs").updateAndFlushTrace(e,b)};for(w=0;w<Q.length;w++)yield* v(w);M=d("I64").to_string(a.threadKey);N=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[M,null]:[null,M];var R=N[0],S=N[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:I.contents?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:S,thread_fbid:R}});return}var T=d("OfflineThreadingId").createOfflineThreadingID(),U=d("MWPComposerMediaUploadUtil").getAudioAttachment(T,C.file,C.duration,C.waveformData);yield i(e,J,d("I64").one,2);u=(yield c("LSLocalApplyOptimisticMessageWithAttachments")(l,a.threadKey,a.threadType,void 0,void 0,void 0,void 0,p==null?void 0:p.messageId,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,p!=null?d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,void 0,c("LSVec").make([d("LSShape").ofRecord(U)]),void 0,o));var V=u[0];G(function(a,b){d("MWLSLogSend.bs").logSentHeroInteraction(a,b?d("MWChatInteraction.bs").s2sKey(V):V,L)});yield e.table("messages_optimistic_context").add({externalAttachmentUrl:void 0,initiatingSource:q,markThreadRead:!1,messageId:void 0,offlineThreadingId:V,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:g,taskId:d("I64").of_string(V),threadAttributionSource:H,threadKey:a.threadKey});f!=null&&f({TAG:1,offlineThreadingId:V});yield c("LSInsertNewMediaSend")(T,V,d("I64").zero,U.attachment_type,!1,!1,!1,!1,o);F=function(e,f){c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2")(T,d("I64").of_float(f),void 0,void 0,void 0,b);yield d("MWPOpenComposerUtils.bs").resumeSendJob(b,V,J);m(U.playable_url,f,j,a.threadKey)});return function(a){return e.apply(this,arguments)}}(),"readwrite")),d("MWPSendMessageLogger.bs").log(j,a.threadKey,a.threadType,l,V,[d("I64").to_string(d("I64").of_float(f))],H,d("MessagingLoggingUtils").convertI64ToAttachmentType(U.attachment_type),p!=null)};d("MWPComposerMediaUploadUtil").startUpload(void 0,F,void 0,!0,[C.file],[T],void 0,void 0,C.waveformData)});return function(a){return e.apply(this,arguments)}}(),"readwrite","ui"),function(){e(),o(a.threadKey,!1),d("MAWOptimisticUpdateContactRelationship.bs").call(a,j,l),F&&d("MessageRequestsLog").logActionConfirmed(a,1)})})})},[a,t,u,v,q,r,w,j,l,p,g,f,s,e,o])}g.useOnSendOpenMessage=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicator","MWCMIsAnyCMThread","MWPActor.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(d("I64").equal(e,d("LSIntEnum").ofNumber(1))&&!d("I64").equal(b,f)){b=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts").index("blockedByViewerStatusId")).getKeyRange(d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!d("I64").equal(b.contactId,f)})));return b!=null}else return!c("MWCMIsAnyCMThread")(e)});return i.apply(this,arguments)}function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(g){if(!d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;var i=h(b,a.threadKey,a.threadType,e).then(function(e){if(e){f==null?void 0:f({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicator")(a.threadKey,d("LSMessagingThreadTypeUtil").isGroup(a.threadType),g,c("LSFactory")(b))},"readwrite")}});c("promiseDone")(i)},[a.authorityLevel,a.threadKey,a.threadType,b,e,f])}g["default"]=a}),98);
__d("useMWOnTypingStateChanged",["JSScheduler","MWChatViewerChatVisibilityHook","gkx","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=function(a){return void 0};function a(a){var b=c("useOnTypingStateChanged")(a),d=c("MWChatViewerChatVisibilityHook")();return h(function(){return d?c("gkx")("8385")?function(a){c("JSScheduler").scheduleLoggingPriCallback(function(){return b(a)})}:b:i},[b,d])}g["default"]=a}),98);
__d("MWV2OpenComposer.react",["MWMediaManager.bs","MWPComposerEditor.bs","MWPReplyContext.bs","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWV2FileDropzone.react","MWV2SendOpenMessage","WebUXLoggingSurfaceContextProvider","emptyFunction","react","useMWOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useImperativeHandle;function a(a){var b=a.isPreviewThread,e=a.thread,f=a.afterSendMessage;f=f===void 0?c("emptyFunction"):f;a=a.onSendEmptyMessage;a=a===void 0?c("emptyFunction"):a;var g=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext),k=i(d("MWPReplyContext.bs").MWPReplyContext);k=k.reply;var l=d("MWMediaManager.bs").useMediaManager(e),m=l.handleFileRemove,n=l.handleFileSelect,o=l.mediaStaging,p=d("MWV2SendOpenMessage").useOnSendOpenMessage(e,f,void 0,!1);l=c("useMWOnTypingStateChanged")(e);j(g,function(){return{enabled:!0,handler:n}},[n]);return h.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:h.jsxs("div",{children:[k!=null?h.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:k.messageId,messageTimestamp:k.timestampMs,thread:e}):null,h.jsx(d("MWPComposerEditor.bs").MWPComposerEditor,{isPreviewThread:b,mediaStaging:o,onSendEmptyMessage:a,onSendMessage:p,onTypingStateChanged:l,thread:e,children:function(a,b,c,f){return h.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:a,editorElementRef:c,hasStuffToSend:b,mediaStaging:o,onAttachmentRemoved:m,onAttachmentsAdded:n,onSendMessage:p,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:e})}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover.bs","MWBlockedComposerLogging","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a.threadKey):d("ReQL").empty()},[b,a],f.id+":35"),g=d("MAWThreadCutover.bs").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(128),a);if(g&&(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)||e!=null))return h.jsx(i,{reason:e!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2});f["default"]=a}),66);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.height;return h.jsx("div",{className:"xzg4506",style:{height:a.toString()+"px"}})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(i,{height:a}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MwbActorExperienceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3231");b=d("FalcoLoggerInternal").create("mwb_actor_experience_event",a);e=b;g["default"]=e}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MwbActorExperienceEventFalcoEvent","ReQL","ReQLSuspense","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function l(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType);a=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:d("LSIntEnum").toNumber(a)}function n(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),o=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":95"),p=m(o),q=l(a),r=d("I64").to_string(a.threadKey);j(function(){p!==c("LSContactReachabilityStatusType").REACHABLE&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:n(p),surface:q,thread_id:r}})},[r,p,q]);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&o!=null){var s=c("MWGetLSThreadReportingTokenFromThread")(a),t=!d("I64").equal(o.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(p!==c("LSContactReachabilityStatusType").REACHABLE){var u=h._("__JHASH__fhugwjm3lRF__JHASH__");return i.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:i.jsx(k,{fbid:d("I64").to_string(o.id),isReachable:!1,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,reportingToken:void 0,thread:a,unreachableTitle:u})})}if(t)return i.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:i.jsx(k,{fbid:d("I64").to_string(o.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:s,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.react","MessagePowerUp","promiseDone","react","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=c("useLSMessagingSource")();return h(function(f,g,h){c("promiseDone")(a.runInTransaction(function(a){var i=d("LSThreadAttributionTypeUtil.bs").getSource(f,e);return c("LSOptimisticSendMessageV2")(b,f,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),g,g,d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:h,power_up_style:d("LSIntEnum").ofNumber(c("MessagePowerUp").NONE),reply_source_type:d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:i}),c("LSFactory")(a))},"readwrite"))},[a,e,b])}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","ix","I64","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXLazyPopoverTrigger.react","fbicon","react","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.bs").__setRef("MWV2DisabledPageComposer.react");function a(a){a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var b=c("useMWV2DisabledPageComposerSendMenuItem")(),e=a.threadKey,f=function(a){var c=a.title;a=a.id;if(a!=null)return b(e,c,a)};return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){},onSelect:f,pageId:d("I64").to_string(a.threadKey)},popoverResource:k,children:function(a,b){return j.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou",ref:a,children:j.jsx(c("MWXButton.react"),{icon:d("fbicon")._(i("512876"),16),label:h._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return h.jsx(c("MWV2DisabledPageComposer.react"),{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MAWGating","MWLSFeatureLimitedStatus.bs","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPFeatureLimitsBlockedComposer.react").__setRef("useMWPFeatureLimitsBlockedComposerConfiguration"));function a(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!b||d("MAWGating").isFeatureLimitEnabled());if(b)return h.jsx(i,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSIntEnum","LSNullstateCTAType","LSThreadBitOffset","MWBlockedComposerLogging","MWPreloadedText","ReQL","ReQLSuspense","justknobx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function j(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}a=function(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("thread_nullstate")).getKeyRange(a.threadKey)},[b,a.threadKey],f.id+":47"),g=i(c("MWPreloadedText"));e=e!=null&&d("I64").equal(e.ctaType,d("I64").of_float(c("LSNullstateCTAType").GET_STARTED))&&!g.text;g=!d("I64").equal(a.lastActivityTimestampMs,d("I64").zero);var k=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(44),a),l=c("justknobx")._("926");if(e&&!g||!l&&k)return h.jsx(j,{reason:k?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,thread:a})};g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWPComposerPlaceholder.react","ReQL","ReQLSuspense","gkx","lazyLoadComponent","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),j=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":40");if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&j!=null){var k;k=c("gkx")("735")&&((k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),j))!=null?k:!1);if(k)return h.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:h.jsx(i,{fbid:d("I64").to_string(j.id),thread:a,threadKey:a.threadKey})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.bs","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("I64").equal(e,a.threadKey),i=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.table("contacts"))).filter(function(a){a[0];a=a[1];return g||!d("I64").equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":34");if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&i!=null){var j,k;j=(j=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(0),i))!=null?j:!0;k=(k=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(1),i))!=null?k:!0;var l=d("I64").equal(i.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE));l=!l&&(!j||!k);if(i.blockedSinceTimestampMs==null&&l)return h.jsx(c("MWChatUnavailableComposer.bs"),{reason:j?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:6437","emptyFunction","react","useMWCutoverComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPFeatureLimitsBlockedComposerConfiguration","useMWPNullComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPUnavailableComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").memo;function j(a){return[c("useMWPNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPFeatureLimitsBlockedComposerConfiguration")(a),c("useMWCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPUnavailableComposerConfiguration")(a)]}function a(a){var e=a.afterSendMessage,f=a.isPreviewThread,g=a.onSendEmptyMessage;g=g===void 0?c("emptyFunction"):g;a=a.thread;var i=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);if(b("cr:6437")!=null&&i)return h.jsx(b("cr:6437"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a});else return h.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:e,isPreviewThread:f,onSendEmptyMessage:g,thread:a})}var k=i(a);function e(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=j(f);return h.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:function(){return h.jsx(k,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.afterSendMessage,d=a.isPreviewThread,e=a.onSendEmptyMessage,f=a.thread;a=j(f);return h.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return h.jsx(k,{afterSendMessage:b,isPreviewThread:d,onSendEmptyMessage:e,thread:f})},thread:f})}l.displayName=l.name+" [from "+f.id+"]";g.MWChatComposerGating=e;g.MWInboxComposerGating=l}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:738","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";e=(c=b("cr:738")==null?void 0:b("cr:738").MWPAudioPlaybackContextProvider)!=null?c:a;d=e;g["default"]=d}),98);
__d("MWV2ChatTab.react",["CometErrorBoundary.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJID","MAWInThreadBannerNuxReqCondWrapper.bs","MAWThreadCutover.bs","MWChatConnectionStatusCard.react","MWChatEncryptedBackupsUpsellWrapper.react","MWChatInteraction.bs","MWChatStateContext","MWChatTabInThreadBanner.react","MWOpenAndSecureThreadView.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThreadIsPage.react","MWPThreadTheme.bs","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.react","MWV2ComposerHasContentContext.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.react","MWV2TabContainer","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:1113","cr:6111","emptyFunction","gkx","promiseDone","react","useC4gEngagementImpressionLogging","useMWV2EnsureThatChatTabExists","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.memo,j=e.useRef,k=(e=b("cr:1113"))!=null?e:c("emptyFunction");function l(a){var e=a.tab;a=a.thread;var f=a.themeFbid,g=a.threadKey,i=a.threadSubtype,l=a.threadType;k({groupThreadSubtype:i,threadKey:g,threadType:l});c("useC4gEngagementImpressionLogging")({threadKey:g,threadType:l});i=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(167),a);var m=!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(56),a);l=d("LSMessagingThreadTypeUtil").isSecure(l);var n=j({getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction")}),o=d("MWChatStateContext").useChatState(function(a){return a.focusedTabId});o=h.jsxs(h.Fragment,{children:[e.tabId!==o?null:h.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:a}),l?h.jsx(c("MAWInThreadBannerNuxReqCondWrapper.bs"),{thread:a}):null,h.jsx(c("MWChatConnectionStatusCard.react"),{}),h.jsx(c("MWChatTabInThreadBanner.react"),{thread:a}),h.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:m,thread:a,children:[h.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",messageListRef:n,thread:a}),h.jsx(c("CometErrorBoundary.react"),{fallback:function(){return h.jsx(c("MWV2ErrorComposer.bs"),{})},children:h.jsx(c("MWV2ChatTabComposer.bs"),{afterSendMessage:function(){var a;(a=n.current)==null?void 0:a.jumpToMostRecentMessage()},isPreviewThread:!1,tab:e,thread:a})})]})]});m=b("cr:6111")!=null&&i?h.jsx(b("cr:6111"),{tab:e,thread:a,children:o}):null;return h.jsx(d("MWPThreadTheme.bs").MWPThreadTheme,{themeFbid:f,children:h.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:g,children:h.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:g,children:h.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:h.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(d("MWV2ComposerHasContentContext.bs").MWV2ComposerHasContentContextProvider,{children:m!=null?m:h.jsxs(c("MWV2TabContainer"),{tab:e,threadKey:a.threadKey,children:[h.jsx(c("MWV2ChatTabHeader.react"),{tab:e,thread:a}),l?h.jsx(c("MWChatEncryptedBackupsUpsellWrapper.react"),{children:o}):o]})})})})})})})})}l.displayName=l.name+" [from "+f.id+"]";var m=function(a,b){var e=(d("MAWThreadCutover.bs").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(128),b))&&c("gkx")("7595");b=d("MAWThreadCutover.bs").useGetCutoverSecureThreadKey(d("I64").to_string(a));var g=c("gkx")("7595")?b:null,h=c("useReStore")();d("Int64Hooks").useEffectInt64(function(){if(!e)return;if(g==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(h,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJID")(a,c("LSFactory")(b))},"readwrite"));else{var b=d("MWChatInteraction.bs").get(d("I64").to_string(a));b!=null&&(d("MWChatInteraction.bs").set(g,b),c("InteractionTracingMetrics").addMetadata(b,"thread_id",g),c("InteractionTracingMetrics").addMetadata(b,"thread_type",15..toString()),c("InteractionTracingMetrics").addMetadata(b,"isSecure","true"),c("InteractionTracingMetrics").addMetadata(b,"redirectedFromPreCutover",1))}},[g,h,e,a]);b=d("ReQLSuspense").useFirst(function(){return g!=null?d("ReQL").fromTableAscending(h.table("threads")).getKeyRange(d("I64").of_string(g)):d("ReQL").empty()},[h,g],f.id+":256");return b};function a(a){var b=a.tab;a=a.threadKeyDescriptor;var e=c("useReStore")(),g=a.threadKey,i=a.clientThreadKey;c("useMWV2EnsureThatChatTabExists")({threadKey:g,threadType:a.threadType});a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(g)},[e,g],f.id+":285");var j=d("ReQLSuspense").useFirst(function(){return i!=null?d("ReQL").fromTableAscending(e.table("threads").index("clientThreadKey")).getKeyRange(i):d("ReQL").empty()},[e,i],f.id+":289"),k=m(g,a);a=(k=(k=k)!=null?k:a)!=null?k:j;return a!=null?h.jsx(l,{tab:b,thread:a}):null}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","Int64Hooks","LSClearCommunityMembersAndRange","LSFactory","LSIssueCommunityMemberListFetch","LSVec","MWChatComposerMentionsViewItem.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=e.useRef,m={view:{minWidth:"x1jzhcrs",$$css:!0}};function n(a,e,g){var h=c("useReStore")(),j=l(""),k=l([]),m=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(h.table("community_members").index("communitySource")).getKeyRange(a,d("I64").of_int32(8),c("pageID")).take(6).map(function(a){var b,c;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.table("contextual_profile_v1")).getKeyRange(a.contactId,g),f.id+":79"))==null?void 0:b.profileName;return{key:d("I64").to_string(a.contactId),label:(c=b)!=null?c:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:b!=null?a.name:a.subtitle},type:"entry"}})},[h,a,g],f.id+":68"),n=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield h.runInTransaction(function(a){return c("LSClearCommunityMembersAndRange")(d("I64").of_int32(8),c("pageID"),c("LSFactory")(a))},"readwrite"),yield h.runInTransaction(function(f){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").make([d("I64").of_int32(0)]),!1,!1,"","",d("I64").of_int32(8),d("I64").of_string(e),b,c("LSVec").make([]),void 0,c("pageID"),c("LSFactory")(f))},"readwrite")});return function(a){return f.apply(this,arguments)}}(),[h,a,e]),o=i(function(a){return new(b("Promise"))(function(b){(a.query!==j.current||a.query==="")&&(j.current=a.query,c("promiseDone")(n(j.current))),m.length!==0&&(k.current=m),b({entries:m.length===0?k.current:m,params:a})})},[m,n]);return{bootstrap:function(){},fetchCache:void 0,fetchNetwork:o}}function o(a,b,e){var f=n(a,b,e);e=k(function(){return[{dataSource:f,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d("I64").to_string(a),b,f]);return c("useCometMentionsDataSourceResolverConfig")(e,!1)}function a(a){var b=a.editor,e=a.fbGroupId,f=a.folderId;a=a.threadFBID;e=o(e,a,f);a=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:m.view});var g=d("useCommunityMembers").useClearMemberList(8);j(function(){return function(){c("promiseDone")(g(c("pageID")))}},[g]);return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerStickerButtonLegacy.react",["CometPressable.react","JSResourceForInteraction","MWChatComposerIcons.bs","MWV2ComposerStickerCommon","MWXLazyPopoverTrigger.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButtonLegacy.react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=a.onSelectStickerPack,g=a.onSendMessage;a=a.useSecureSend;g=c("useMWV2ComposerOnStickerSelect")(g,a);var k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return h.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{className:"x1fepime",onSelectStickerPack:f,onStickerSelect:g,shouldAlwaysShowAvatarPack:a,shouldHideDefaultPacks:a},popoverResource:i,position:"above",children:function(a,f,g,i,l,m,n){return h.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:h.jsx(c("CometPressable.react"),{"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:e,onHoverIn:i,onHoverOut:l,onPress:function(){f(),k==null?void 0:k({eventName:"composer_open_sticker_picker"})},onPressIn:m,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:h.jsx(d("MWChatComposerIcons.bs").MWChatComposerIconsSticker,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandToRangeType=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return i({handle:a.handle})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:c("cometMentionsDataEntryText")(a)})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={view:{minWidth:"x1jzhcrs",$$css:!0}},k=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new k(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react"),viewXStyle:j.view});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSContextBannerQuickActionsIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("497885"),20);b=d("fbicon")._(h("477826"),20);c=d("fbicon")._(h("485091"),20);e=d("fbicon")._(h("481761"),20);f=d("fbicon")._(h("484396"),20);g.AddPeople=a;g.EditName=b;g.Members=c;g.Link=e;g.Share=f}),98);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon,d=a.label;a=a.threadKey;var e=c("useMWCMEditChatInfoDialogEntrypoint")(a);return h.jsx(c("MWXCircleButton.react"),{icon:b,label:d,onPress:function(){return e()},size:36})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MDSCircleButton.react","MWContextBannerQuickActionsIcons.bs","MWPBumpEntityKey","MWVerticalRhythm","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k=h._("__JHASH__6ygymPD56Yw__JHASH__"),l=h._("__JHASH__NNt0oNKP6tq__JHASH__");function a(a){a=a.threadInviteLink;a=c("useCopyText")({value:a});a[0];a[1];var b=a[2];a=j(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),b(),d("cometPushToast").cometPushSimpleToast(l)},[b]);return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsLink,label:k,onPress:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSharePublicChatQuickAction.react",["fbt","MDSCircleButton.react","MWChannelInviteDialog.entrypoint","MWContextBannerQuickActionsIcons.bs","MWVerticalRhythm","MWXText.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__zzzD0_ypABg__JHASH__");function a(a){var b=a.thread;a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),{});var e=a[0];return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsShare,label:j,onPress:function(){e({channelThread:b})},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:j})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","JSResourceForInteraction","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MDSCircleButton.react","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMIsAnyCMThread","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWContextBannerQuickActionsIcons.bs","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.bs","MWInboxInfoMembersSection.react","MWInboxInfoQuickActionIcons","MWInboxPersistedUIState","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXText.react","emptyFunction","justknobx","promiseDone","react","useCometLazyDialog","useCommunityFolder","useCommunityMembers","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useMemo,k=b.useRef,l=h._("__JHASH__4Z6iwQf0KqP__JHASH__"),m=h._("__JHASH__a3y4zGfm_2Z__JHASH__");function a(a){var b=a.thread;a=k(null);var e=c("useCommunityFolder")(b),f=c("MWCMIsAnyCMThread")(b.threadType),g=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),n=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),o=d("useCommunityMembers").useClearMemberList(),p=j(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(120),b),d("LSCommunityBitOffset").has(d("LSIntEnum").ofNumber(17),e),e.fbGroupId];else return[void 0,!1,!1,d("I64").zero]},[f,e,b]),q=p[0],r=p[1];p=p[2];q=f&&d("I64").equal((q=q)!=null?q:d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").ENABLED),d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var s=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSection.react").storageKey),t=s[0];s=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var u=s[0];s=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWContextBannerQuickActions.react"));var v=s[0];s=j(function(){return[f?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),f?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&g?h._("__JHASH__1cAdDa3Rt1T__JHASH__"):h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[g,f,e]);var w=s[0],x=s[1];s=s[2];var y=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(60),b),z=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(81),b),A=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(27),b),B=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(26),b),C=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(108),b),D=y&&z&&c("justknobx")._("1115");return i.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!q?r?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:c("MWInboxInfoQuickActionIcons").Invite,label:l,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return u({fbThreadId:d("I64").to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})]}):i.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsLink,label:w,onPress:b,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})}}):null,!f&&n&&C&&d("I64").equal(b.threadInvitesEnabledV2,d("LSIntEnum").ofNumber(1))?i.jsxs(i.Fragment,{children:[b.threadInviteLink!=null&&i.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&i.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&A?i.jsx(c("MWGroupLimitContainer.bs"),{groupLimitReachedContent:null,thread:b,children:i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:w,thread:b}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]})}):null,n&&D?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWEditChannelDialogTrigger.react"),{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsEditName,label:m,onPress:function(){return a()},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:m})]}):null,!f&&y&&!D?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWEditThreadNameDialogTrigger.react"),{thread:b,children:function(a,b){return i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsEditName,label:x,onPress:function(){return a()},ref:b,size:36})}}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:x})]}):null,f&&z&&!q&&p?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsEditName,label:m,threadKey:b.threadKey}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:m})]}):c("justknobx")._("1116")?null:B?i.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[i.jsx(c("MDSCircleButton.react"),{icon:d("MWContextBannerQuickActionsIcons.bs").MWContextBannerQuickActionsIconsMembers,label:s,onPress:function(){return v({folder:e},function(){f&&!t&&c("promiseDone")(o())})},ref:a,size:36}),i.jsx(c("MWVerticalRhythm"),{height:8}),i.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:s})]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExists","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useEffect,l=e.useState;function m(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function n(a){var e=a.memberRequests,f=a.setWasClosed;a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var g=a.isExpanded,k=a.isOnMemberRequestsPageRef,l=a.pushMemberRequestsPage,n=a.setIsExpanded,o=a.setShouldNavToMemberRequests;return j.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){k.current!==!0&&(g===!0?l():(o(!0),n(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:m(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var e=a.thread;a=l(!1);var g=a[0],h=a[1],i=c("useReStore")(),m=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(i.table("group_membership_approval_requests")).getKeyRange(e.threadKey).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.table("contacts")).getKeyRange(a.contactId),f.id+":179");return[a,b]})},[i,e.threadKey],f.id+":174"),o=m.length,p=c("usePrevious")(o);a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var q=a.isOnMemberRequestsPageRef;k(function(){q.current!==!0&&p!==null&&o>p&&h(!1)},[o,p,h,q]);k(function(){var a=m.map(function(a){return a[0].contactId});c("promiseDone")(i.runInTransaction(function(e){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a,d("LSIntEnum").ofNumber(c("LSContactIdType").FBID),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactType").USER),void 0,void 0,void 0,void 0,!1,!1,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),void 0,!1,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),void 0,void 0,d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").UNKNOWN),void 0,c("LSFactory")(e))}))},"readwrite"))},[i,m]);return!g&&m.length>0?j.jsx(n,{memberRequests:m,setWasClosed:h}):null}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),c=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(66),a);return c&&b?j.jsx(o,{thread:a}):null}p.displayName=p.name+" [from "+f.id+"]";function a(a){a=a.thread;return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(p,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("acceptMAWMessageRequest",["I64","LSAddMessengerContact","LSFactory","LSOptimisticAcceptMessageRequest","MAWUpdateLSThreadCapabilities","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e,f,g){if(!g||f==null)return;var h=f[1],i=babelHelpers["extends"]({},h,{contactViewerRelationship:d("I64").of_string("2")});c("promiseDone")(a.runInTransaction(function(a){return b("Promise").all([a.table("contacts").upsert({hd:h.id,tl:0},i),c("LSAddMessengerContact")(h.id,c("LSFactory")(a)),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e.threadKey),c("LSOptimisticAcceptMessageRequest")(e.threadKey,void 0,c("LSFactory")(a))])},"readwrite"))}g["default"]=a}),98);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","MercuryTimestamp","ReQL","ReQLSuspense","gkx","react","requireDeferred","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWMessageSeenCountTooltip.react"),m=c("gkx")("571")?3:11,n=function(a){var b,e=a.message,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("community_chat_message_seen_count")).getKeyRange(e.threadKey,e.messageId)},[g,e.threadKey,e.messageId],f.id+":54");var n=(b=d("MWLSThread").useThread(e.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,o=a?d("I64").to_int32(a.seenCount):null,p=d("I64").to_string(e.threadKey);b=j(function(){if(!n)return;l.onReady(function(a){return a.log(function(){return{action:2,action_name:2,event:16,event_name:16,parent_surface:m,parent_surface_name:m,source:15,source_name:15,surface:7,surface_name:7,thread_id:p}})})},[n,p]);var q=c("useSinglePartialViewImpression")({onImpressionStart:b});return k(function(){var a=e.isUnsent,b=e.timestampMs,f=e.unsentTimestampMs;return f!=null&&a?i.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:e.timestampMs,unsentTimestampMs:f}):i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(d("I64").to_float(b)))])}),o!=null?i.jsx("div",{ref:q,children:d("MWMessageDeliveryStatus").getSeenCount(o)}):i.jsx("div",{children:d("MWMessageDeliveryStatus").Titles.loading})]})},[e,q,o])};function a(a){var b=a.children,d=a.message;a=c("MWClickedMessageContext.react").useHook();var e=a.fetchMessageSeenCount;return i.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&e(d.threadKey,d.messageId)},position:"start",tooltip:i.jsx(n,{message:d}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LSMessagingThreadTypeUtil","MWPublicChatsNUXQuickPromotionContainer.entrypoint","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.thread;var b=j(function(){}),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),k=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType);i(function(){e==null&&k&&f(function(){return d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{})});return function(){e==null?void 0:e.dispose()}},[e,g,k]);if(e!=null)return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:e,props:{}})})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M21.3905 21.9975C21.1611 21.9975 20.9611 22.1536 20.9054 22.3762L19.2424 29.0265C18.9197 30.319 17.0805 30.3185 16.7577 29.0265L15.0947 22.3762C15.039 22.1536 14.839 21.9975 14.6096 21.9975H10.1675C9.21767 21.9975 8.68955 20.933 9.19619 20.1815C9.61488 19.5605 10.7291 18.1525 12.7846 17.1415C13.0959 16.9885 13.2942 16.6755 13.3207 16.33C13.4196 15.046 13.6545 12.991 13.7564 11.669C13.7849 11.3 13.606 10.945 13.2912 10.751C12.1855 10.0695 11.526 9.2765 11.2157 8.837C10.6741 8.07 11.2122 7 12.163 7H23.8376C24.7879 7 25.3255 8.0705 24.7844 8.837C24.4741 9.2765 23.8141 10.0695 22.7089 10.751C22.3941 10.945 22.2158 11.3 22.2437 11.669C22.3457 12.991 22.5805 15.046 22.6794 16.33C22.7059 16.6755 22.9048 16.9885 23.216 17.1415C25.2711 18.1525 26.3853 19.5605 26.8039 20.1815C27.3101 20.933 26.783 21.9975 25.8327 21.9975H21.3905Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUX.react",["fbt","MDSPinMessageIcon.react","MWLSThreadCapabilities.bs","MWPMessageListColumn.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__UnoAJjMNsJN__JHASH__");function a(){var a=d("MWLSThreadCapabilities.bs").useCapabilities();a=d("MWLSThreadCapabilities.bs").canPinMessage(a);return a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np xr9ek0c",children:[i.jsx(c("MDSPinMessageIcon.react"),{color:"tertiary",size:16}),i.jsx("div",{className:"x12mruv9",children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWSimpleNuxViewsCounter.react",["MWInboxPersistedUIState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=3,j=24*60*60*1e3,k=function(a,b){return+new Date()<b+a},l=function(a){return k(j,a.lastViewDate)},m=function(a){return a.views>=i},n=function(a){return!!a&&!l(a)&&!m(a)},o=function(a){return{lastViewDate:+new Date(),views:a.views+1}},p={lastViewDate:0,views:0};function a(a,b,c){a=d("MWInboxPersistedUIState").usePersistedUIState(p,"__MWSimpleNux."+a+"__");var e=a[0],f=a[1];h(function(){if(!b)return;if(l(e))return;return function(){var a=o(e);m(a)?(f(void 0),c()):f(a)}},[b,c,e,f]);return n(e)}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapper.react",["MWPinnedMessageRowFooterNUX.react","declareNUXRequireable","react","useMWSimpleNuxViewsCounter.react","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useSharedNUX")(a),d=b[0];b=b[1].onDismiss;a=c("useMWSimpleNuxViewsCounter.react")(a,d,b);return d&&a?h.jsx(c("MWPinnedMessageRowFooterNUX.react"),{}):null}a.displayName=a.name+" [from "+f.id+"]";b=c("declareNUXRequireable")(a);g["default"]=b}),98);
__d("MWMessageListProtectedMedia.bs",["fbt","$InternalEnum","CometPressable.react","MWLSThreadDisplayContext","MWVerticalRhythm","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useMemo,k=e.useRef,l=e.useState,m=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),n={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};function o(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._("__JHASH__ffo2a6Rimy8__JHASH__"),f=h._("__JHASH__SmhjEO8LZM7__JHASH__"),g=h._("__JHASH__fSHhveuOoUn__JHASH__"),j=h._("__JHASH__9LbnXUNEOkH__JHASH__"),k=h._("__JHASH__grSMjsZRe9-__JHASH__"),l=h._("__JHASH__4a9auIct2D0__JHASH__"),n=h._("__JHASH___nqNxb75_gn__JHASH__"),o=h._("__JHASH__cegqh2566-V__JHASH__"),p=h._("__JHASH__NU6koyzdQfy__JHASH__");f=i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===m.Unprotected?null:i.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:i.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:d===m.Protected?i.jsxs(i.Fragment,{children:[f,a?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?k:b==="Video"?j:l})]}):null]}):i.jsxs(i.Fragment,{children:[f,i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?o:b==="Video"?n:p})]})})},d)}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.linkProps,g=a.mediaType,h=a.onPress,p=h===void 0?c("emptyFunction"):h;h=a.overlayDisabled;h=h===void 0?!1:h;var q=a.testid,r=a.type,s=a.url;q=a.xstyle;a=a.uncoverable;a=a===void 0?!0:a;var t=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),u=l(m.Protected),v=u[0],w=u[1],x=v===m.Unprotected;u=v===m.Blurred;var y=k(null),z=j(function(){return{url:"#"}},[]),A=j(function(){if(r==="video")return;if(s!=null)return{backgroundImage:"url("+s+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[s,r]);t=i.jsxs("div",{className:c("stylex")(n.container,t==="Inbox"?n.containerForInbox:!1,a?n.containerUncoverable:!1),children:[i.jsx("div",{style:A}),i.jsx("div",{"aria-hidden":!x,className:c("stylex")(n.overlay,!x&&n.overlayDisabled,u&&n.overlayBlurred),children:e}),x?null:i.jsx("div",{className:c("stylex")(n.sneezeguard,u&&n.sneezeguardTransparent)}),i.jsx(o,{mediaType:g,state:v,uncoverable:a})]});return!a?i.jsx("div",{className:c("stylex")(q,n.pressable),"data-testid":void 0,children:t}):i.jsx(c("CometPressable.react"),{"aria-label":x?b:void 0,linkProps:x?f:z,onPress:function(){x?p():w(function(a){switch(a){case m.Protected:return m.Blurred;case m.Blurred:c("setTimeout")(function(){var a=y.current;if(a!=null)return a.focus()},0);return m.Unprotected;case m.Unprotected:return a}})},overlayDisabled:h,ref:y,testid:void 0,xstyle:[q,n.pressable],children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWFetchAudioWaveformDataForAttachment.empty",["Promise"],(function(a,b,c,d,e,f){"use strict";function g(){return b("Promise").resolve(Float32Array.of())}function a(a){return g}f["default"]=a}),66);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("useMakeRoomRingback",["I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL.bs","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=d("RTWebPreCallHooks").useJoinMeetupCallback(),e=c("useReStore")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return h(function(g){var h=g.linkUrl;g=d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:f,tl:0})).then(function(e){if(e!=null){e=d("I64").equal(e.threadType,d("LSIntEnum").ofNumber(1))?c("getRingbackUrl")(h,d("I64").to_string(e.threadKey)):(c("recoverableViolation")("Cannot ring a non user thread","rtc_www"),h);return b("Promise").resolve(a(e))}c("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve()});c("promiseDone")(g,void 0,function(a){c("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[a,f,e])}g["default"]=a}),98);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("XWebGraphQLMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function a(a){if(!a)return"0";var b="";while(a>0)b=g[a%62]+b,a=Math.floor(a/62);return b}f["default"]=a}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function a(a,b){return d("WebGraphQLLegacyHelper").getURI({controller:c("XWebGraphQLMutationController"),docID:a,variables:{input:babelHelpers["extends"]({client_mutation_id:c("base62")(h++),actor_id:c("CurrentUser").getID()},b)}})}g.getMutationURI=a}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MNCommerceCTAProcessor").logCTAClick(a)}function b(a,b){c("MNCommerceCTAProcessor").process(a,(a=b)!=null?a:void 0)}g.logCTAClick=a;g.$$process=b}),98);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","Int64Hooks","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function a(a){var b=a.entryPoint,c=a.threadKey,e=a.threadType;return d("Int64Hooks").useCallbackInt64(function(){b!=null&&h({threadKey:c,threadType:e},"seen_receipt",b)},[b,c,e])}g["default"]=a}),98);