;/*FB_PKG_DELIM*/

__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[7]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[6],d[7],f,f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",c.i64.cast([0,86]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","I64","LSFactory","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","MessageRequestsBulkActionsContext.react","MessageRequestsLog","ServerTime","TetraButtonGroup.react","emptyFunction","focusScopeQueries","promiseDone","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function l(a){return j(function(b){b.forEach(function(b){var e=d("I64").of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(e,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(a))},"readwrite"))})},[a])}function m(a){return j(function(b){b.forEach(function(b){var e=d("I64").of_string(b);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticDeleteThread")(e,c("LSFactory")(a))},"readwrite"))})},[a])}function a(a){a=a.entryPoint;var b=a===void 0?"messageRequests":a;a=k(c("MessageRequestsBulkActionsContext.react"));var e=a.setIsBulkActionsEditMode,f=a.bulkActionsUnreadSelectedThreads,g=a.bulkActionsSelectedThreads,j=c("useReStore")(),n=l(j),o=m(j),p=c("useCometConfirmationDialog")();j=function(){n(g);e(!1);return d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,g.size,f.size,5,b==="spam"?-3:-1)};var q=function(){d("MessageRequestsLog").logMessageRequestsBulkActionTapped(0,g.size,f.size,4,b==="spam"?-3:-1);return p({body:g.size===1?h._("__JHASH__MLd3xbTafSI__JHASH__"):h._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:h._("__JHASH___y3IAprClSl__JHASH__"),title:g.size===1?h._("__JHASH__zdCU4WfWx_J__JHASH__"):h._("__JHASH__6Kbu-lnpMhp__JHASH__",[h._param("Number of selected threads",String(g.size))])},function(){o(g);e(!1);d("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",d("focusScopeQueries").tabbableScopeQuery);return d("MessageRequestsLog").logMessageRequestsBulkActionConfirmed(0,g.size,f.size,4,b==="spam"?-3:-1)},c("emptyFunction"))};return i.jsx("div",{className:a.isBulkActionsEditMode?"xsag5q8":"x1s85apg",id:b==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(c("TetraButtonGroup.react"),{align:"justify",direction:"forward",primary:{disabled:g.size===0||f.size===0,label:h._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),onPress:j,testid:b==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",type:"secondary"},secondary:{disabled:g.size===0,label:h._("__JHASH___y3IAprClSl__JHASH__"),onPress:q,testid:b==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSThreadSVGIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.fill;b=b===void 0?"#000":b;var d=a.viewBox;d=d===void 0?"-8 -8 34 34":d;a=babelHelpers.objectWithoutPropertiesLoose(a,["fill","viewBox"]);return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{viewBox:d,children:h.jsx("path",{clipRule:"evenodd",d:"M19.167 9.583c-.001 5.086-3.84 8.81-9.167 8.81-.888 0-1.734-.08-2.527-.274a3.55 3.55 0 0 0-1.991.075l-3.057.938c-.493.169-.97-.31-.804-.821l.607-2.009a2.506 2.506 0 0 0-.242-2.083C1.178 12.9.834 11.326.833 9.583v-.001C.834 4.496 4.673.833 10 .833c5.328 0 9.166 3.663 9.167 8.749v.001Zm-13.75-1.25c0-.46.373-.833.833-.833h7.5a.833.833 0 1 1 0 1.667h-7.5a.833.833 0 0 1-.833-.834Zm.833 2.5a.833.833 0 1 0 0 1.667h5a.833.833 0 1 0 0-1.667h-5Z",fill:b,fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);